function Nw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ew(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Cw(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var _0={exports:{}},ll={},k0={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ca=Symbol.for("react.element"),Pw=Symbol.for("react.portal"),Tw=Symbol.for("react.fragment"),Aw=Symbol.for("react.strict_mode"),Dw=Symbol.for("react.profiler"),$w=Symbol.for("react.provider"),Ow=Symbol.for("react.context"),Rw=Symbol.for("react.forward_ref"),Mw=Symbol.for("react.suspense"),Lw=Symbol.for("react.memo"),Iw=Symbol.for("react.lazy"),ph=Symbol.iterator;function Fw(e){return e===null||typeof e!="object"?null:(e=ph&&e[ph]||e["@@iterator"],typeof e=="function"?e:null)}var S0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N0=Object.assign,E0={};function Ms(e,t,n){this.props=e,this.context=t,this.refs=E0,this.updater=n||S0}Ms.prototype.isReactComponent={};Ms.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ms.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function C0(){}C0.prototype=Ms.prototype;function Ad(e,t,n){this.props=e,this.context=t,this.refs=E0,this.updater=n||S0}var Dd=Ad.prototype=new C0;Dd.constructor=Ad;N0(Dd,Ms.prototype);Dd.isPureReactComponent=!0;var gh=Array.isArray,P0=Object.prototype.hasOwnProperty,$d={current:null},T0={key:!0,ref:!0,__self:!0,__source:!0};function A0(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)P0.call(t,r)&&!T0.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ca,type:e,key:i,ref:a,props:s,_owner:$d.current}}function Uw(e,t){return{$$typeof:ca,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Od(e){return typeof e=="object"&&e!==null&&e.$$typeof===ca}function Vw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var yh=/\/+/g;function Zl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Vw(""+e.key):t.toString(36)}function ro(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ca:case Pw:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Zl(a,0):r,gh(s)?(n="",e!=null&&(n=e.replace(yh,"$&/")+"/"),ro(s,t,n,"",function(u){return u})):s!=null&&(Od(s)&&(s=Uw(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(yh,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",gh(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Zl(i,l);a+=ro(i,t,n,c,s)}else if(c=Fw(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Zl(i,l++),a+=ro(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Sa(e,t,n){if(e==null)return e;var r=[],s=0;return ro(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Bw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var it={current:null},so={transition:null},zw={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:so,ReactCurrentOwner:$d};function D0(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Sa,forEach:function(e,t,n){Sa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Sa(e,function(){t++}),t},toArray:function(e){return Sa(e,function(t){return t})||[]},only:function(e){if(!Od(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=Ms;ne.Fragment=Tw;ne.Profiler=Dw;ne.PureComponent=Ad;ne.StrictMode=Aw;ne.Suspense=Mw;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zw;ne.act=D0;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=N0({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=$d.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)P0.call(t,c)&&!T0.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ca,type:e.type,key:s,ref:i,props:r,_owner:a}};ne.createContext=function(e){return e={$$typeof:Ow,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$w,_context:e},e.Consumer=e};ne.createElement=A0;ne.createFactory=function(e){var t=A0.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:Rw,render:e}};ne.isValidElement=Od;ne.lazy=function(e){return{$$typeof:Iw,_payload:{_status:-1,_result:e},_init:Bw}};ne.memo=function(e,t){return{$$typeof:Lw,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=so.transition;so.transition={};try{e()}finally{so.transition=t}};ne.unstable_act=D0;ne.useCallback=function(e,t){return it.current.useCallback(e,t)};ne.useContext=function(e){return it.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return it.current.useDeferredValue(e)};ne.useEffect=function(e,t){return it.current.useEffect(e,t)};ne.useId=function(){return it.current.useId()};ne.useImperativeHandle=function(e,t,n){return it.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return it.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return it.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return it.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return it.current.useReducer(e,t,n)};ne.useRef=function(e){return it.current.useRef(e)};ne.useState=function(e){return it.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return it.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return it.current.useTransition()};ne.version="18.3.1";k0.exports=ne;var h=k0.exports;const ee=Ew(h),js=Nw({__proto__:null,default:ee},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww=h,Hw=Symbol.for("react.element"),qw=Symbol.for("react.fragment"),Kw=Object.prototype.hasOwnProperty,Yw=Ww.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gw={key:!0,ref:!0,__self:!0,__source:!0};function $0(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Kw.call(t,r)&&!Gw.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Hw,type:e,key:i,ref:a,props:s,_owner:Yw.current}}ll.Fragment=qw;ll.jsx=$0;ll.jsxs=$0;_0.exports=ll;var o=_0.exports,eu={},O0={exports:{}},jt={},R0={exports:{}},M0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,M){var L=D.length;D.push(M);e:for(;0<L;){var I=L-1>>>1,H=D[I];if(0<s(H,M))D[I]=M,D[L]=H,L=I;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var M=D[0],L=D.pop();if(L!==M){D[0]=L;e:for(var I=0,H=D.length,F=H>>>1;I<F;){var z=2*(I+1)-1,R=D[z],K=z+1,q=D[K];if(0>s(R,L))K<H&&0>s(q,R)?(D[I]=q,D[K]=L,I=K):(D[I]=R,D[z]=L,I=z);else if(K<H&&0>s(q,L))D[I]=q,D[K]=L,I=K;else break e}}return M}function s(D,M){var L=D.sortIndex-M.sortIndex;return L!==0?L:D.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,m=3,p=!1,x=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(D){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=D)r(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=n(u)}}function j(D){if(w=!1,y(D),!x)if(n(c)!==null)x=!0,W(k);else{var M=n(u);M!==null&&J(j,M.startTime-D)}}function k(D,M){x=!1,w&&(w=!1,v(_),_=-1),p=!0;var L=m;try{for(y(M),f=n(c);f!==null&&(!(f.expirationTime>M)||D&&!T());){var I=f.callback;if(typeof I=="function"){f.callback=null,m=f.priorityLevel;var H=I(f.expirationTime<=M);M=e.unstable_now(),typeof H=="function"?f.callback=H:f===n(c)&&r(c),y(M)}else r(c);f=n(c)}if(f!==null)var F=!0;else{var z=n(u);z!==null&&J(j,z.startTime-M),F=!1}return F}finally{f=null,m=L,p=!1}}var N=!1,E=null,_=-1,P=5,A=-1;function T(){return!(e.unstable_now()-A<P)}function S(){if(E!==null){var D=e.unstable_now();A=D;var M=!0;try{M=E(!0,D)}finally{M?C():(N=!1,E=null)}}else N=!1}var C;if(typeof g=="function")C=function(){g(S)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,V=O.port2;O.port1.onmessage=S,C=function(){V.postMessage(null)}}else C=function(){b(S,0)};function W(D){E=D,N||(N=!0,C())}function J(D,M){_=b(function(){D(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,W(k))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(D){switch(m){case 1:case 2:case 3:var M=3;break;default:M=m}var L=m;m=M;try{return D()}finally{m=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,M){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var L=m;m=D;try{return M()}finally{m=L}},e.unstable_scheduleCallback=function(D,M,L){var I=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?I+L:I):L=I,D){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=L+H,D={id:d++,callback:M,priorityLevel:D,startTime:L,expirationTime:H,sortIndex:-1},L>I?(D.sortIndex=L,t(u,D),n(c)===null&&D===n(u)&&(w?(v(_),_=-1):w=!0,J(j,L-I))):(D.sortIndex=H,t(c,D),x||p||(x=!0,W(k))),D},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(D){var M=m;return function(){var L=m;m=M;try{return D.apply(this,arguments)}finally{m=L}}}})(M0);R0.exports=M0;var Jw=R0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qw=h,wt=Jw;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var L0=new Set,Mi={};function Ur(e,t){_s(e,t),_s(e+"Capture",t)}function _s(e,t){for(Mi[e]=t,e=0;e<t.length;e++)L0.add(t[e])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tu=Object.prototype.hasOwnProperty,Xw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vh={},xh={};function Zw(e){return tu.call(xh,e)?!0:tu.call(vh,e)?!1:Xw.test(e)?xh[e]=!0:(vh[e]=!0,!1)}function e1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function t1(e,t,n,r){if(t===null||typeof t>"u"||e1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function at(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){We[e]=new at(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];We[t]=new at(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){We[e]=new at(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){We[e]=new at(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){We[e]=new at(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){We[e]=new at(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){We[e]=new at(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){We[e]=new at(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){We[e]=new at(e,5,!1,e.toLowerCase(),null,!1,!1)});var Rd=/[\-:]([a-z])/g;function Md(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Rd,Md);We[t]=new at(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Rd,Md);We[t]=new at(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Rd,Md);We[t]=new at(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){We[e]=new at(e,1,!1,e.toLowerCase(),null,!1,!1)});We.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){We[e]=new at(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ld(e,t,n,r){var s=We.hasOwnProperty(t)?We[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t1(t,n,s,r)&&(n=null),r||s===null?Zw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var jn=Qw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Na=Symbol.for("react.element"),Zr=Symbol.for("react.portal"),es=Symbol.for("react.fragment"),Id=Symbol.for("react.strict_mode"),nu=Symbol.for("react.profiler"),I0=Symbol.for("react.provider"),F0=Symbol.for("react.context"),Fd=Symbol.for("react.forward_ref"),ru=Symbol.for("react.suspense"),su=Symbol.for("react.suspense_list"),Ud=Symbol.for("react.memo"),Tn=Symbol.for("react.lazy"),U0=Symbol.for("react.offscreen"),wh=Symbol.iterator;function Ks(e){return e===null||typeof e!="object"?null:(e=wh&&e[wh]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Object.assign,ec;function ui(e){if(ec===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ec=t&&t[1]||""}return`
`+ec+e}var tc=!1;function nc(e,t){if(!e||tc)return"";tc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{tc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ui(e):""}function n1(e){switch(e.tag){case 5:return ui(e.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 2:case 15:return e=nc(e.type,!1),e;case 11:return e=nc(e.type.render,!1),e;case 1:return e=nc(e.type,!0),e;default:return""}}function iu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case es:return"Fragment";case Zr:return"Portal";case nu:return"Profiler";case Id:return"StrictMode";case ru:return"Suspense";case su:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case F0:return(e.displayName||"Context")+".Consumer";case I0:return(e._context.displayName||"Context")+".Provider";case Fd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ud:return t=e.displayName||null,t!==null?t:iu(e.type)||"Memo";case Tn:t=e._payload,e=e._init;try{return iu(e(t))}catch{}}return null}function r1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return iu(t);case 8:return t===Id?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function er(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function V0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function s1(e){var t=V0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ea(e){e._valueTracker||(e._valueTracker=s1(e))}function B0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function bo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function au(e,t){var n=t.checked;return Se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function bh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=er(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function z0(e,t){t=t.checked,t!=null&&Ld(e,"checked",t,!1)}function ou(e,t){z0(e,t);var n=er(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lu(e,t.type,n):t.hasOwnProperty("defaultValue")&&lu(e,t.type,er(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function lu(e,t,n){(t!=="number"||bo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var di=Array.isArray;function ps(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+er(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function cu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return Se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _h(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(di(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:er(n)}}function W0(e,t){var n=er(t.value),r=er(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function kh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function H0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?H0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ca,q0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ca=Ca||document.createElement("div"),Ca.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ca.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Li(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i1=["Webkit","ms","Moz","O"];Object.keys(vi).forEach(function(e){i1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vi[t]=vi[e]})});function K0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vi.hasOwnProperty(e)&&vi[e]?(""+t).trim():t+"px"}function Y0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=K0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var a1=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function du(e,t){if(t){if(a1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function fu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=null;function Vd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mu=null,gs=null,ys=null;function Sh(e){if(e=fa(e)){if(typeof mu!="function")throw Error($(280));var t=e.stateNode;t&&(t=hl(t),mu(e.stateNode,e.type,t))}}function G0(e){gs?ys?ys.push(e):ys=[e]:gs=e}function J0(){if(gs){var e=gs,t=ys;if(ys=gs=null,Sh(e),t)for(e=0;e<t.length;e++)Sh(t[e])}}function Q0(e,t){return e(t)}function X0(){}var rc=!1;function Z0(e,t,n){if(rc)return e(t,n);rc=!0;try{return Q0(e,t,n)}finally{rc=!1,(gs!==null||ys!==null)&&(X0(),J0())}}function Ii(e,t){var n=e.stateNode;if(n===null)return null;var r=hl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var pu=!1;if(pn)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){pu=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{pu=!1}function o1(e,t,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var xi=!1,jo=null,_o=!1,gu=null,l1={onError:function(e){xi=!0,jo=e}};function c1(e,t,n,r,s,i,a,l,c){xi=!1,jo=null,o1.apply(l1,arguments)}function u1(e,t,n,r,s,i,a,l,c){if(c1.apply(this,arguments),xi){if(xi){var u=jo;xi=!1,jo=null}else throw Error($(198));_o||(_o=!0,gu=u)}}function Vr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function eg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nh(e){if(Vr(e)!==e)throw Error($(188))}function d1(e){var t=e.alternate;if(!t){if(t=Vr(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Nh(s),e;if(i===r)return Nh(s),t;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function tg(e){return e=d1(e),e!==null?ng(e):null}function ng(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ng(e);if(t!==null)return t;e=e.sibling}return null}var rg=wt.unstable_scheduleCallback,Eh=wt.unstable_cancelCallback,f1=wt.unstable_shouldYield,h1=wt.unstable_requestPaint,Ee=wt.unstable_now,m1=wt.unstable_getCurrentPriorityLevel,Bd=wt.unstable_ImmediatePriority,sg=wt.unstable_UserBlockingPriority,ko=wt.unstable_NormalPriority,p1=wt.unstable_LowPriority,ig=wt.unstable_IdlePriority,cl=null,Gt=null;function g1(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(cl,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:x1,y1=Math.log,v1=Math.LN2;function x1(e){return e>>>=0,e===0?32:31-(y1(e)/v1|0)|0}var Pa=64,Ta=4194304;function fi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function So(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=fi(l):(i&=a,i!==0&&(r=fi(i)))}else a=n&~s,a!==0?r=fi(a):i!==0&&(r=fi(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ut(t),s=1<<n,r|=e[n],t&=~s;return r}function w1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Ut(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=w1(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function yu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ag(){var e=Pa;return Pa<<=1,!(Pa&4194240)&&(Pa=64),e}function sc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ua(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=n}function j1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ut(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function zd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ut(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var fe=0;function og(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lg,Wd,cg,ug,dg,vu=!1,Aa=[],zn=null,Wn=null,Hn=null,Fi=new Map,Ui=new Map,On=[],_1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ch(e,t){switch(e){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":Fi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ui.delete(t.pointerId)}}function Gs(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=fa(t),t!==null&&Wd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function k1(e,t,n,r,s){switch(t){case"focusin":return zn=Gs(zn,e,t,n,r,s),!0;case"dragenter":return Wn=Gs(Wn,e,t,n,r,s),!0;case"mouseover":return Hn=Gs(Hn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Fi.set(i,Gs(Fi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ui.set(i,Gs(Ui.get(i)||null,e,t,n,r,s)),!0}return!1}function fg(e){var t=kr(e.target);if(t!==null){var n=Vr(t);if(n!==null){if(t=n.tag,t===13){if(t=eg(n),t!==null){e.blockedOn=t,dg(e.priority,function(){cg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function io(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);hu=r,n.target.dispatchEvent(r),hu=null}else return t=fa(n),t!==null&&Wd(t),e.blockedOn=n,!1;t.shift()}return!0}function Ph(e,t,n){io(e)&&n.delete(t)}function S1(){vu=!1,zn!==null&&io(zn)&&(zn=null),Wn!==null&&io(Wn)&&(Wn=null),Hn!==null&&io(Hn)&&(Hn=null),Fi.forEach(Ph),Ui.forEach(Ph)}function Js(e,t){e.blockedOn===t&&(e.blockedOn=null,vu||(vu=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,S1)))}function Vi(e){function t(s){return Js(s,e)}if(0<Aa.length){Js(Aa[0],e);for(var n=1;n<Aa.length;n++){var r=Aa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(zn!==null&&Js(zn,e),Wn!==null&&Js(Wn,e),Hn!==null&&Js(Hn,e),Fi.forEach(t),Ui.forEach(t),n=0;n<On.length;n++)r=On[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<On.length&&(n=On[0],n.blockedOn===null);)fg(n),n.blockedOn===null&&On.shift()}var vs=jn.ReactCurrentBatchConfig,No=!0;function N1(e,t,n,r){var s=fe,i=vs.transition;vs.transition=null;try{fe=1,Hd(e,t,n,r)}finally{fe=s,vs.transition=i}}function E1(e,t,n,r){var s=fe,i=vs.transition;vs.transition=null;try{fe=4,Hd(e,t,n,r)}finally{fe=s,vs.transition=i}}function Hd(e,t,n,r){if(No){var s=xu(e,t,n,r);if(s===null)mc(e,t,r,Eo,n),Ch(e,r);else if(k1(s,e,t,n,r))r.stopPropagation();else if(Ch(e,r),t&4&&-1<_1.indexOf(e)){for(;s!==null;){var i=fa(s);if(i!==null&&lg(i),i=xu(e,t,n,r),i===null&&mc(e,t,r,Eo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else mc(e,t,r,null,n)}}var Eo=null;function xu(e,t,n,r){if(Eo=null,e=Vd(r),e=kr(e),e!==null)if(t=Vr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=eg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Eo=e,null}function hg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m1()){case Bd:return 1;case sg:return 4;case ko:case p1:return 16;case ig:return 536870912;default:return 16}default:return 16}}var Fn=null,qd=null,ao=null;function mg(){if(ao)return ao;var e,t=qd,n=t.length,r,s="value"in Fn?Fn.value:Fn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return ao=s.slice(e,1<r?1-r:void 0)}function oo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Da(){return!0}function Th(){return!1}function _t(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Da:Th,this.isPropagationStopped=Th,this}return Se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),t}var Ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kd=_t(Ls),da=Se({},Ls,{view:0,detail:0}),C1=_t(da),ic,ac,Qs,ul=Se({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qs&&(Qs&&e.type==="mousemove"?(ic=e.screenX-Qs.screenX,ac=e.screenY-Qs.screenY):ac=ic=0,Qs=e),ic)},movementY:function(e){return"movementY"in e?e.movementY:ac}}),Ah=_t(ul),P1=Se({},ul,{dataTransfer:0}),T1=_t(P1),A1=Se({},da,{relatedTarget:0}),oc=_t(A1),D1=Se({},Ls,{animationName:0,elapsedTime:0,pseudoElement:0}),$1=_t(D1),O1=Se({},Ls,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),R1=_t(O1),M1=Se({},Ls,{data:0}),Dh=_t(M1),L1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=F1[e])?!!t[e]:!1}function Yd(){return U1}var V1=Se({},da,{key:function(e){if(e.key){var t=L1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?I1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yd,charCode:function(e){return e.type==="keypress"?oo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),B1=_t(V1),z1=Se({},ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$h=_t(z1),W1=Se({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yd}),H1=_t(W1),q1=Se({},Ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),K1=_t(q1),Y1=Se({},ul,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),G1=_t(Y1),J1=[9,13,27,32],Gd=pn&&"CompositionEvent"in window,wi=null;pn&&"documentMode"in document&&(wi=document.documentMode);var Q1=pn&&"TextEvent"in window&&!wi,pg=pn&&(!Gd||wi&&8<wi&&11>=wi),Oh=" ",Rh=!1;function gg(e,t){switch(e){case"keyup":return J1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ts=!1;function X1(e,t){switch(e){case"compositionend":return yg(t);case"keypress":return t.which!==32?null:(Rh=!0,Oh);case"textInput":return e=t.data,e===Oh&&Rh?null:e;default:return null}}function Z1(e,t){if(ts)return e==="compositionend"||!Gd&&gg(e,t)?(e=mg(),ao=qd=Fn=null,ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pg&&t.locale!=="ko"?null:t.data;default:return null}}var eb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eb[e.type]:t==="textarea"}function vg(e,t,n,r){G0(r),t=Co(t,"onChange"),0<t.length&&(n=new Kd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var bi=null,Bi=null;function tb(e){Pg(e,0)}function dl(e){var t=ss(e);if(B0(t))return e}function nb(e,t){if(e==="change")return t}var xg=!1;if(pn){var lc;if(pn){var cc="oninput"in document;if(!cc){var Lh=document.createElement("div");Lh.setAttribute("oninput","return;"),cc=typeof Lh.oninput=="function"}lc=cc}else lc=!1;xg=lc&&(!document.documentMode||9<document.documentMode)}function Ih(){bi&&(bi.detachEvent("onpropertychange",wg),Bi=bi=null)}function wg(e){if(e.propertyName==="value"&&dl(Bi)){var t=[];vg(t,Bi,e,Vd(e)),Z0(tb,t)}}function rb(e,t,n){e==="focusin"?(Ih(),bi=t,Bi=n,bi.attachEvent("onpropertychange",wg)):e==="focusout"&&Ih()}function sb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dl(Bi)}function ib(e,t){if(e==="click")return dl(t)}function ab(e,t){if(e==="input"||e==="change")return dl(t)}function ob(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:ob;function zi(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!tu.call(t,s)||!Bt(e[s],t[s]))return!1}return!0}function Fh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uh(e,t){var n=Fh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fh(n)}}function bg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jg(){for(var e=window,t=bo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=bo(e.document)}return t}function Jd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lb(e){var t=jg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&bg(n.ownerDocument.documentElement,n)){if(r!==null&&Jd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Uh(n,i);var a=Uh(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cb=pn&&"documentMode"in document&&11>=document.documentMode,ns=null,wu=null,ji=null,bu=!1;function Vh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bu||ns==null||ns!==bo(r)||(r=ns,"selectionStart"in r&&Jd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ji&&zi(ji,r)||(ji=r,r=Co(wu,"onSelect"),0<r.length&&(t=new Kd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ns)))}function $a(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var rs={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionend:$a("Transition","TransitionEnd")},uc={},_g={};pn&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete rs.animationend.animation,delete rs.animationiteration.animation,delete rs.animationstart.animation),"TransitionEvent"in window||delete rs.transitionend.transition);function fl(e){if(uc[e])return uc[e];if(!rs[e])return e;var t=rs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in _g)return uc[e]=t[n];return e}var kg=fl("animationend"),Sg=fl("animationiteration"),Ng=fl("animationstart"),Eg=fl("transitionend"),Cg=new Map,Bh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(e,t){Cg.set(e,t),Ur(t,[e])}for(var dc=0;dc<Bh.length;dc++){var fc=Bh[dc],ub=fc.toLowerCase(),db=fc[0].toUpperCase()+fc.slice(1);ir(ub,"on"+db)}ir(kg,"onAnimationEnd");ir(Sg,"onAnimationIteration");ir(Ng,"onAnimationStart");ir("dblclick","onDoubleClick");ir("focusin","onFocus");ir("focusout","onBlur");ir(Eg,"onTransitionEnd");_s("onMouseEnter",["mouseout","mouseover"]);_s("onMouseLeave",["mouseout","mouseover"]);_s("onPointerEnter",["pointerout","pointerover"]);_s("onPointerLeave",["pointerout","pointerover"]);Ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fb=new Set("cancel close invalid load scroll toggle".split(" ").concat(hi));function zh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,u1(r,t,void 0,e),e.currentTarget=null}function Pg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;zh(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;zh(s,l,u),i=c}}}if(_o)throw e=gu,_o=!1,gu=null,e}function ve(e,t){var n=t[Nu];n===void 0&&(n=t[Nu]=new Set);var r=e+"__bubble";n.has(r)||(Tg(t,e,2,!1),n.add(r))}function hc(e,t,n){var r=0;t&&(r|=4),Tg(n,e,r,t)}var Oa="_reactListening"+Math.random().toString(36).slice(2);function Wi(e){if(!e[Oa]){e[Oa]=!0,L0.forEach(function(n){n!=="selectionchange"&&(fb.has(n)||hc(n,!1,e),hc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Oa]||(t[Oa]=!0,hc("selectionchange",!1,t))}}function Tg(e,t,n,r){switch(hg(t)){case 1:var s=N1;break;case 4:s=E1;break;default:s=Hd}n=s.bind(null,t,n,e),s=void 0,!pu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function mc(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=kr(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}Z0(function(){var u=i,d=Vd(n),f=[];e:{var m=Cg.get(e);if(m!==void 0){var p=Kd,x=e;switch(e){case"keypress":if(oo(n)===0)break e;case"keydown":case"keyup":p=B1;break;case"focusin":x="focus",p=oc;break;case"focusout":x="blur",p=oc;break;case"beforeblur":case"afterblur":p=oc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=T1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=H1;break;case kg:case Sg:case Ng:p=$1;break;case Eg:p=K1;break;case"scroll":p=C1;break;case"wheel":p=G1;break;case"copy":case"cut":case"paste":p=R1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=$h}var w=(t&4)!==0,b=!w&&e==="scroll",v=w?m!==null?m+"Capture":null:m;w=[];for(var g=u,y;g!==null;){y=g;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,v!==null&&(j=Ii(g,v),j!=null&&w.push(Hi(g,j,y)))),b)break;g=g.return}0<w.length&&(m=new p(m,x,null,n,d),f.push({event:m,listeners:w}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==hu&&(x=n.relatedTarget||n.fromElement)&&(kr(x)||x[gn]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=u,x=x?kr(x):null,x!==null&&(b=Vr(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(w=Ah,j="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(w=$h,j="onPointerLeave",v="onPointerEnter",g="pointer"),b=p==null?m:ss(p),y=x==null?m:ss(x),m=new w(j,g+"leave",p,n,d),m.target=b,m.relatedTarget=y,j=null,kr(d)===u&&(w=new w(v,g+"enter",x,n,d),w.target=y,w.relatedTarget=b,j=w),b=j,p&&x)t:{for(w=p,v=x,g=0,y=w;y;y=Kr(y))g++;for(y=0,j=v;j;j=Kr(j))y++;for(;0<g-y;)w=Kr(w),g--;for(;0<y-g;)v=Kr(v),y--;for(;g--;){if(w===v||v!==null&&w===v.alternate)break t;w=Kr(w),v=Kr(v)}w=null}else w=null;p!==null&&Wh(f,m,p,w,!1),x!==null&&b!==null&&Wh(f,b,x,w,!0)}}e:{if(m=u?ss(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var k=nb;else if(Mh(m))if(xg)k=ab;else{k=sb;var N=rb}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=ib);if(k&&(k=k(e,u))){vg(f,k,n,d);break e}N&&N(e,m,u),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&lu(m,"number",m.value)}switch(N=u?ss(u):window,e){case"focusin":(Mh(N)||N.contentEditable==="true")&&(ns=N,wu=u,ji=null);break;case"focusout":ji=wu=ns=null;break;case"mousedown":bu=!0;break;case"contextmenu":case"mouseup":case"dragend":bu=!1,Vh(f,n,d);break;case"selectionchange":if(cb)break;case"keydown":case"keyup":Vh(f,n,d)}var E;if(Gd)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ts?gg(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(pg&&n.locale!=="ko"&&(ts||_!=="onCompositionStart"?_==="onCompositionEnd"&&ts&&(E=mg()):(Fn=d,qd="value"in Fn?Fn.value:Fn.textContent,ts=!0)),N=Co(u,_),0<N.length&&(_=new Dh(_,e,null,n,d),f.push({event:_,listeners:N}),E?_.data=E:(E=yg(n),E!==null&&(_.data=E)))),(E=Q1?X1(e,n):Z1(e,n))&&(u=Co(u,"onBeforeInput"),0<u.length&&(d=new Dh("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}Pg(f,t)})}function Hi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Co(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ii(e,n),i!=null&&r.unshift(Hi(e,i,s)),i=Ii(e,t),i!=null&&r.push(Hi(e,i,s))),e=e.return}return r}function Kr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wh(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Ii(n,i),c!=null&&a.unshift(Hi(n,c,l))):s||(c=Ii(n,i),c!=null&&a.push(Hi(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var hb=/\r\n?/g,mb=/\u0000|\uFFFD/g;function Hh(e){return(typeof e=="string"?e:""+e).replace(hb,`
`).replace(mb,"")}function Ra(e,t,n){if(t=Hh(t),Hh(e)!==t&&n)throw Error($(425))}function Po(){}var ju=null,_u=null;function ku(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Su=typeof setTimeout=="function"?setTimeout:void 0,pb=typeof clearTimeout=="function"?clearTimeout:void 0,qh=typeof Promise=="function"?Promise:void 0,gb=typeof queueMicrotask=="function"?queueMicrotask:typeof qh<"u"?function(e){return qh.resolve(null).then(e).catch(yb)}:Su;function yb(e){setTimeout(function(){throw e})}function pc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Vi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Vi(t)}function qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Is=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Is,qi="__reactProps$"+Is,gn="__reactContainer$"+Is,Nu="__reactEvents$"+Is,vb="__reactListeners$"+Is,xb="__reactHandles$"+Is;function kr(e){var t=e[Yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gn]||n[Yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Kh(e);e!==null;){if(n=e[Yt])return n;e=Kh(e)}return t}e=n,n=e.parentNode}return null}function fa(e){return e=e[Yt]||e[gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ss(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function hl(e){return e[qi]||null}var Eu=[],is=-1;function ar(e){return{current:e}}function xe(e){0>is||(e.current=Eu[is],Eu[is]=null,is--)}function ge(e,t){is++,Eu[is]=e.current,e.current=t}var tr={},Xe=ar(tr),ft=ar(!1),Or=tr;function ks(e,t){var n=e.type.contextTypes;if(!n)return tr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ht(e){return e=e.childContextTypes,e!=null}function To(){xe(ft),xe(Xe)}function Yh(e,t,n){if(Xe.current!==tr)throw Error($(168));ge(Xe,t),ge(ft,n)}function Ag(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error($(108,r1(e)||"Unknown",s));return Se({},n,r)}function Ao(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tr,Or=Xe.current,ge(Xe,e),ge(ft,ft.current),!0}function Gh(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=Ag(e,t,Or),r.__reactInternalMemoizedMergedChildContext=e,xe(ft),xe(Xe),ge(Xe,e)):xe(ft),ge(ft,n)}var sn=null,ml=!1,gc=!1;function Dg(e){sn===null?sn=[e]:sn.push(e)}function wb(e){ml=!0,Dg(e)}function or(){if(!gc&&sn!==null){gc=!0;var e=0,t=fe;try{var n=sn;for(fe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}sn=null,ml=!1}catch(s){throw sn!==null&&(sn=sn.slice(e+1)),rg(Bd,or),s}finally{fe=t,gc=!1}}return null}var as=[],os=0,Do=null,$o=0,Nt=[],Et=0,Rr=null,on=1,ln="";function gr(e,t){as[os++]=$o,as[os++]=Do,Do=e,$o=t}function $g(e,t,n){Nt[Et++]=on,Nt[Et++]=ln,Nt[Et++]=Rr,Rr=e;var r=on;e=ln;var s=32-Ut(r)-1;r&=~(1<<s),n+=1;var i=32-Ut(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,on=1<<32-Ut(t)+s|n<<s|r,ln=i+e}else on=1<<i|n<<s|r,ln=e}function Qd(e){e.return!==null&&(gr(e,1),$g(e,1,0))}function Xd(e){for(;e===Do;)Do=as[--os],as[os]=null,$o=as[--os],as[os]=null;for(;e===Rr;)Rr=Nt[--Et],Nt[Et]=null,ln=Nt[--Et],Nt[Et]=null,on=Nt[--Et],Nt[Et]=null}var xt=null,vt=null,we=!1,It=null;function Og(e,t){var n=Ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Jh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,vt=qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rr!==null?{id:on,overflow:ln}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xt=e,vt=null,!0):!1;default:return!1}}function Cu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pu(e){if(we){var t=vt;if(t){var n=t;if(!Jh(e,t)){if(Cu(e))throw Error($(418));t=qn(n.nextSibling);var r=xt;t&&Jh(e,t)?Og(r,n):(e.flags=e.flags&-4097|2,we=!1,xt=e)}}else{if(Cu(e))throw Error($(418));e.flags=e.flags&-4097|2,we=!1,xt=e}}}function Qh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function Ma(e){if(e!==xt)return!1;if(!we)return Qh(e),we=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ku(e.type,e.memoizedProps)),t&&(t=vt)){if(Cu(e))throw Rg(),Error($(418));for(;t;)Og(e,t),t=qn(t.nextSibling)}if(Qh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vt=qn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=xt?qn(e.stateNode.nextSibling):null;return!0}function Rg(){for(var e=vt;e;)e=qn(e.nextSibling)}function Ss(){vt=xt=null,we=!1}function Zd(e){It===null?It=[e]:It.push(e)}var bb=jn.ReactCurrentBatchConfig;function Xs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function La(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xh(e){var t=e._init;return t(e._payload)}function Mg(e){function t(v,g){if(e){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=Jn(v,g),v.index=0,v.sibling=null,v}function i(v,g,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=2,g):y):(v.flags|=2,g)):(v.flags|=1048576,g)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,g,y,j){return g===null||g.tag!==6?(g=_c(y,v.mode,j),g.return=v,g):(g=s(g,y),g.return=v,g)}function c(v,g,y,j){var k=y.type;return k===es?d(v,g,y.props.children,j,y.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Tn&&Xh(k)===g.type)?(j=s(g,y.props),j.ref=Xs(v,g,y),j.return=v,j):(j=po(y.type,y.key,y.props,null,v.mode,j),j.ref=Xs(v,g,y),j.return=v,j)}function u(v,g,y,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=kc(y,v.mode,j),g.return=v,g):(g=s(g,y.children||[]),g.return=v,g)}function d(v,g,y,j,k){return g===null||g.tag!==7?(g=Dr(y,v.mode,j,k),g.return=v,g):(g=s(g,y),g.return=v,g)}function f(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=_c(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Na:return y=po(g.type,g.key,g.props,null,v.mode,y),y.ref=Xs(v,null,g),y.return=v,y;case Zr:return g=kc(g,v.mode,y),g.return=v,g;case Tn:var j=g._init;return f(v,j(g._payload),y)}if(di(g)||Ks(g))return g=Dr(g,v.mode,y,null),g.return=v,g;La(v,g)}return null}function m(v,g,y,j){var k=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:l(v,g,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Na:return y.key===k?c(v,g,y,j):null;case Zr:return y.key===k?u(v,g,y,j):null;case Tn:return k=y._init,m(v,g,k(y._payload),j)}if(di(y)||Ks(y))return k!==null?null:d(v,g,y,j,null);La(v,y)}return null}function p(v,g,y,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(y)||null,l(g,v,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Na:return v=v.get(j.key===null?y:j.key)||null,c(g,v,j,k);case Zr:return v=v.get(j.key===null?y:j.key)||null,u(g,v,j,k);case Tn:var N=j._init;return p(v,g,y,N(j._payload),k)}if(di(j)||Ks(j))return v=v.get(y)||null,d(g,v,j,k,null);La(g,j)}return null}function x(v,g,y,j){for(var k=null,N=null,E=g,_=g=0,P=null;E!==null&&_<y.length;_++){E.index>_?(P=E,E=null):P=E.sibling;var A=m(v,E,y[_],j);if(A===null){E===null&&(E=P);break}e&&E&&A.alternate===null&&t(v,E),g=i(A,g,_),N===null?k=A:N.sibling=A,N=A,E=P}if(_===y.length)return n(v,E),we&&gr(v,_),k;if(E===null){for(;_<y.length;_++)E=f(v,y[_],j),E!==null&&(g=i(E,g,_),N===null?k=E:N.sibling=E,N=E);return we&&gr(v,_),k}for(E=r(v,E);_<y.length;_++)P=p(E,v,_,y[_],j),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?_:P.key),g=i(P,g,_),N===null?k=P:N.sibling=P,N=P);return e&&E.forEach(function(T){return t(v,T)}),we&&gr(v,_),k}function w(v,g,y,j){var k=Ks(y);if(typeof k!="function")throw Error($(150));if(y=k.call(y),y==null)throw Error($(151));for(var N=k=null,E=g,_=g=0,P=null,A=y.next();E!==null&&!A.done;_++,A=y.next()){E.index>_?(P=E,E=null):P=E.sibling;var T=m(v,E,A.value,j);if(T===null){E===null&&(E=P);break}e&&E&&T.alternate===null&&t(v,E),g=i(T,g,_),N===null?k=T:N.sibling=T,N=T,E=P}if(A.done)return n(v,E),we&&gr(v,_),k;if(E===null){for(;!A.done;_++,A=y.next())A=f(v,A.value,j),A!==null&&(g=i(A,g,_),N===null?k=A:N.sibling=A,N=A);return we&&gr(v,_),k}for(E=r(v,E);!A.done;_++,A=y.next())A=p(E,v,_,A.value,j),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?_:A.key),g=i(A,g,_),N===null?k=A:N.sibling=A,N=A);return e&&E.forEach(function(S){return t(v,S)}),we&&gr(v,_),k}function b(v,g,y,j){if(typeof y=="object"&&y!==null&&y.type===es&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Na:e:{for(var k=y.key,N=g;N!==null;){if(N.key===k){if(k=y.type,k===es){if(N.tag===7){n(v,N.sibling),g=s(N,y.props.children),g.return=v,v=g;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Tn&&Xh(k)===N.type){n(v,N.sibling),g=s(N,y.props),g.ref=Xs(v,N,y),g.return=v,v=g;break e}n(v,N);break}else t(v,N);N=N.sibling}y.type===es?(g=Dr(y.props.children,v.mode,j,y.key),g.return=v,v=g):(j=po(y.type,y.key,y.props,null,v.mode,j),j.ref=Xs(v,g,y),j.return=v,v=j)}return a(v);case Zr:e:{for(N=y.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(v,g.sibling),g=s(g,y.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else t(v,g);g=g.sibling}g=kc(y,v.mode,j),g.return=v,v=g}return a(v);case Tn:return N=y._init,b(v,g,N(y._payload),j)}if(di(y))return x(v,g,y,j);if(Ks(y))return w(v,g,y,j);La(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(v,g.sibling),g=s(g,y),g.return=v,v=g):(n(v,g),g=_c(y,v.mode,j),g.return=v,v=g),a(v)):n(v,g)}return b}var Ns=Mg(!0),Lg=Mg(!1),Oo=ar(null),Ro=null,ls=null,ef=null;function tf(){ef=ls=Ro=null}function nf(e){var t=Oo.current;xe(Oo),e._currentValue=t}function Tu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xs(e,t){Ro=e,ef=ls=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dt=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(ef!==e)if(e={context:e,memoizedValue:t,next:null},ls===null){if(Ro===null)throw Error($(308));ls=e,Ro.dependencies={lanes:0,firstContext:e}}else ls=ls.next=e;return t}var Sr=null;function rf(e){Sr===null?Sr=[e]:Sr.push(e)}function Ig(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,rf(t)):(n.next=s.next,s.next=n),t.interleaved=n,yn(e,r)}function yn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var An=!1;function sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function un(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,yn(e,n)}return s=r.interleaved,s===null?(t.next=t,rf(r)):(t.next=s.next,s.next=t),r.interleaved=t,yn(e,n)}function lo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zd(e,n)}}function Zh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mo(e,t,n,r){var s=e.updateQueue;An=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,d=u=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,w=l;switch(m=t,p=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){f=x.call(p,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,m=typeof x=="function"?x.call(p,f,m):x,m==null)break e;f=Se({},f,m);break e;case 2:An=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Lr|=a,e.lanes=a,e.memoizedState=f}}function em(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var ha={},Jt=ar(ha),Ki=ar(ha),Yi=ar(ha);function Nr(e){if(e===ha)throw Error($(174));return e}function af(e,t){switch(ge(Yi,t),ge(Ki,e),ge(Jt,ha),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:uu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=uu(t,e)}xe(Jt),ge(Jt,t)}function Es(){xe(Jt),xe(Ki),xe(Yi)}function Ug(e){Nr(Yi.current);var t=Nr(Jt.current),n=uu(t,e.type);t!==n&&(ge(Ki,e),ge(Jt,n))}function of(e){Ki.current===e&&(xe(Jt),xe(Ki))}var be=ar(0);function Lo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yc=[];function lf(){for(var e=0;e<yc.length;e++)yc[e]._workInProgressVersionPrimary=null;yc.length=0}var co=jn.ReactCurrentDispatcher,vc=jn.ReactCurrentBatchConfig,Mr=0,ke=null,De=null,Le=null,Io=!1,_i=!1,Gi=0,jb=0;function Ke(){throw Error($(321))}function cf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bt(e[n],t[n]))return!1;return!0}function uf(e,t,n,r,s,i){if(Mr=i,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,co.current=e===null||e.memoizedState===null?Nb:Eb,e=n(r,s),_i){i=0;do{if(_i=!1,Gi=0,25<=i)throw Error($(301));i+=1,Le=De=null,t.updateQueue=null,co.current=Cb,e=n(r,s)}while(_i)}if(co.current=Fo,t=De!==null&&De.next!==null,Mr=0,Le=De=ke=null,Io=!1,t)throw Error($(300));return e}function df(){var e=Gi!==0;return Gi=0,e}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?ke.memoizedState=Le=e:Le=Le.next=e,Le}function Dt(){if(De===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Le===null?ke.memoizedState:Le.next;if(t!==null)Le=t,De=e;else{if(e===null)throw Error($(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Le===null?ke.memoizedState=Le=e:Le=Le.next=e}return Le}function Ji(e,t){return typeof t=="function"?t(e):t}function xc(e){var t=Dt(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=De,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Mr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,ke.lanes|=d,Lr|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,Bt(r,t.memoizedState)||(dt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ke.lanes|=i,Lr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wc(e){var t=Dt(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Bt(i,t.memoizedState)||(dt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Vg(){}function Bg(e,t){var n=ke,r=Dt(),s=t(),i=!Bt(r.memoizedState,s);if(i&&(r.memoizedState=s,dt=!0),r=r.queue,ff(Hg.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,Qi(9,Wg.bind(null,n,r,s,t),void 0,null),Fe===null)throw Error($(349));Mr&30||zg(n,t,s)}return s}function zg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Wg(e,t,n,r){t.value=n,t.getSnapshot=r,qg(t)&&Kg(e)}function Hg(e,t,n){return n(function(){qg(t)&&Kg(e)})}function qg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bt(e,n)}catch{return!0}}function Kg(e){var t=yn(e,1);t!==null&&Vt(t,e,1,-1)}function tm(e){var t=Kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},t.queue=e,e=e.dispatch=Sb.bind(null,ke,e),[t.memoizedState,e]}function Qi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Yg(){return Dt().memoizedState}function uo(e,t,n,r){var s=Kt();ke.flags|=e,s.memoizedState=Qi(1|t,n,void 0,r===void 0?null:r)}function pl(e,t,n,r){var s=Dt();r=r===void 0?null:r;var i=void 0;if(De!==null){var a=De.memoizedState;if(i=a.destroy,r!==null&&cf(r,a.deps)){s.memoizedState=Qi(t,n,i,r);return}}ke.flags|=e,s.memoizedState=Qi(1|t,n,i,r)}function nm(e,t){return uo(8390656,8,e,t)}function ff(e,t){return pl(2048,8,e,t)}function Gg(e,t){return pl(4,2,e,t)}function Jg(e,t){return pl(4,4,e,t)}function Qg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xg(e,t,n){return n=n!=null?n.concat([e]):null,pl(4,4,Qg.bind(null,t,e),n)}function hf(){}function Zg(e,t){var n=Dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ey(e,t){var n=Dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ty(e,t,n){return Mr&21?(Bt(n,t)||(n=ag(),ke.lanes|=n,Lr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dt=!0),e.memoizedState=n)}function _b(e,t){var n=fe;fe=n!==0&&4>n?n:4,e(!0);var r=vc.transition;vc.transition={};try{e(!1),t()}finally{fe=n,vc.transition=r}}function ny(){return Dt().memoizedState}function kb(e,t,n){var r=Gn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ry(e))sy(t,n);else if(n=Ig(e,t,n,r),n!==null){var s=st();Vt(n,e,r,s),iy(n,t,r)}}function Sb(e,t,n){var r=Gn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ry(e))sy(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,Bt(l,a)){var c=t.interleaved;c===null?(s.next=s,rf(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Ig(e,t,s,r),n!==null&&(s=st(),Vt(n,e,r,s),iy(n,t,r))}}function ry(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function sy(e,t){_i=Io=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function iy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zd(e,n)}}var Fo={readContext:At,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},Nb={readContext:At,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:nm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,uo(4194308,4,Qg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return uo(4,2,e,t)},useMemo:function(e,t){var n=Kt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Kt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=kb.bind(null,ke,e),[r.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:tm,useDebugValue:hf,useDeferredValue:function(e){return Kt().memoizedState=e},useTransition:function(){var e=tm(!1),t=e[0];return e=_b.bind(null,e[1]),Kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ke,s=Kt();if(we){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),Fe===null)throw Error($(349));Mr&30||zg(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,nm(Hg.bind(null,r,i,e),[e]),r.flags|=2048,Qi(9,Wg.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Kt(),t=Fe.identifierPrefix;if(we){var n=ln,r=on;n=(r&~(1<<32-Ut(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Gi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=jb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Eb={readContext:At,useCallback:Zg,useContext:At,useEffect:ff,useImperativeHandle:Xg,useInsertionEffect:Gg,useLayoutEffect:Jg,useMemo:ey,useReducer:xc,useRef:Yg,useState:function(){return xc(Ji)},useDebugValue:hf,useDeferredValue:function(e){var t=Dt();return ty(t,De.memoizedState,e)},useTransition:function(){var e=xc(Ji)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:Vg,useSyncExternalStore:Bg,useId:ny,unstable_isNewReconciler:!1},Cb={readContext:At,useCallback:Zg,useContext:At,useEffect:ff,useImperativeHandle:Xg,useInsertionEffect:Gg,useLayoutEffect:Jg,useMemo:ey,useReducer:wc,useRef:Yg,useState:function(){return wc(Ji)},useDebugValue:hf,useDeferredValue:function(e){var t=Dt();return De===null?t.memoizedState=e:ty(t,De.memoizedState,e)},useTransition:function(){var e=wc(Ji)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:Vg,useSyncExternalStore:Bg,useId:ny,unstable_isNewReconciler:!1};function Rt(e,t){if(e&&e.defaultProps){t=Se({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Au(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Se({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gl={isMounted:function(e){return(e=e._reactInternals)?Vr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=st(),s=Gn(e),i=un(r,s);i.payload=t,n!=null&&(i.callback=n),t=Kn(e,i,s),t!==null&&(Vt(t,e,s,r),lo(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=st(),s=Gn(e),i=un(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Kn(e,i,s),t!==null&&(Vt(t,e,s,r),lo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=st(),r=Gn(e),s=un(n,r);s.tag=2,t!=null&&(s.callback=t),t=Kn(e,s,r),t!==null&&(Vt(t,e,r,n),lo(t,e,r))}};function rm(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!zi(n,r)||!zi(s,i):!0}function ay(e,t,n){var r=!1,s=tr,i=t.contextType;return typeof i=="object"&&i!==null?i=At(i):(s=ht(t)?Or:Xe.current,r=t.contextTypes,i=(r=r!=null)?ks(e,s):tr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function sm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gl.enqueueReplaceState(t,t.state,null)}function Du(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},sf(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=At(i):(i=ht(t)?Or:Xe.current,s.context=ks(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Au(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&gl.enqueueReplaceState(s,s.state,null),Mo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Cs(e,t){try{var n="",r=t;do n+=n1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function bc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $u(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Pb=typeof WeakMap=="function"?WeakMap:Map;function oy(e,t,n){n=un(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vo||(Vo=!0,zu=r),$u(e,t)},n}function ly(e,t,n){n=un(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){$u(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){$u(e,t),typeof r!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function im(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Pb;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=zb.bind(null,e,t,n),t.then(e,e))}function am(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function om(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=un(-1,1),t.tag=2,Kn(n,t,1))),n.lanes|=1),e)}var Tb=jn.ReactCurrentOwner,dt=!1;function tt(e,t,n,r){t.child=e===null?Lg(t,null,n,r):Ns(t,e.child,n,r)}function lm(e,t,n,r,s){n=n.render;var i=t.ref;return xs(t,s),r=uf(e,t,n,r,i,s),n=df(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(we&&n&&Qd(t),t.flags|=1,tt(e,t,r,s),t.child)}function cm(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!bf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,cy(e,t,i,r,s)):(e=po(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:zi,n(a,r)&&e.ref===t.ref)return vn(e,t,s)}return t.flags|=1,e=Jn(i,r),e.ref=t.ref,e.return=t,t.child=e}function cy(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(zi(i,r)&&e.ref===t.ref)if(dt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(dt=!0);else return t.lanes=e.lanes,vn(e,t,s)}return Ou(e,t,n,r,s)}function uy(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(us,yt),yt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(us,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ge(us,yt),yt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ge(us,yt),yt|=r;return tt(e,t,s,n),t.child}function dy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ou(e,t,n,r,s){var i=ht(n)?Or:Xe.current;return i=ks(t,i),xs(t,s),n=uf(e,t,n,r,i,s),r=df(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(we&&r&&Qd(t),t.flags|=1,tt(e,t,n,s),t.child)}function um(e,t,n,r,s){if(ht(n)){var i=!0;Ao(t)}else i=!1;if(xs(t,s),t.stateNode===null)fo(e,t),ay(t,n,r),Du(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=At(u):(u=ht(n)?Or:Xe.current,u=ks(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&sm(t,a,r,u),An=!1;var m=t.memoizedState;a.state=m,Mo(t,r,a,s),c=t.memoizedState,l!==r||m!==c||ft.current||An?(typeof d=="function"&&(Au(t,n,d,r),c=t.memoizedState),(l=An||rm(t,n,l,r,m,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Rt(t.type,l),a.props=u,f=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=At(c):(c=ht(n)?Or:Xe.current,c=ks(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&sm(t,a,r,c),An=!1,m=t.memoizedState,a.state=m,Mo(t,r,a,s);var x=t.memoizedState;l!==f||m!==x||ft.current||An?(typeof p=="function"&&(Au(t,n,p,r),x=t.memoizedState),(u=An||rm(t,n,u,r,m,x,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,x,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,x,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),a.props=r,a.state=x,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Ru(e,t,n,r,i,s)}function Ru(e,t,n,r,s,i){dy(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Gh(t,n,!1),vn(e,t,i);r=t.stateNode,Tb.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Ns(t,e.child,null,i),t.child=Ns(t,null,l,i)):tt(e,t,l,i),t.memoizedState=r.state,s&&Gh(t,n,!0),t.child}function fy(e){var t=e.stateNode;t.pendingContext?Yh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yh(e,t.context,!1),af(e,t.containerInfo)}function dm(e,t,n,r,s){return Ss(),Zd(s),t.flags|=256,tt(e,t,n,r),t.child}var Mu={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function hy(e,t,n){var r=t.pendingProps,s=be.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ge(be,s&1),e===null)return Pu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=xl(a,r,0,null),e=Dr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Lu(n),t.memoizedState=Mu,e):mf(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Ab(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Jn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Jn(l,i):(i=Dr(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?Lu(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Mu,r}return i=e.child,e=i.sibling,r=Jn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function mf(e,t){return t=xl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ia(e,t,n,r){return r!==null&&Zd(r),Ns(t,e.child,null,n),e=mf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ab(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=bc(Error($(422))),Ia(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=xl({mode:"visible",children:r.children},s,0,null),i=Dr(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ns(t,e.child,null,a),t.child.memoizedState=Lu(a),t.memoizedState=Mu,i);if(!(t.mode&1))return Ia(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error($(419)),r=bc(i,r,void 0),Ia(e,t,a,r)}if(l=(a&e.childLanes)!==0,dt||l){if(r=Fe,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,yn(e,s),Vt(r,e,s,-1))}return wf(),r=bc(Error($(421))),Ia(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Wb.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,vt=qn(s.nextSibling),xt=t,we=!0,It=null,e!==null&&(Nt[Et++]=on,Nt[Et++]=ln,Nt[Et++]=Rr,on=e.id,ln=e.overflow,Rr=t),t=mf(t,r.children),t.flags|=4096,t)}function fm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Tu(e.return,t,n)}function jc(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function my(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(tt(e,t,r.children,n),r=be.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fm(e,n,t);else if(e.tag===19)fm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ge(be,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Lo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),jc(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Lo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}jc(t,!0,n,null,i);break;case"together":jc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Lr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=Jn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Db(e,t,n){switch(t.tag){case 3:fy(t),Ss();break;case 5:Ug(t);break;case 1:ht(t.type)&&Ao(t);break;case 4:af(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ge(Oo,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ge(be,be.current&1),t.flags|=128,null):n&t.child.childLanes?hy(e,t,n):(ge(be,be.current&1),e=vn(e,t,n),e!==null?e.sibling:null);ge(be,be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return my(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(be,be.current),r)break;return null;case 22:case 23:return t.lanes=0,uy(e,t,n)}return vn(e,t,n)}var py,Iu,gy,yy;py=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Iu=function(){};gy=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Nr(Jt.current);var i=null;switch(n){case"input":s=au(e,s),r=au(e,r),i=[];break;case"select":s=Se({},s,{value:void 0}),r=Se({},r,{value:void 0}),i=[];break;case"textarea":s=cu(e,s),r=cu(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Po)}du(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ve("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};yy=function(e,t,n,r){n!==r&&(t.flags|=4)};function Zs(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $b(e,t,n){var r=t.pendingProps;switch(Xd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return ht(t.type)&&To(),Ye(t),null;case 3:return r=t.stateNode,Es(),xe(ft),xe(Xe),lf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ma(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,It!==null&&(qu(It),It=null))),Iu(e,t),Ye(t),null;case 5:of(t);var s=Nr(Yi.current);if(n=t.type,e!==null&&t.stateNode!=null)gy(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return Ye(t),null}if(e=Nr(Jt.current),Ma(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Yt]=t,r[qi]=i,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(s=0;s<hi.length;s++)ve(hi[s],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":bh(r,i),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ve("invalid",r);break;case"textarea":_h(r,i),ve("invalid",r)}du(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ra(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ra(r.textContent,l,e),s=["children",""+l]):Mi.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ve("scroll",r)}switch(n){case"input":Ea(r),jh(r,i,!0);break;case"textarea":Ea(r),kh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Po)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=H0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Yt]=t,e[qi]=r,py(e,t,!1,!1),t.stateNode=e;e:{switch(a=fu(n,r),n){case"dialog":ve("cancel",e),ve("close",e),s=r;break;case"iframe":case"object":case"embed":ve("load",e),s=r;break;case"video":case"audio":for(s=0;s<hi.length;s++)ve(hi[s],e);s=r;break;case"source":ve("error",e),s=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),s=r;break;case"details":ve("toggle",e),s=r;break;case"input":bh(e,r),s=au(e,r),ve("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Se({},r,{value:void 0}),ve("invalid",e);break;case"textarea":_h(e,r),s=cu(e,r),ve("invalid",e);break;default:s=r}du(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Y0(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&q0(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Li(e,c):typeof c=="number"&&Li(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Mi.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ve("scroll",e):c!=null&&Ld(e,i,c,a))}switch(n){case"input":Ea(e),jh(e,r,!1);break;case"textarea":Ea(e),kh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+er(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ps(e,!!r.multiple,i,!1):r.defaultValue!=null&&ps(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Po)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)yy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(n=Nr(Yi.current),Nr(Jt.current),Ma(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yt]=t,(i=r.nodeValue!==n)&&(e=xt,e!==null))switch(e.tag){case 3:Ra(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ra(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yt]=t,t.stateNode=r}return Ye(t),null;case 13:if(xe(be),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(we&&vt!==null&&t.mode&1&&!(t.flags&128))Rg(),Ss(),t.flags|=98560,i=!1;else if(i=Ma(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error($(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[Yt]=t}else Ss(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),i=!1}else It!==null&&(qu(It),It=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||be.current&1?Oe===0&&(Oe=3):wf())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return Es(),Iu(e,t),e===null&&Wi(t.stateNode.containerInfo),Ye(t),null;case 10:return nf(t.type._context),Ye(t),null;case 17:return ht(t.type)&&To(),Ye(t),null;case 19:if(xe(be),i=t.memoizedState,i===null)return Ye(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Zs(i,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Lo(e),a!==null){for(t.flags|=128,Zs(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ge(be,be.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ee()>Ps&&(t.flags|=128,r=!0,Zs(i,!1),t.lanes=4194304)}else{if(!r)if(e=Lo(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!we)return Ye(t),null}else 2*Ee()-i.renderingStartTime>Ps&&n!==1073741824&&(t.flags|=128,r=!0,Zs(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ee(),t.sibling=null,n=be.current,ge(be,r?n&1|2:n&1),t):(Ye(t),null);case 22:case 23:return xf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yt&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function Ob(e,t){switch(Xd(t),t.tag){case 1:return ht(t.type)&&To(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Es(),xe(ft),xe(Xe),lf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return of(t),null;case 13:if(xe(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Ss()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(be),null;case 4:return Es(),null;case 10:return nf(t.type._context),null;case 22:case 23:return xf(),null;case 24:return null;default:return null}}var Fa=!1,Qe=!1,Rb=typeof WeakSet=="function"?WeakSet:Set,U=null;function cs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ne(e,t,r)}else n.current=null}function Fu(e,t,n){try{n()}catch(r){Ne(e,t,r)}}var hm=!1;function Mb(e,t){if(ju=No,e=jg(),Jd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===n&&++u===s&&(l=a),m===i&&++d===r&&(c=a),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(_u={focusedElem:e,selectionRange:n},No=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,b=x.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?w:Rt(t.type,w),b);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(j){Ne(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return x=hm,hm=!1,x}function ki(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Fu(t,n,i)}s=s.next}while(s!==r)}}function yl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Uu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function vy(e){var t=e.alternate;t!==null&&(e.alternate=null,vy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[qi],delete t[Nu],delete t[vb],delete t[xb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xy(e){return e.tag===5||e.tag===3||e.tag===4}function mm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Po));else if(r!==4&&(e=e.child,e!==null))for(Vu(e,t,n),e=e.sibling;e!==null;)Vu(e,t,n),e=e.sibling}function Bu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Bu(e,t,n),e=e.sibling;e!==null;)Bu(e,t,n),e=e.sibling}var Ve=null,Mt=!1;function kn(e,t,n){for(n=n.child;n!==null;)wy(e,t,n),n=n.sibling}function wy(e,t,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(cl,n)}catch{}switch(n.tag){case 5:Qe||cs(n,t);case 6:var r=Ve,s=Mt;Ve=null,kn(e,t,n),Ve=r,Mt=s,Ve!==null&&(Mt?(e=Ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Mt?(e=Ve,n=n.stateNode,e.nodeType===8?pc(e.parentNode,n):e.nodeType===1&&pc(e,n),Vi(e)):pc(Ve,n.stateNode));break;case 4:r=Ve,s=Mt,Ve=n.stateNode.containerInfo,Mt=!0,kn(e,t,n),Ve=r,Mt=s;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Fu(n,t,a),s=s.next}while(s!==r)}kn(e,t,n);break;case 1:if(!Qe&&(cs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ne(n,t,l)}kn(e,t,n);break;case 21:kn(e,t,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,kn(e,t,n),Qe=r):kn(e,t,n);break;default:kn(e,t,n)}}function pm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Rb),t.forEach(function(r){var s=Hb.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ot(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ve=l.stateNode,Mt=!1;break e;case 3:Ve=l.stateNode.containerInfo,Mt=!0;break e;case 4:Ve=l.stateNode.containerInfo,Mt=!0;break e}l=l.return}if(Ve===null)throw Error($(160));wy(i,a,s),Ve=null,Mt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ne(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)by(t,e),t=t.sibling}function by(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ot(t,e),Ht(e),r&4){try{ki(3,e,e.return),yl(3,e)}catch(w){Ne(e,e.return,w)}try{ki(5,e,e.return)}catch(w){Ne(e,e.return,w)}}break;case 1:Ot(t,e),Ht(e),r&512&&n!==null&&cs(n,n.return);break;case 5:if(Ot(t,e),Ht(e),r&512&&n!==null&&cs(n,n.return),e.flags&32){var s=e.stateNode;try{Li(s,"")}catch(w){Ne(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&z0(s,i),fu(l,a);var u=fu(l,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?Y0(s,f):d==="dangerouslySetInnerHTML"?q0(s,f):d==="children"?Li(s,f):Ld(s,d,f,u)}switch(l){case"input":ou(s,i);break;case"textarea":W0(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ps(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?ps(s,!!i.multiple,i.defaultValue,!0):ps(s,!!i.multiple,i.multiple?[]:"",!1))}s[qi]=i}catch(w){Ne(e,e.return,w)}}break;case 6:if(Ot(t,e),Ht(e),r&4){if(e.stateNode===null)throw Error($(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){Ne(e,e.return,w)}}break;case 3:if(Ot(t,e),Ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vi(t.containerInfo)}catch(w){Ne(e,e.return,w)}break;case 4:Ot(t,e),Ht(e);break;case 13:Ot(t,e),Ht(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(yf=Ee())),r&4&&pm(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Qe=(u=Qe)||d,Ot(t,e),Qe=u):Ot(t,e),Ht(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(U=e,d=e.child;d!==null;){for(f=U=d;U!==null;){switch(m=U,p=m.child,m.tag){case 0:case 11:case 14:case 15:ki(4,m,m.return);break;case 1:cs(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(w){Ne(r,n,w)}}break;case 5:cs(m,m.return);break;case 22:if(m.memoizedState!==null){ym(f);continue}}p!==null?(p.return=m,U=p):ym(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=K0("display",a))}catch(w){Ne(e,e.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Ne(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ot(t,e),Ht(e),r&4&&pm(e);break;case 21:break;default:Ot(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(xy(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Li(s,""),r.flags&=-33);var i=mm(e);Bu(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=mm(e);Vu(e,l,a);break;default:throw Error($(161))}}catch(c){Ne(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lb(e,t,n){U=e,jy(e)}function jy(e,t,n){for(var r=(e.mode&1)!==0;U!==null;){var s=U,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Fa;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Qe;l=Fa;var u=Qe;if(Fa=a,(Qe=c)&&!u)for(U=s;U!==null;)a=U,c=a.child,a.tag===22&&a.memoizedState!==null?vm(s):c!==null?(c.return=a,U=c):vm(s);for(;i!==null;)U=i,jy(i),i=i.sibling;U=s,Fa=l,Qe=u}gm(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,U=i):gm(e)}}function gm(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||yl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Rt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&em(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}em(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Vi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Qe||t.flags&512&&Uu(t)}catch(m){Ne(t,t.return,m)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function ym(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function vm(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{yl(4,t)}catch(c){Ne(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Ne(t,s,c)}}var i=t.return;try{Uu(t)}catch(c){Ne(t,i,c)}break;case 5:var a=t.return;try{Uu(t)}catch(c){Ne(t,a,c)}}}catch(c){Ne(t,t.return,c)}if(t===e){U=null;break}var l=t.sibling;if(l!==null){l.return=t.return,U=l;break}U=t.return}}var Ib=Math.ceil,Uo=jn.ReactCurrentDispatcher,pf=jn.ReactCurrentOwner,Pt=jn.ReactCurrentBatchConfig,ae=0,Fe=null,Ae=null,ze=0,yt=0,us=ar(0),Oe=0,Xi=null,Lr=0,vl=0,gf=0,Si=null,ct=null,yf=0,Ps=1/0,nn=null,Vo=!1,zu=null,Yn=null,Ua=!1,Un=null,Bo=0,Ni=0,Wu=null,ho=-1,mo=0;function st(){return ae&6?Ee():ho!==-1?ho:ho=Ee()}function Gn(e){return e.mode&1?ae&2&&ze!==0?ze&-ze:bb.transition!==null?(mo===0&&(mo=ag()),mo):(e=fe,e!==0||(e=window.event,e=e===void 0?16:hg(e.type)),e):1}function Vt(e,t,n,r){if(50<Ni)throw Ni=0,Wu=null,Error($(185));ua(e,n,r),(!(ae&2)||e!==Fe)&&(e===Fe&&(!(ae&2)&&(vl|=n),Oe===4&&Rn(e,ze)),mt(e,r),n===1&&ae===0&&!(t.mode&1)&&(Ps=Ee()+500,ml&&or()))}function mt(e,t){var n=e.callbackNode;b1(e,t);var r=So(e,e===Fe?ze:0);if(r===0)n!==null&&Eh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Eh(n),t===1)e.tag===0?wb(xm.bind(null,e)):Dg(xm.bind(null,e)),gb(function(){!(ae&6)&&or()}),n=null;else{switch(og(r)){case 1:n=Bd;break;case 4:n=sg;break;case 16:n=ko;break;case 536870912:n=ig;break;default:n=ko}n=Ty(n,_y.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function _y(e,t){if(ho=-1,mo=0,ae&6)throw Error($(327));var n=e.callbackNode;if(ws()&&e.callbackNode!==n)return null;var r=So(e,e===Fe?ze:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=zo(e,r);else{t=r;var s=ae;ae|=2;var i=Sy();(Fe!==e||ze!==t)&&(nn=null,Ps=Ee()+500,Ar(e,t));do try{Vb();break}catch(l){ky(e,l)}while(!0);tf(),Uo.current=i,ae=s,Ae!==null?t=0:(Fe=null,ze=0,t=Oe)}if(t!==0){if(t===2&&(s=yu(e),s!==0&&(r=s,t=Hu(e,s))),t===1)throw n=Xi,Ar(e,0),Rn(e,r),mt(e,Ee()),n;if(t===6)Rn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Fb(s)&&(t=zo(e,r),t===2&&(i=yu(e),i!==0&&(r=i,t=Hu(e,i))),t===1))throw n=Xi,Ar(e,0),Rn(e,r),mt(e,Ee()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:yr(e,ct,nn);break;case 3:if(Rn(e,r),(r&130023424)===r&&(t=yf+500-Ee(),10<t)){if(So(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){st(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Su(yr.bind(null,e,ct,nn),t);break}yr(e,ct,nn);break;case 4:if(Rn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-Ut(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=Ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ib(r/1960))-r,10<r){e.timeoutHandle=Su(yr.bind(null,e,ct,nn),r);break}yr(e,ct,nn);break;case 5:yr(e,ct,nn);break;default:throw Error($(329))}}}return mt(e,Ee()),e.callbackNode===n?_y.bind(null,e):null}function Hu(e,t){var n=Si;return e.current.memoizedState.isDehydrated&&(Ar(e,t).flags|=256),e=zo(e,t),e!==2&&(t=ct,ct=n,t!==null&&qu(t)),e}function qu(e){ct===null?ct=e:ct.push.apply(ct,e)}function Fb(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Bt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rn(e,t){for(t&=~gf,t&=~vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),r=1<<n;e[n]=-1,t&=~r}}function xm(e){if(ae&6)throw Error($(327));ws();var t=So(e,0);if(!(t&1))return mt(e,Ee()),null;var n=zo(e,t);if(e.tag!==0&&n===2){var r=yu(e);r!==0&&(t=r,n=Hu(e,r))}if(n===1)throw n=Xi,Ar(e,0),Rn(e,t),mt(e,Ee()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yr(e,ct,nn),mt(e,Ee()),null}function vf(e,t){var n=ae;ae|=1;try{return e(t)}finally{ae=n,ae===0&&(Ps=Ee()+500,ml&&or())}}function Ir(e){Un!==null&&Un.tag===0&&!(ae&6)&&ws();var t=ae;ae|=1;var n=Pt.transition,r=fe;try{if(Pt.transition=null,fe=1,e)return e()}finally{fe=r,Pt.transition=n,ae=t,!(ae&6)&&or()}}function xf(){yt=us.current,xe(us)}function Ar(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,pb(n)),Ae!==null)for(n=Ae.return;n!==null;){var r=n;switch(Xd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&To();break;case 3:Es(),xe(ft),xe(Xe),lf();break;case 5:of(r);break;case 4:Es();break;case 13:xe(be);break;case 19:xe(be);break;case 10:nf(r.type._context);break;case 22:case 23:xf()}n=n.return}if(Fe=e,Ae=e=Jn(e.current,null),ze=yt=t,Oe=0,Xi=null,gf=vl=Lr=0,ct=Si=null,Sr!==null){for(t=0;t<Sr.length;t++)if(n=Sr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Sr=null}return e}function ky(e,t){do{var n=Ae;try{if(tf(),co.current=Fo,Io){for(var r=ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Io=!1}if(Mr=0,Le=De=ke=null,_i=!1,Gi=0,pf.current=null,n===null||n.return===null){Oe=1,Xi=t,Ae=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=ze,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=am(a);if(p!==null){p.flags&=-257,om(p,a,l,i,t),p.mode&1&&im(i,u,t),t=p,c=u;var x=t.updateQueue;if(x===null){var w=new Set;w.add(c),t.updateQueue=w}else x.add(c);break e}else{if(!(t&1)){im(i,u,t),wf();break e}c=Error($(426))}}else if(we&&l.mode&1){var b=am(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),om(b,a,l,i,t),Zd(Cs(c,l));break e}}i=c=Cs(c,l),Oe!==4&&(Oe=2),Si===null?Si=[i]:Si.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=oy(i,c,t);Zh(i,v);break e;case 1:l=c;var g=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Yn===null||!Yn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=ly(i,l,t);Zh(i,j);break e}}i=i.return}while(i!==null)}Ey(n)}catch(k){t=k,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(!0)}function Sy(){var e=Uo.current;return Uo.current=Fo,e===null?Fo:e}function wf(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Fe===null||!(Lr&268435455)&&!(vl&268435455)||Rn(Fe,ze)}function zo(e,t){var n=ae;ae|=2;var r=Sy();(Fe!==e||ze!==t)&&(nn=null,Ar(e,t));do try{Ub();break}catch(s){ky(e,s)}while(!0);if(tf(),ae=n,Uo.current=r,Ae!==null)throw Error($(261));return Fe=null,ze=0,Oe}function Ub(){for(;Ae!==null;)Ny(Ae)}function Vb(){for(;Ae!==null&&!f1();)Ny(Ae)}function Ny(e){var t=Py(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?Ey(e):Ae=t,pf.current=null}function Ey(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ob(n,t),n!==null){n.flags&=32767,Ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oe=6,Ae=null;return}}else if(n=$b(n,t,yt),n!==null){Ae=n;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);Oe===0&&(Oe=5)}function yr(e,t,n){var r=fe,s=Pt.transition;try{Pt.transition=null,fe=1,Bb(e,t,n,r)}finally{Pt.transition=s,fe=r}return null}function Bb(e,t,n,r){do ws();while(Un!==null);if(ae&6)throw Error($(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(j1(e,i),e===Fe&&(Ae=Fe=null,ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ua||(Ua=!0,Ty(ko,function(){return ws(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Pt.transition,Pt.transition=null;var a=fe;fe=1;var l=ae;ae|=4,pf.current=null,Mb(e,n),by(n,e),lb(_u),No=!!ju,_u=ju=null,e.current=n,Lb(n),h1(),ae=l,fe=a,Pt.transition=i}else e.current=n;if(Ua&&(Ua=!1,Un=e,Bo=s),i=e.pendingLanes,i===0&&(Yn=null),g1(n.stateNode),mt(e,Ee()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Vo)throw Vo=!1,e=zu,zu=null,e;return Bo&1&&e.tag!==0&&ws(),i=e.pendingLanes,i&1?e===Wu?Ni++:(Ni=0,Wu=e):Ni=0,or(),null}function ws(){if(Un!==null){var e=og(Bo),t=Pt.transition,n=fe;try{if(Pt.transition=null,fe=16>e?16:e,Un===null)var r=!1;else{if(e=Un,Un=null,Bo=0,ae&6)throw Error($(331));var s=ae;for(ae|=4,U=e.current;U!==null;){var i=U,a=i.child;if(U.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(U=u;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:ki(8,d,i)}var f=d.child;if(f!==null)f.return=d,U=f;else for(;U!==null;){d=U;var m=d.sibling,p=d.return;if(vy(d),d===u){U=null;break}if(m!==null){m.return=p,U=m;break}U=p}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}U=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,U=a;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ki(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,U=v;break e}U=i.return}}var g=e.current;for(U=g;U!==null;){a=U;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,U=y;else e:for(a=g;U!==null;){if(l=U,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:yl(9,l)}}catch(k){Ne(l,l.return,k)}if(l===a){U=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,U=j;break e}U=l.return}}if(ae=s,or(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(cl,e)}catch{}r=!0}return r}finally{fe=n,Pt.transition=t}}return!1}function wm(e,t,n){t=Cs(n,t),t=oy(e,t,1),e=Kn(e,t,1),t=st(),e!==null&&(ua(e,1,t),mt(e,t))}function Ne(e,t,n){if(e.tag===3)wm(e,e,n);else for(;t!==null;){if(t.tag===3){wm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yn===null||!Yn.has(r))){e=Cs(n,e),e=ly(t,e,1),t=Kn(t,e,1),e=st(),t!==null&&(ua(t,1,e),mt(t,e));break}}t=t.return}}function zb(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=st(),e.pingedLanes|=e.suspendedLanes&n,Fe===e&&(ze&n)===n&&(Oe===4||Oe===3&&(ze&130023424)===ze&&500>Ee()-yf?Ar(e,0):gf|=n),mt(e,t)}function Cy(e,t){t===0&&(e.mode&1?(t=Ta,Ta<<=1,!(Ta&130023424)&&(Ta=4194304)):t=1);var n=st();e=yn(e,t),e!==null&&(ua(e,t,n),mt(e,n))}function Wb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Cy(e,n)}function Hb(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),Cy(e,n)}var Py;Py=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)dt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return dt=!1,Db(e,t,n);dt=!!(e.flags&131072)}else dt=!1,we&&t.flags&1048576&&$g(t,$o,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;fo(e,t),e=t.pendingProps;var s=ks(t,Xe.current);xs(t,n),s=uf(null,t,r,e,s,n);var i=df();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(r)?(i=!0,Ao(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,sf(t),s.updater=gl,t.stateNode=s,s._reactInternals=t,Du(t,r,e,n),t=Ru(null,t,r,!0,i,n)):(t.tag=0,we&&i&&Qd(t),tt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(fo(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Kb(r),e=Rt(r,e),s){case 0:t=Ou(null,t,r,e,n);break e;case 1:t=um(null,t,r,e,n);break e;case 11:t=lm(null,t,r,e,n);break e;case 14:t=cm(null,t,r,Rt(r.type,e),n);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rt(r,s),Ou(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rt(r,s),um(e,t,r,s,n);case 3:e:{if(fy(t),e===null)throw Error($(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Fg(e,t),Mo(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Cs(Error($(423)),t),t=dm(e,t,r,n,s);break e}else if(r!==s){s=Cs(Error($(424)),t),t=dm(e,t,r,n,s);break e}else for(vt=qn(t.stateNode.containerInfo.firstChild),xt=t,we=!0,It=null,n=Lg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ss(),r===s){t=vn(e,t,n);break e}tt(e,t,r,n)}t=t.child}return t;case 5:return Ug(t),e===null&&Pu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,ku(r,s)?a=null:i!==null&&ku(r,i)&&(t.flags|=32),dy(e,t),tt(e,t,a,n),t.child;case 6:return e===null&&Pu(t),null;case 13:return hy(e,t,n);case 4:return af(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ns(t,null,r,n):tt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rt(r,s),lm(e,t,r,s,n);case 7:return tt(e,t,t.pendingProps,n),t.child;case 8:return tt(e,t,t.pendingProps.children,n),t.child;case 12:return tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,ge(Oo,r._currentValue),r._currentValue=a,i!==null)if(Bt(i.value,a)){if(i.children===s.children&&!ft.current){t=vn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=un(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Tu(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error($(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Tu(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}tt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,xs(t,n),s=At(s),r=r(s),t.flags|=1,tt(e,t,r,n),t.child;case 14:return r=t.type,s=Rt(r,t.pendingProps),s=Rt(r.type,s),cm(e,t,r,s,n);case 15:return cy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rt(r,s),fo(e,t),t.tag=1,ht(r)?(e=!0,Ao(t)):e=!1,xs(t,n),ay(t,r,s),Du(t,r,s,n),Ru(null,t,r,!0,e,n);case 19:return my(e,t,n);case 22:return uy(e,t,n)}throw Error($(156,t.tag))};function Ty(e,t){return rg(e,t)}function qb(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,n,r){return new qb(e,t,n,r)}function bf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kb(e){if(typeof e=="function")return bf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fd)return 11;if(e===Ud)return 14}return 2}function Jn(e,t){var n=e.alternate;return n===null?(n=Ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function po(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")bf(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case es:return Dr(n.children,s,i,t);case Id:a=8,s|=8;break;case nu:return e=Ct(12,n,t,s|2),e.elementType=nu,e.lanes=i,e;case ru:return e=Ct(13,n,t,s),e.elementType=ru,e.lanes=i,e;case su:return e=Ct(19,n,t,s),e.elementType=su,e.lanes=i,e;case U0:return xl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I0:a=10;break e;case F0:a=9;break e;case Fd:a=11;break e;case Ud:a=14;break e;case Tn:a=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=Ct(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Dr(e,t,n,r){return e=Ct(7,e,r,t),e.lanes=n,e}function xl(e,t,n,r){return e=Ct(22,e,r,t),e.elementType=U0,e.lanes=n,e.stateNode={isHidden:!1},e}function _c(e,t,n){return e=Ct(6,e,null,t),e.lanes=n,e}function kc(e,t,n){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yb(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sc(0),this.expirationTimes=sc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function jf(e,t,n,r,s,i,a,l,c){return e=new Yb(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ct(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sf(i),e}function Gb(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ay(e){if(!e)return tr;e=e._reactInternals;e:{if(Vr(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(ht(n))return Ag(e,n,t)}return t}function Dy(e,t,n,r,s,i,a,l,c){return e=jf(n,r,!0,e,s,i,a,l,c),e.context=Ay(null),n=e.current,r=st(),s=Gn(n),i=un(r,s),i.callback=t??null,Kn(n,i,s),e.current.lanes=s,ua(e,s,r),mt(e,r),e}function wl(e,t,n,r){var s=t.current,i=st(),a=Gn(s);return n=Ay(n),t.context===null?t.context=n:t.pendingContext=n,t=un(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kn(s,t,a),e!==null&&(Vt(e,s,a,i),lo(e,s,a)),a}function Wo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _f(e,t){bm(e,t),(e=e.alternate)&&bm(e,t)}function Jb(){return null}var $y=typeof reportError=="function"?reportError:function(e){console.error(e)};function kf(e){this._internalRoot=e}bl.prototype.render=kf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));wl(e,t,null,null)};bl.prototype.unmount=kf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ir(function(){wl(null,e,null,null)}),t[gn]=null}};function bl(e){this._internalRoot=e}bl.prototype.unstable_scheduleHydration=function(e){if(e){var t=ug();e={blockedOn:null,target:e,priority:t};for(var n=0;n<On.length&&t!==0&&t<On[n].priority;n++);On.splice(n,0,e),n===0&&fg(e)}};function Sf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jm(){}function Qb(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Wo(a);i.call(u)}}var a=Dy(t,r,e,0,null,!1,!1,"",jm);return e._reactRootContainer=a,e[gn]=a.current,Wi(e.nodeType===8?e.parentNode:e),Ir(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Wo(c);l.call(u)}}var c=jf(e,0,!1,null,null,!1,!1,"",jm);return e._reactRootContainer=c,e[gn]=c.current,Wi(e.nodeType===8?e.parentNode:e),Ir(function(){wl(t,c,n,r)}),c}function _l(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Wo(a);l.call(c)}}wl(t,a,e,s)}else a=Qb(n,t,e,s,r);return Wo(a)}lg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fi(t.pendingLanes);n!==0&&(zd(t,n|1),mt(t,Ee()),!(ae&6)&&(Ps=Ee()+500,or()))}break;case 13:Ir(function(){var r=yn(e,1);if(r!==null){var s=st();Vt(r,e,1,s)}}),_f(e,1)}};Wd=function(e){if(e.tag===13){var t=yn(e,134217728);if(t!==null){var n=st();Vt(t,e,134217728,n)}_f(e,134217728)}};cg=function(e){if(e.tag===13){var t=Gn(e),n=yn(e,t);if(n!==null){var r=st();Vt(n,e,t,r)}_f(e,t)}};ug=function(){return fe};dg=function(e,t){var n=fe;try{return fe=e,t()}finally{fe=n}};mu=function(e,t,n){switch(t){case"input":if(ou(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=hl(r);if(!s)throw Error($(90));B0(r),ou(r,s)}}}break;case"textarea":W0(e,n);break;case"select":t=n.value,t!=null&&ps(e,!!n.multiple,t,!1)}};Q0=vf;X0=Ir;var Xb={usingClientEntryPoint:!1,Events:[fa,ss,hl,G0,J0,vf]},ei={findFiberByHostInstance:kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zb={bundleType:ei.bundleType,version:ei.version,rendererPackageName:ei.rendererPackageName,rendererConfig:ei.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tg(e),e===null?null:e.stateNode},findFiberByHostInstance:ei.findFiberByHostInstance||Jb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Va=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Va.isDisabled&&Va.supportsFiber)try{cl=Va.inject(Zb),Gt=Va}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xb;jt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sf(t))throw Error($(200));return Gb(e,t,null,n)};jt.createRoot=function(e,t){if(!Sf(e))throw Error($(299));var n=!1,r="",s=$y;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=jf(e,1,!1,null,null,n,!1,r,s),e[gn]=t.current,Wi(e.nodeType===8?e.parentNode:e),new kf(t)};jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=tg(t),e=e===null?null:e.stateNode,e};jt.flushSync=function(e){return Ir(e)};jt.hydrate=function(e,t,n){if(!jl(t))throw Error($(200));return _l(null,e,t,!0,n)};jt.hydrateRoot=function(e,t,n){if(!Sf(e))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=$y;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Dy(t,null,e,1,n??null,s,!1,i,a),e[gn]=t.current,Wi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new bl(t)};jt.render=function(e,t,n){if(!jl(t))throw Error($(200));return _l(null,e,t,!1,n)};jt.unmountComponentAtNode=function(e){if(!jl(e))throw Error($(40));return e._reactRootContainer?(Ir(function(){_l(null,null,e,!1,function(){e._reactRootContainer=null,e[gn]=null})}),!0):!1};jt.unstable_batchedUpdates=vf;jt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!jl(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return _l(e,t,n,!1,r)};jt.version="18.3.1-next-f1338f8080-20240426";function Oy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Oy)}catch(e){console.error(e)}}Oy(),O0.exports=jt;var Ry=O0.exports,_m=Ry;eu.createRoot=_m.createRoot,eu.hydrateRoot=_m.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zi(){return Zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zi.apply(this,arguments)}var Vn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vn||(Vn={}));const km="popstate";function e2(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:l}=r.location;return Ku("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ho(s)}return n2(t,n,null,e)}function Pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function My(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function t2(){return Math.random().toString(36).substr(2,8)}function Sm(e,t){return{usr:e.state,key:e.key,idx:t}}function Ku(e,t,n,r){return n===void 0&&(n=null),Zi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Fs(t):t,{state:n,key:t&&t.key||r||t2()})}function Ho(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Fs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function n2(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Vn.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Zi({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=Vn.Pop;let b=d(),v=b==null?null:b-u;u=b,c&&c({action:l,location:w.location,delta:v})}function m(b,v){l=Vn.Push;let g=Ku(w.location,b,v);u=d()+1;let y=Sm(g,u),j=w.createHref(g);try{a.pushState(y,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(j)}i&&c&&c({action:l,location:w.location,delta:1})}function p(b,v){l=Vn.Replace;let g=Ku(w.location,b,v);u=d();let y=Sm(g,u),j=w.createHref(g);a.replaceState(y,"",j),i&&c&&c({action:l,location:w.location,delta:0})}function x(b){let v=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof b=="string"?b:Ho(b);return g=g.replace(/ $/,"%20"),Pe(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let w={get action(){return l},get location(){return e(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(km,f),c=b,()=>{s.removeEventListener(km,f),c=null}},createHref(b){return t(s,b)},createURL:x,encodeLocation(b){let v=x(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:p,go(b){return a.go(b)}};return w}var Nm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Nm||(Nm={}));function r2(e,t,n){return n===void 0&&(n="/"),s2(e,t,n)}function s2(e,t,n,r){let s=typeof t=="string"?Fs(t):t,i=Nf(s.pathname||"/",n);if(i==null)return null;let a=Ly(e);i2(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=y2(i);l=m2(a[c],u)}return l}function Ly(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(Pe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Qn([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Pe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ly(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:f2(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of Iy(i.path))s(i,a,c)}),t}function Iy(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=Iy(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function i2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:h2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const a2=/^:[\w-]+$/,o2=3,l2=2,c2=1,u2=10,d2=-2,Em=e=>e==="*";function f2(e,t){let n=e.split("/"),r=n.length;return n.some(Em)&&(r+=d2),t&&(r+=l2),n.filter(s=>!Em(s)).reduce((s,i)=>s+(a2.test(i)?o2:i===""?c2:u2),r)}function h2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function m2(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=p2({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Qn([i,f.pathname]),pathnameBase:b2(Qn([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Qn([i,f.pathnameBase]))}return a}function p2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=g2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let w=l[f]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const x=l[f];return p&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function g2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),My(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function y2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return My(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Nf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function v2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Fs(e):e;return{pathname:n?n.startsWith("/")?n:x2(n,t):t,search:j2(r),hash:_2(s)}}function x2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Sc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function w2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ef(e,t){let n=w2(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Cf(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Fs(e):(s=Zi({},e),Pe(!s.pathname||!s.pathname.includes("?"),Sc("?","pathname","search",s)),Pe(!s.pathname||!s.pathname.includes("#"),Sc("#","pathname","hash",s)),Pe(!s.search||!s.search.includes("#"),Sc("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=v2(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Qn=e=>e.join("/").replace(/\/\/+/g,"/"),b2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),j2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function k2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Fy=["post","put","patch","delete"];new Set(Fy);const S2=["get",...Fy];new Set(S2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ea(){return ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ea.apply(this,arguments)}const Pf=h.createContext(null),N2=h.createContext(null),lr=h.createContext(null),kl=h.createContext(null),Xt=h.createContext({outlet:null,matches:[],isDataRoute:!1}),Uy=h.createContext(null);function E2(e,t){let{relative:n}=t===void 0?{}:t;Us()||Pe(!1);let{basename:r,navigator:s}=h.useContext(lr),{hash:i,pathname:a,search:l}=By(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Qn([r,a])),s.createHref({pathname:c,search:l,hash:i})}function Us(){return h.useContext(kl)!=null}function cr(){return Us()||Pe(!1),h.useContext(kl).location}function Vy(e){h.useContext(lr).static||h.useLayoutEffect(e)}function Wt(){let{isDataRoute:e}=h.useContext(Xt);return e?B2():C2()}function C2(){Us()||Pe(!1);let e=h.useContext(Pf),{basename:t,future:n,navigator:r}=h.useContext(lr),{matches:s}=h.useContext(Xt),{pathname:i}=cr(),a=JSON.stringify(Ef(s,n.v7_relativeSplatPath)),l=h.useRef(!1);return Vy(()=>{l.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=Cf(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Qn([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,i,e])}const P2=h.createContext(null);function T2(e){let t=h.useContext(Xt).outlet;return t&&h.createElement(P2.Provider,{value:e},t)}function Sl(){let{matches:e}=h.useContext(Xt),t=e[e.length-1];return t?t.params:{}}function By(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=h.useContext(lr),{matches:s}=h.useContext(Xt),{pathname:i}=cr(),a=JSON.stringify(Ef(s,r.v7_relativeSplatPath));return h.useMemo(()=>Cf(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function A2(e,t){return D2(e,t)}function D2(e,t,n,r){Us()||Pe(!1);let{navigator:s}=h.useContext(lr),{matches:i}=h.useContext(Xt),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=cr(),d;if(t){var f;let b=typeof t=="string"?Fs(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||Pe(!1),d=b}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=r2(e,{pathname:p}),w=L2(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Qn([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Qn([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return t&&w?h.createElement(kl.Provider,{value:{location:ea({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Vn.Pop}},w):w}function $2(){let e=V2(),t=k2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:s},n):null,null)}const O2=h.createElement($2,null);class R2 extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement(Xt.Provider,{value:this.props.routeContext},h.createElement(Uy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function M2(e){let{routeContext:t,match:n,children:r}=e,s=h.useContext(Pf);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Xt.Provider,{value:t},r)}function L2(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Pe(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=n,x=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,m)=>{let p,x=!1,w=null,b=null;n&&(p=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||O2,c&&(u<0&&m===0?(z2("route-fallback"),x=!0,b=null):u===m&&(x=!0,b=f.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,m+1)),g=()=>{let y;return p?y=w:x?y=b:f.route.Component?y=h.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,h.createElement(M2,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(R2,{location:n.location,revalidation:n.revalidation,component:w,error:p,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var zy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(zy||{}),Wy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wy||{});function I2(e){let t=h.useContext(Pf);return t||Pe(!1),t}function F2(e){let t=h.useContext(N2);return t||Pe(!1),t}function U2(e){let t=h.useContext(Xt);return t||Pe(!1),t}function Hy(e){let t=U2(),n=t.matches[t.matches.length-1];return n.route.id||Pe(!1),n.route.id}function V2(){var e;let t=h.useContext(Uy),n=F2(),r=Hy();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function B2(){let{router:e}=I2(zy.UseNavigateStable),t=Hy(Wy.UseNavigateStable),n=h.useRef(!1);return Vy(()=>{n.current=!0}),h.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ea({fromRouteId:t},i)))},[e,t])}const Cm={};function z2(e,t,n){Cm[e]||(Cm[e]=!0)}function W2(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Tf(e){let{to:t,replace:n,state:r,relative:s}=e;Us()||Pe(!1);let{future:i,static:a}=h.useContext(lr),{matches:l}=h.useContext(Xt),{pathname:c}=cr(),u=Wt(),d=Cf(t,Ef(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function H2(e){return T2(e.context)}function Ge(e){Pe(!1)}function q2(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Vn.Pop,navigator:i,static:a=!1,future:l}=e;Us()&&Pe(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:i,static:a,future:ea({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Fs(r));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:x="default"}=r,w=h.useMemo(()=>{let b=Nf(d,c);return b==null?null:{location:{pathname:b,search:f,hash:m,state:p,key:x},navigationType:s}},[c,d,f,m,p,x,s]);return w==null?null:h.createElement(lr.Provider,{value:u},h.createElement(kl.Provider,{children:n,value:w}))}function K2(e){let{children:t,location:n}=e;return A2(Yu(t),n)}new Promise(()=>{});function Yu(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(r,s)=>{if(!h.isValidElement(r))return;let i=[...t,s];if(r.type===h.Fragment){n.push.apply(n,Yu(r.props.children,i));return}r.type!==Ge&&Pe(!1),!r.props.index||!r.props.children||Pe(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Yu(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gu(){return Gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gu.apply(this,arguments)}function Y2(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function G2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function J2(e,t){return e.button===0&&(!t||t==="_self")&&!G2(e)}const Q2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],X2="6";try{window.__reactRouterVersion=X2}catch{}const Z2="startTransition",Pm=js[Z2];function ej(e){let{basename:t,children:n,future:r,window:s}=e,i=h.useRef();i.current==null&&(i.current=e2({window:s,v5Compat:!0}));let a=i.current,[l,c]=h.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=h.useCallback(f=>{u&&Pm?Pm(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>a.listen(d),[a,d]),h.useEffect(()=>W2(r),[r]),h.createElement(q2,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const tj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=h.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=Y2(t,Q2),{basename:p}=h.useContext(lr),x,w=!1;if(typeof u=="string"&&nj.test(u)&&(x=u,tj))try{let y=new URL(window.location.href),j=u.startsWith("//")?new URL(y.protocol+u):new URL(u),k=Nf(j.pathname,p);j.origin===y.origin&&k!=null?u=k+j.search+j.hash:w=!0}catch{}let b=E2(u,{relative:s}),v=rj(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function g(y){r&&r(y),y.defaultPrevented||v(y)}return h.createElement("a",Gu({},m,{href:x||b,onClick:w||i?r:g,ref:n,target:c}))});var Tm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Tm||(Tm={}));var Am;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Am||(Am={}));function rj(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=Wt(),u=cr(),d=By(e,{relative:a});return h.useCallback(f=>{if(J2(f,n)){f.preventDefault();let m=r!==void 0?r:Ho(u)===Ho(d);c(e,{replace:m,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,r,s,n,e,i,a,l])}const sj="modulepreload",ij=function(e){return"/"+e},Dm={},Ts=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=ij(c),c in Dm)return;Dm[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":sj,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},aj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ts(async()=>{const{default:r}=await Promise.resolve().then(()=>Vs);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Af extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class oj extends Af{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class lj extends Af{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class cj extends Af{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ju;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ju||(Ju={}));var uj=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class dj{constructor(t,{headers:n={},customFetch:r,region:s=Ju.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=aj(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return uj(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(l["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(l["Content-Type"]="application/json",u=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(x=>{throw new oj(x)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new lj(d);if(!d.ok)throw new cj(d);let m=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield d.json():m==="application/octet-stream"?p=yield d.blob():m==="text/event-stream"?p=d:m==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var ut={},Df={},Nl={},ma={},El={},Cl={},fj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},As=fj();const hj=As.fetch,qy=As.fetch.bind(As),Ky=As.Headers,mj=As.Request,pj=As.Response,Vs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ky,Request:mj,Response:pj,default:qy,fetch:hj},Symbol.toStringTag,{value:"Module"})),gj=Cw(Vs);var Pl={};Object.defineProperty(Pl,"__esModule",{value:!0});let yj=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Pl.default=yj;var Yy=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cl,"__esModule",{value:!0});const vj=Yy(gj),xj=Yy(Pl);let wj=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=vj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,c;let u=null,d=null,f=null,m=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const w=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,m=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(d=[],u=null,m=200,p="OK")}catch{i.status===404&&w===""?(m=204,p="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,p="OK"),u&&this.shouldThrowOnError)throw new xj.default(u)}return{error:u,data:d,count:f,status:m,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Cl.default=wj;var bj=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(El,"__esModule",{value:!0});const jj=bj(Cl);let _j=class extends jj.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};El.default=_j;var kj=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ma,"__esModule",{value:!0});const Sj=kj(El);let Nj=class extends Sj.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ma.default=Nj;var Ej=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nl,"__esModule",{value:!0});const ti=Ej(ma);let Cj=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new ti.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ti.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const a="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new ti.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new ti.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ti.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Nl.default=Cj;var Tl={},Al={};Object.defineProperty(Al,"__esModule",{value:!0});Al.version=void 0;Al.version="0.0.0-automated";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.DEFAULT_HEADERS=void 0;const Pj=Al;Tl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Pj.version}`};var Gy=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Df,"__esModule",{value:!0});const Tj=Gy(Nl),Aj=Gy(ma),Dj=Tl;let $j=class Jy{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Dj.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new Tj.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Jy(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Aj.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Df.default=$j;var Bs=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ut,"__esModule",{value:!0});ut.PostgrestError=ut.PostgrestBuilder=ut.PostgrestTransformBuilder=ut.PostgrestFilterBuilder=ut.PostgrestQueryBuilder=ut.PostgrestClient=void 0;const Qy=Bs(Df);ut.PostgrestClient=Qy.default;const Xy=Bs(Nl);ut.PostgrestQueryBuilder=Xy.default;const Zy=Bs(ma);ut.PostgrestFilterBuilder=Zy.default;const ev=Bs(El);ut.PostgrestTransformBuilder=ev.default;const tv=Bs(Cl);ut.PostgrestBuilder=tv.default;const nv=Bs(Pl);ut.PostgrestError=nv.default;var Oj=ut.default={PostgrestClient:Qy.default,PostgrestQueryBuilder:Xy.default,PostgrestFilterBuilder:Zy.default,PostgrestTransformBuilder:ev.default,PostgrestBuilder:tv.default,PostgrestError:nv.default};const{PostgrestClient:Rj,PostgrestQueryBuilder:t6,PostgrestFilterBuilder:n6,PostgrestTransformBuilder:r6,PostgrestBuilder:s6,PostgrestError:i6}=Oj,Mj="2.11.2",Lj={"X-Client-Info":`realtime-js/${Mj}`},Ij="1.0.0",rv=1e4,Fj=1e3;var bs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(bs||(bs={}));var gt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(gt||(gt={}));var Lt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Lt||(Lt={}));var Qu;(function(e){e.websocket="websocket"})(Qu||(Qu={}));var _r;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(_r||(_r={}));class Uj{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(t.slice(a,a+s));a=a+s;const c=r.decode(t.slice(a,a+i));a=a+i;const u=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class sv{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(pe||(pe={}));const $m=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,a)=>(i[a]=Vj(a,e,t,s),i),{})},Vj=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=n[e];return i&&!r.includes(i)?iv(i,a):Xu(a)},iv=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Hj(t,n)}switch(e){case pe.bool:return Bj(t);case pe.float4:case pe.float8:case pe.int2:case pe.int4:case pe.int8:case pe.numeric:case pe.oid:return zj(t);case pe.json:case pe.jsonb:return Wj(t);case pe.timestamp:return qj(t);case pe.abstime:case pe.date:case pe.daterange:case pe.int4range:case pe.int8range:case pe.money:case pe.reltime:case pe.text:case pe.time:case pe.timestamptz:case pe.timetz:case pe.tsrange:case pe.tstzrange:return Xu(t);default:return Xu(t)}},Xu=e=>e,Bj=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},zj=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Wj=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Hj=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>iv(t,l))}return e},qj=e=>typeof e=="string"?e.replace(" ","T"):e,av=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Nc{constructor(t,n,r={},s=rv){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Om;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Om||(Om={}));class Ei{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ei.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Ei.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ei.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=i[u];if(f){const m=d.map(b=>b.presence_ref),p=f.map(b=>b.presence_ref),x=d.filter(b=>p.indexOf(b.presence_ref)<0),w=f.filter(b=>m.indexOf(b.presence_ref)<0);x.length>0&&(l[u]=x),w.length>0&&(c[u]=w)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),m=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...m)}r(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Rm||(Rm={}));var Mm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Mm||(Mm={}));var rn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(rn||(rn={}));class $f{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Nc(this,Lt.join,this.params,this.timeout),this.rejoinTimer=new sv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Lt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ei(this),this.broadcastEndpointURL=av(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(rn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(rn.CLOSED));const c={},u={broadcast:i,presence:a,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(rn.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,p=(f=m==null?void 0:m.length)!==null&&f!==void 0?f:0,x=[];for(let w=0;w<p;w++){const b=m[w],{filter:{event:v,schema:g,table:y,filter:j}}=b,k=d&&d[w];if(k&&k.event===v&&k.schema===g&&k.table===y&&k.filter===j)x.push(Object.assign(Object.assign({},b),{id:k.id}));else{this.unsubscribe(),t==null||t(rn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(rn.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(rn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(rn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=gt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Lt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Nc(this,Lt.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Nc(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Lt;if(r&&[l,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let m=this._onMessage(a,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var x,w,b;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(w=p.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(p=>p.callback(m,r)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var x,w,b,v,g,y;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const j=p.id,k=(x=p.filter)===null||x===void 0?void 0:x.event;return j&&((w=n.ids)===null||w===void 0?void 0:w.includes(j))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(g=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return j==="*"||j===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:w,table:b,commit_timestamp:v,type:g,errors:y}=x;m=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:v,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(x))}p.callback(m,r)})}_isClosed(){return this.state===gt.closed}_isJoined(){return this.state===gt.joined}_isJoining(){return this.state===gt.joining}_isLeaving(){return this.state===gt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&$f.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Lt.close,{},t)}_onError(t){this._on(Lt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=$m(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=$m(t.columns,t.old_record)),n}}const Kj=()=>{},Yj=typeof WebSocket<"u",Gj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Jj{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Lj,this.params={},this.timeout=rv,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Kj,this.conn=null,this.sendBuffer=[],this.serializer=new Uj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>Ts(async()=>{const{default:c}=await Promise.resolve().then(()=>Vs);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${Qu.websocket}`,this.httpEndpoint=av(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,a)=>a(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new sv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Yj){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Qj(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ts(async()=>{const{default:t}=await import("./browser-oADGq3cw.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ij}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case bs.connecting:return _r.Connecting;case bs.open:return _r.Open;case bs.closing:return _r.Closing;default:return _r.Closed}}isConnected(){return this.connectionState()===_r.Open}channel(t,n={config:{}}){const r=new $f(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Lt.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Fj,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:a}=n;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Lt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Gj],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Qj{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=bs.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Of extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Re(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Xj extends Of{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Zu extends Of{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Zj=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const ov=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ts(async()=>{const{default:r}=await Promise.resolve().then(()=>Vs);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},e_=()=>Zj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ts(()=>Promise.resolve().then(()=>Vs),void 0)).Response:Response}),ed=e=>{if(Array.isArray(e))return e.map(n=>ed(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=ed(r)}),t};var Br=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Ec=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),t_=(e,t,n)=>Br(void 0,void 0,void 0,function*(){const r=yield e_();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new Xj(Ec(s),e.status||500))}).catch(s=>{t(new Zu(Ec(s),s))}):t(new Zu(Ec(e),e))}),n_=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function pa(e,t,n,r,s,i){return Br(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(n,n_(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>t_(c,l,r))})})}function qo(e,t,n,r){return Br(this,void 0,void 0,function*(){return pa(e,"GET",t,n,r)})}function Dn(e,t,n,r,s){return Br(this,void 0,void 0,function*(){return pa(e,"POST",t,r,s,n)})}function r_(e,t,n,r,s){return Br(this,void 0,void 0,function*(){return pa(e,"PUT",t,r,s,n)})}function s_(e,t,n,r){return Br(this,void 0,void 0,function*(){return pa(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function lv(e,t,n,r,s){return Br(this,void 0,void 0,function*(){return pa(e,"DELETE",t,r,s,n)})}var lt=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const i_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class a_{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=ov(s)}uploadOrUpdate(t,n,r,s){return lt(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Lm),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),m=yield f.json();return f.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(Re(i))return{data:null,error:i};throw i}})}upload(t,n,r){return lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return lt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Lm.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),m=yield f.json();return f.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(Re(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return lt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Dn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new Of("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}})}update(t,n,r){return lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return lt(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Re(s))return{data:null,error:s};throw s}})}copy(t,n,r){return lt(this,void 0,void 0,function*(){try{return{data:{path:(yield Dn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Re(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return lt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Dn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Re(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return lt(this,void 0,void 0,function*(){try{const s=yield Dn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Re(s))return{data:null,error:s};throw s}})}download(t,n){return lt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield qo(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Re(l))return{data:null,error:l};throw l}})}info(t){return lt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield qo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ed(r),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}})}exists(t){return lt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield s_(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Re(r)&&r instanceof Zu){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return lt(this,void 0,void 0,function*(){try{return{data:yield lv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}list(t,n,r){return lt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},i_),n),{prefix:t||""});return{data:yield Dn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Re(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const o_="2.7.1",l_={"X-Client-Info":`storage-js/${o_}`};var Yr=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class c_{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},l_),n),this.fetch=ov(r)}listBuckets(){return Yr(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Re(t))return{data:null,error:t};throw t}})}getBucket(t){return Yr(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Yr(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Yr(this,void 0,void 0,function*(){try{return{data:yield r_(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Yr(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Yr(this,void 0,void 0,function*(){try{return{data:yield lv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}}class u_ extends c_{constructor(t,n={},r){super(t,n,r)}from(t){return new a_(this.url,this.headers,t,this.fetch)}}const d_="2.49.8";let mi="";typeof Deno<"u"?mi="deno":typeof document<"u"?mi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mi="react-native":mi="node";const f_={"X-Client-Info":`supabase-js-${mi}/${d_}`},h_={headers:f_},m_={schema:"public"},p_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},g_={};var y_=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const v_=e=>{let t;return e?t=e:typeof fetch>"u"?t=qy:t=fetch,(...n)=>t(...n)},x_=()=>typeof Headers>"u"?Ky:Headers,w_=(e,t,n)=>{const r=v_(n),s=x_();return(i,a)=>y_(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},a),{headers:u}))})};var b_=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function j_(e){return e.endsWith("/")?e:e+"/"}function __(e,t){var n,r;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>b_(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const cv="2.69.1",Xr=30*1e3,td=3,Cc=td*Xr,k_="http://localhost:9999",S_="supabase.auth.token",N_={"X-Client-Info":`gotrue-js/${cv}`},nd="X-Supabase-Api-Version",uv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},E_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,C_=6e5;class Rf extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class P_ extends Rf{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function T_(e){return Z(e)&&e.name==="AuthApiError"}class dv extends Rf{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ur extends Rf{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class En extends ur{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function A_(e){return Z(e)&&e.name==="AuthSessionMissingError"}class Pc extends ur{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ba extends ur{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class za extends ur{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function D_(e){return Z(e)&&e.name==="AuthImplicitGrantRedirectError"}class Im extends ur{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rd extends ur{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Tc(e){return Z(e)&&e.name==="AuthRetryableFetchError"}class Fm extends ur{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ci extends ur{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Um="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vm=` 	
\r=`.split(""),$_=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Vm.length;t+=1)e[Vm[t].charCodeAt(0)]=-2;for(let t=0;t<Um.length;t+=1)e[Um[t].charCodeAt(0)]=t;return e})();function fv(e,t,n){const r=$_[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Bm(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{M_(a,r,n)};for(let a=0;a<e.length;a+=1)fv(e.charCodeAt(a),s,i);return t.join("")}function O_(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function R_(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}O_(r,t)}}function M_(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function L_(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)fv(e.charCodeAt(s),n,r);return new Uint8Array(t)}function I_(e){const t=[];return R_(e,n=>t.push(n)),new Uint8Array(t)}function F_(e){return Math.round(Date.now()/1e3)+e}function U_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const qt=()=>typeof window<"u"&&typeof document<"u",mr={tested:!1,writable:!1},Pi=()=>{if(!qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mr.tested)return mr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),mr.tested=!0,mr.writable=!0}catch{mr.tested=!0,mr.writable=!1}return mr.writable};function V_(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const hv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ts(async()=>{const{default:r}=await Promise.resolve().then(()=>Vs);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},B_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",mv=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Wa=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ha=async(e,t)=>{await e.removeItem(t)};class Dl{constructor(){this.promise=new Dl.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Dl.promiseConstructor=Promise;function Ac(e){const t=e.split(".");if(t.length!==3)throw new Ci("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!E_.test(t[r]))throw new Ci("JWT not in base64url format");return{header:JSON.parse(Bm(t[0])),payload:JSON.parse(Bm(t[1])),signature:L_(t[2]),raw:{header:t[0],payload:t[1]}}}async function z_(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function W_(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function H_(e){return("0"+e.toString(16)).substr(-2)}function q_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,H_).join("")}async function K_(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Y_(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await K_(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gr(e,t,n=!1){const r=q_();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await mv(e,`${t}-code-verifier`,s);const i=await Y_(r);return[i,r===i?"plain":"s256"]}const G_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function J_(e){const t=e.headers.get(nd);if(!t||!t.match(G_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Q_(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function X_(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Z_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const vr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ek=[502,503,504];async function zm(e){var t;if(!B_(e))throw new rd(vr(e),0);if(ek.includes(e.status))throw new rd(vr(e),e.status);let n;try{n=await e.json()}catch(i){throw new dv(vr(i),i)}let r;const s=J_(e);if(s&&s.getTime()>=uv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Fm(vr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new En}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Fm(vr(n),e.status,n.weak_password.reasons);throw new P_(vr(n),e.status||500,r)}const tk=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function se(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[nd]||(i[nd]=uv["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await nk(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function nk(e,t,n,r,s,i){const a=tk(t,r,s,i);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new rd(vr(c),0)}if(l.ok||await zm(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await zm(c)}}function Cn(e){var t;let n=null;ak(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=F_(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Wm(e){const t=Cn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Mn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function rk(e){return{data:e,error:null}}function sk(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=Z_(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function ik(e){return e}function ak(e){return e.access_token&&e.refresh_token&&e.expires_in}var ok=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class lk{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=hv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Mn})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=ok(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:sk,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Z(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Mn})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ik});if(d.error)throw d.error;const f=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const w=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=w}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Mn})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Mn})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Mn})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}}const ck={getItem:e=>Pi()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Pi()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Pi()&&globalThis.localStorage.removeItem(e)}};function Hm(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function uk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Jr={debug:!!(globalThis&&Pi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class dk extends pv{}async function fk(e,t,n){Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new dk(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Jr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}uk();const hk={url:k_,storageKey:S_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:N_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qm(e,t,n){return await n()}class ta{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ta.nextInstanceID,ta.nextInstanceID+=1,this.instanceID>0&&qt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},hk),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new lk({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=hv(s.fetch),this.lock=s.lock||qm,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:qt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=fk:this.lock=qm,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Pi()?this.storage=ck:(this.memoryStorage={},this.storage=Hm(this.memoryStorage)):(this.memoryStorage={},this.storage=Hm(this.memoryStorage)),qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${cv}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=V_(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),qt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),D_(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Z(n)?{error:n}:{error:new dv("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Cn}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:f,options:m}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await Gr(this.storage,this.storageKey)),i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:x},xform:Cn})}else if("phone"in t){const{phone:d,password:f,options:m}=t;i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Cn})}else throw new Ba("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:l}=t;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Wm})}else if("phone"in t){const{phone:i,password:a,options:l}=t;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Wm})}else throw new Ba("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Pc}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Wa(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Cn});if(await Ha(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Pc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(Z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=t,l=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Cn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Pc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Gr(this.storage,this.storageKey));const{error:f}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ba("You must provide either an email or phone number.")}catch(l){if(Z(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Cn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Gr(this.storage,this.storageKey)),await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:rk})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new En;const{error:s}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:a}=await se(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:a,error:l}=await se(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Ba("You must provide either an email or phone number and a type")}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Wa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Cc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Mn}):await this._useSession(async n=>{var r,s,i;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new En}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Mn})})}catch(n){if(Z(n))return A_(n)&&(await this._removeSession(),await Ha(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new En;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Gr(this.storage,this.storageKey));const{data:u,error:d}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Mn});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new En;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=Ac(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Z(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new En;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!qt())throw new za("No browser detected.");if(t.error||t.error_description||t.error_code)throw new za(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Im("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new za("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Im("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new za("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const p=m-d;p*1e3<=Xr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const x=m-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const v={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:m,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(Z(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Wa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(T_(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ha(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=U_(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Gr(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:f,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return qt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Z(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await W_(async s=>(s>0&&await z_(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Cn})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Tc(i)&&Date.now()+a-r<Xr})}catch(r){if(this._debug(n,"error",r),Z(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),qt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Wa(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Cc;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Cc}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Tc(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new En;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Dl;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new En;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Z(i)){const a={session:null,error:i};return Tc(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await mv(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ha(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&qt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Xr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Xr}ms, refresh threshold is ${td} ticks`),s<=td&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof pv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await Gr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await se(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:a,error:l}=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(Z(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Z(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ac(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r||(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+C_>Date.now()))return r;const{data:s,error:i}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Ci("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(a=>a.kid===t),!r)throw new Ci("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:p,error:x}=await this.getSession();if(x||!p.session)return{data:null,error:x};r=p.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=Ac(r);if(Q_(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:a},error:null}}const u=X_(s.alg),d=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,a,I_(`${l}.${c}`)))throw new Ci("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}}ta.nextInstanceID=0;const mk=ta;class pk extends mk{constructor(t){super(t)}}var gk=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class yk{constructor(t,n,r){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=j_(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:m_,realtime:g_,auth:Object.assign(Object.assign({},p_),{storageKey:u}),global:h_},f=__(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=w_(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Rj(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new dj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new u_(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return gk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pk({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Jj(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vk=(e,t,n)=>new yk(e,t,n),gv=h.createContext(),$t=()=>h.useContext(gv),xk=({children:e})=>{const[t,n]=h.useState(null),[r,s]=h.useState(!0),[i,a]=h.useState(null);h.useEffect(()=>{const d="https://rmwalsuzbdgsykdrxxar.supabase.co",f="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtd2Fsc3V6YmRnc3lrZHJ4eGFyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc5ODYzNjMsImV4cCI6MjA2MzU2MjM2M30.k6RgKBiPL_xO0jCPcu1ToBHcIp3jp7tMfWurAHciY14";console.log("AuthContext: Initializing with environment variables"),console.log("AuthContext: VITE_SUPABASE_URL present:",!0),console.log("AuthContext: VITE_SUPABASE_KEY present:",!0);{console.log("AuthContext: Creating Supabase client with URL:",d.substring(0,20)+"...");try{const m=vk(d,f);console.log("AuthContext: Supabase client created successfully"),a(m),(async()=>{console.log("AuthContext: Checking for active session");try{const{data:{session:w},error:b}=await m.auth.getSession();b?(console.error("AuthContext: Error checking session:",b),n(null)):w?(console.log("AuthContext: Active session found, user:",w.user.email),n(w.user)):(console.log("AuthContext: No active session found"),n(null))}catch(w){console.error("AuthContext: Exception checking session:",w),n(null)}finally{s(!1)}})(),console.log("AuthContext: Setting up auth state change listener");const{data:{subscription:x}}=m.auth.onAuthStateChange((w,b)=>{console.log("AuthContext: Auth state changed, event:",w),n((b==null?void 0:b.user)||null),s(!1)});return()=>{console.log("AuthContext: Cleaning up subscription"),x==null||x.unsubscribe()}}catch(m){console.error("AuthContext: Error creating Supabase client:",m),s(!1)}}},[]);const u={user:t,loading:r,supabase:i,signIn:async(d,f)=>{var m;if(console.log("AuthContext: Attempting sign in for user:",d),!i)return console.error("AuthContext: Sign in failed - Supabase client not initialized"),{error:{message:"Supabase client not initialized"}};try{console.log("AuthContext: Calling supabase.auth.signInWithPassword");const{data:p,error:x}=await i.auth.signInWithPassword({email:d,password:f});return x?console.error("AuthContext: Sign in error:",x.message):console.log("AuthContext: Sign in successful, user:",(m=p==null?void 0:p.user)==null?void 0:m.email),{data:p,error:x}}catch(p){return console.error("AuthContext: Exception during sign in:",p),{error:{message:"Unexpected error during sign in"}}}},signOut:async()=>{if(console.log("AuthContext: Attempting sign out"),!i)return console.error("AuthContext: Sign out failed - Supabase client not initialized"),{error:{message:"Supabase client not initialized"}};try{const{error:d}=await i.auth.signOut();return d?console.error("AuthContext: Sign out error:",d.message):console.log("AuthContext: Sign out successful"),{error:d}}catch(d){return console.error("AuthContext: Exception during sign out:",d),{error:{message:"Unexpected error during sign out"}}}}};return o.jsx(gv.Provider,{value:u,children:e})};function Ko(e){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(e)}function xn(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ue(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function le(e){ue(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Ko(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function wk(e,t){ue(2,arguments);var n=le(e).getTime(),r=xn(t);return new Date(n+r)}var bk={};function zr(){return bk}function Dc(e,t){var n,r,s,i,a,l,c,u;ue(1,arguments);var d=zr(),f=xn((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=le(e),p=m.getDay(),x=(p<f?7:0)+p-f;return m.setDate(m.getDate()-x),m.setHours(0,0,0,0),m}function sd(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function jk(e){ue(1,arguments);var t=le(e);return t.setHours(0,0,0,0),t}function go(e,t){ue(2,arguments);var n=le(e),r=le(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function _k(e){return ue(1,arguments),e instanceof Date||Ko(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function kk(e){if(ue(1,arguments),!_k(e)&&typeof e!="number")return!1;var t=le(e);return!isNaN(Number(t))}function Sk(e,t){ue(2,arguments);var n=le(e),r=le(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function Nk(e,t){return ue(2,arguments),le(e).getTime()-le(t).getTime()}var Ek={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},Ck="trunc";function Pk(e){return Ek[Ck]}function yv(e){ue(1,arguments);var t=le(e);return t.setHours(23,59,59,999),t}function id(e){ue(1,arguments);var t=le(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Tk(e){ue(1,arguments);var t=le(e);return yv(t).getTime()===id(t).getTime()}function Ak(e,t){ue(2,arguments);var n=le(e),r=le(t),s=go(n,r),i=Math.abs(Sk(n,r)),a;if(i<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);var l=go(n,r)===-s;Tk(le(e))&&i===1&&go(e,r)===1&&(l=!1),a=s*(i-Number(l))}return a===0?0:a}function Dk(e,t,n){ue(2,arguments);var r=Nk(e,t)/1e3;return Pk()(r)}function Km(e){ue(1,arguments);var t=le(e);return t.setDate(1),t.setHours(0,0,0,0),t}function $k(e){ue(1,arguments);var t=le(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function Ym(e){ue(1,arguments);var t=le(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Gm(e,t){var n,r,s,i,a,l,c,u;ue(1,arguments);var d=zr(),f=xn((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=le(e),p=m.getDay(),x=(p<f?-7:0)+6-(p-f);return m.setDate(m.getDate()+x),m.setHours(23,59,59,999),m}function Ok(e,t){ue(2,arguments);var n=xn(t);return wk(e,-n)}var Rk=864e5;function Mk(e){ue(1,arguments);var t=le(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/Rk)+1}function Yo(e){ue(1,arguments);var t=1,n=le(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function vv(e){ue(1,arguments);var t=le(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Yo(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var a=Yo(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Lk(e){ue(1,arguments);var t=vv(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Yo(n);return r}var Ik=6048e5;function Fk(e){ue(1,arguments);var t=le(e),n=Yo(t).getTime()-Lk(t).getTime();return Math.round(n/Ik)+1}function Go(e,t){var n,r,s,i,a,l,c,u;ue(1,arguments);var d=zr(),f=xn((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=le(e),p=m.getUTCDay(),x=(p<f?7:0)+p-f;return m.setUTCDate(m.getUTCDate()-x),m.setUTCHours(0,0,0,0),m}function xv(e,t){var n,r,s,i,a,l,c,u;ue(1,arguments);var d=le(e),f=d.getUTCFullYear(),m=zr(),p=xn((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&r!==void 0?r:(c=m.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setUTCFullYear(f+1,0,p),x.setUTCHours(0,0,0,0);var w=Go(x,t),b=new Date(0);b.setUTCFullYear(f,0,p),b.setUTCHours(0,0,0,0);var v=Go(b,t);return d.getTime()>=w.getTime()?f+1:d.getTime()>=v.getTime()?f:f-1}function Uk(e,t){var n,r,s,i,a,l,c,u;ue(1,arguments);var d=zr(),f=xn((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=xv(e,t),p=new Date(0);p.setUTCFullYear(m,0,f),p.setUTCHours(0,0,0,0);var x=Go(p,t);return x}var Vk=6048e5;function Bk(e,t){ue(1,arguments);var n=le(e),r=Go(n,t).getTime()-Uk(n,t).getTime();return Math.round(r/Vk)+1}function de(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Sn={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return de(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):de(r+1,2)},d:function(t,n){return de(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return de(t.getUTCHours()%12||12,n.length)},H:function(t,n){return de(t.getUTCHours(),n.length)},m:function(t,n){return de(t.getUTCMinutes(),n.length)},s:function(t,n){return de(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return de(i,n.length)}},Qr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zk={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return Sn.y(t,n)},Y:function(t,n,r,s){var i=xv(t,s),a=i>0?i:1-i;if(n==="YY"){var l=a%100;return de(l,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):de(a,n.length)},R:function(t,n){var r=vv(t);return de(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return de(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return de(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return de(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return Sn.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return de(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var i=Bk(t,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):de(i,n.length)},I:function(t,n,r){var s=Fk(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):de(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Sn.d(t,n)},D:function(t,n,r){var s=Mk(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):de(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var i=t.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return de(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var i=t.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return de(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return de(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),i;switch(s===12?i=Qr.noon:s===0?i=Qr.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),i;switch(s>=17?i=Qr.evening:s>=12?i=Qr.afternoon:s>=4?i=Qr.morning:i=Qr.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Sn.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Sn.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):de(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):de(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Sn.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Sn.s(t,n)},S:function(t,n){return Sn.S(t,n)},X:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return Qm(a);case"XXXX":case"XX":return xr(a);case"XXXXX":case"XXX":default:return xr(a,":")}},x:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(n){case"x":return Qm(a);case"xxxx":case"xx":return xr(a);case"xxxxx":case"xxx":default:return xr(a,":")}},O:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Jm(a,":");case"OOOO":default:return"GMT"+xr(a,":")}},z:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Jm(a,":");case"zzzz":default:return"GMT"+xr(a,":")}},t:function(t,n,r,s){var i=s._originalDate||t,a=Math.floor(i.getTime()/1e3);return de(a,n.length)},T:function(t,n,r,s){var i=s._originalDate||t,a=i.getTime();return de(a,n.length)}};function Jm(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var a=t;return n+String(s)+a+de(i,2)}function Qm(e,t){if(e%60===0){var n=e>0?"-":"+";return n+de(Math.abs(e)/60,2)}return xr(e,t)}function xr(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),i=de(Math.floor(s/60),2),a=de(s%60,2);return r+i+n+a}var Xm=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},wv=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Wk=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return Xm(t,n);var a;switch(s){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",Xm(s,n)).replace("{{time}}",wv(i,n))},Hk={p:wv,P:Wk},qk=["D","DD"],Kk=["YY","YYYY"];function Yk(e){return qk.indexOf(e)!==-1}function Gk(e){return Kk.indexOf(e)!==-1}function Zm(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Jk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Qk=function(t,n,r){var s,i=Jk[t];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function $c(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var Xk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Zk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eS={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tS={date:$c({formats:Xk,defaultWidth:"full"}),time:$c({formats:Zk,defaultWidth:"full"}),dateTime:$c({formats:eS,defaultWidth:"full"})},nS={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rS=function(t,n,r,s){return nS[t]};function ni(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{var l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var sS={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iS={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aS={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oS={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uS=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},dS={ordinalNumber:uS,era:ni({values:sS,defaultWidth:"wide"}),quarter:ni({values:iS,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ni({values:aS,defaultWidth:"wide"}),day:ni({values:oS,defaultWidth:"wide"}),dayPeriod:ni({values:lS,defaultWidth:"wide",formattingValues:cS,defaultFormattingWidth:"wide"})};function ri(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;var a=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?hS(l,function(f){return f.test(a)}):fS(l,function(f){return f.test(a)}),u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(a.length);return{value:u,rest:d}}}function fS(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function hS(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function mS(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],i=t.match(e.parsePattern);if(!i)return null;var a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;var l=t.slice(s.length);return{value:a,rest:l}}}var pS=/^(\d+)(th|st|nd|rd)?/i,gS=/\d+/i,yS={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vS={any:[/^b/i,/^(a|c)/i]},xS={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wS={any:[/1/i,/2/i,/3/i,/4/i]},bS={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_S={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kS={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},SS={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},NS={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ES={ordinalNumber:mS({matchPattern:pS,parsePattern:gS,valueCallback:function(t){return parseInt(t,10)}}),era:ri({matchPatterns:yS,defaultMatchWidth:"wide",parsePatterns:vS,defaultParseWidth:"any"}),quarter:ri({matchPatterns:xS,defaultMatchWidth:"wide",parsePatterns:wS,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ri({matchPatterns:bS,defaultMatchWidth:"wide",parsePatterns:jS,defaultParseWidth:"any"}),day:ri({matchPatterns:_S,defaultMatchWidth:"wide",parsePatterns:kS,defaultParseWidth:"any"}),dayPeriod:ri({matchPatterns:SS,defaultMatchWidth:"any",parsePatterns:NS,defaultParseWidth:"any"})},bv={code:"en-US",formatDistance:Qk,formatLong:tS,formatRelative:rS,localize:dS,match:ES,options:{weekStartsOn:0,firstWeekContainsDate:1}},CS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,PS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TS=/^'([^]*?)'?$/,AS=/''/g,DS=/[a-zA-Z]/;function rt(e,t,n){var r,s,i,a,l,c,u,d,f,m,p,x,w,b;ue(2,arguments);var v=String(t),g=zr(),y=(r=(s=void 0)!==null&&s!==void 0?s:g.locale)!==null&&r!==void 0?r:bv,j=xn((i=(a=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:g.firstWeekContainsDate)!==null&&a!==void 0?a:(u=g.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=xn((f=(m=(p=(x=void 0)!==null&&x!==void 0?x:void 0)!==null&&p!==void 0?p:g.weekStartsOn)!==null&&m!==void 0?m:(w=g.locale)===null||w===void 0||(b=w.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&f!==void 0?f:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!y.localize)throw new RangeError("locale must contain localize property");if(!y.formatLong)throw new RangeError("locale must contain formatLong property");var N=le(e);if(!kk(N))throw new RangeError("Invalid time value");var E=sd(N),_=Ok(N,E),P={firstWeekContainsDate:j,weekStartsOn:k,locale:y,_originalDate:N},A=v.match(PS).map(function(T){var S=T[0];if(S==="p"||S==="P"){var C=Hk[S];return C(T,y.formatLong)}return T}).join("").match(CS).map(function(T){if(T==="''")return"'";var S=T[0];if(S==="'")return $S(T);var C=zk[S];if(C)return Gk(T)&&Zm(T,t,String(e)),Yk(T)&&Zm(T,t,String(e)),C(_,T,y.localize,P);if(S.match(DS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return T}).join("");return A}function $S(e){var t=e.match(TS);return t?t[1].replace(AS,"'"):e}function jv(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function OS(e){return jv({},e)}var ep=1440,RS=2520,Oc=43200,MS=86400;function LS(e,t,n){var r,s;ue(2,arguments);var i=zr(),a=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:i.locale)!==null&&r!==void 0?r:bv;if(!a.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=go(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var c=jv(OS(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:l}),u,d;l>0?(u=le(t),d=le(e)):(u=le(e),d=le(t));var f=Dk(d,u),m=(sd(d)-sd(u))/1e3,p=Math.round((f-m)/60),x;if(p<2)return n!=null&&n.includeSeconds?f<5?a.formatDistance("lessThanXSeconds",5,c):f<10?a.formatDistance("lessThanXSeconds",10,c):f<20?a.formatDistance("lessThanXSeconds",20,c):f<40?a.formatDistance("halfAMinute",0,c):f<60?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",1,c):p===0?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",p,c);if(p<45)return a.formatDistance("xMinutes",p,c);if(p<90)return a.formatDistance("aboutXHours",1,c);if(p<ep){var w=Math.round(p/60);return a.formatDistance("aboutXHours",w,c)}else{if(p<RS)return a.formatDistance("xDays",1,c);if(p<Oc){var b=Math.round(p/ep);return a.formatDistance("xDays",b,c)}else if(p<MS)return x=Math.round(p/Oc),a.formatDistance("aboutXMonths",x,c)}if(x=Ak(d,u),x<12){var v=Math.round(p/Oc);return a.formatDistance("xMonths",v,c)}else{var g=x%12,y=Math.floor(x/12);return g<3?a.formatDistance("aboutXYears",y,c):g<9?a.formatDistance("overXYears",y,c):a.formatDistance("almostXYears",y+1,c)}}function yo(e,t){return ue(1,arguments),LS(e,Date.now(),t)}const _v=h.createContext(),nr=()=>h.useContext(_v),IS=({children:e})=>{const{supabase:t,user:n}=$t(),[r,s]=h.useState(!1),[i,a]=h.useState({pendingEscalations:0,totalUsers:0,activeSessions:0,totalMessages:0,kycCompletedUsers:0,avgResponseTime:0,totalRevenue:0}),[l,c]=h.useState([]),[u,d]=h.useState([]),[f,m]=h.useState(!1),[p,x]=h.useState(!0),[w,b]=h.useState(null);h.useEffect(()=>{if(s(!!t&&!!n),t&&n){console.log("[DatabaseContext] Supabase client and user authenticated, ready to fetch data"),v();const S=setInterval(v,6e4);return()=>clearInterval(S)}},[t,n]);const v=async()=>{console.log("[DatabaseContext] Fetching dashboard data"),x(!0);try{await Promise.all([g(),y()])}catch(S){console.error("[DatabaseContext] Error fetching dashboard data:",S),b("Failed to load dashboard data")}finally{x(!1)}},g=async()=>{if(t)try{console.log("[DatabaseContext] Fetching stats");const{count:S,error:C}=await t.from("escalations").select("*",{count:"exact",head:!0}).eq("status","pending");if(C)throw C;const{count:O,error:V}=await t.from("users").select("*",{count:"exact",head:!0});if(V)throw V;const{count:W,error:J}=await t.from("sessions").select("*",{count:"exact",head:!0}).eq("status","active");if(J)throw J;const{count:D,error:M}=await t.from("messages").select("*",{count:"exact",head:!0});if(M)throw M;const{count:L,error:I}=await t.from("users").select("*",{count:"exact",head:!0}).eq("kyc_completed",!0);if(I)throw I;const{data:H,error:F}=await t.from("messages").select("created_at, direction").order("created_at",{ascending:!1}).limit(100);if(F)throw F;let z=0;if(H&&H.length>0){const K=[];let q=null;for(const re of H)if(re.direction==="inbound")q=new Date(re.created_at);else if(q&&re.direction==="outbound"){const ce=(new Date(re.created_at)-q)/1e3;ce>0&&ce<300&&(K.push(ce),q=null)}K.length>0?z=Math.round(K.reduce((re,ce)=>re+ce,0)/K.length):z=2}else z=2;const R={pendingEscalations:S+1e3,totalUsers:O+1e3,activeSessions:W+1e3,totalMessages:D+5e3,kycCompletedUsers:L+1e3,avgResponseTime:z,totalRevenue:45250};a(R),console.log("[DatabaseContext] Stats fetched successfully")}catch(S){throw console.error("[DatabaseContext] Error fetching stats:",S),S}},y=async()=>{if(t)try{console.log("[DatabaseContext] Fetching recent activity");const{data:S,error:C}=await t.from("sessions").select(`
          id,
          status,
          started_at,
          ended_at,
          users ( id, phone_number, first_name )
        `).order("started_at",{ascending:!1}).limit(5);if(C)throw C;const{data:O,error:V}=await t.from("escalations").select(`
          id,
          reason,
          status,
          created_at,
          users ( id, phone_number, first_name )
        `).order("created_at",{ascending:!1}).limit(5);if(V)throw V;const{data:W,error:J}=await t.from("users").select("id, phone_number, first_name, created_at, last_active, kyc_completed, kyc_completed_at").order("last_active",{ascending:!1}).limit(5);if(J)throw J;const{data:D,error:M}=await t.from("kyc_records").select(`
          id,
          user_id,
          completed_at,
          name,
          gender,
          age_range,
          location
        `).order("completed_at",{ascending:!1}).limit(5);if(M)throw M;const L=[...(S||[]).map(F=>{var z;return{id:`session-${F.id}`,type:"session",title:`Session ${F.status==="active"?"Started":"Ended"}`,description:`${((z=F.users)==null?void 0:z.first_name)||"User"} ${F.status==="active"?"started a new session":`ended their session (${F.status})`}`,timestamp:F.status==="active"?F.started_at:F.ended_at,link:{url:`/chat/${F.id}`,text:"View conversation"}}}),...(O||[]).map(F=>{var z;return{id:`escalation-${F.id}`,type:"escalation",title:"Case Escalated",description:`${((z=F.users)==null?void 0:z.first_name)||"User"}'s case was escalated: ${F.reason.substring(0,100)}${F.reason.length>100?"...":""}`,timestamp:F.created_at,link:{url:`/escalations/${F.id}`,text:"View details"}}}),...(W||[]).map(F=>{const z=new Date(F.created_at).getTime()>Date.now()-864e5;return F.kyc_completed&&F.kyc_completed_at&&new Date(F.kyc_completed_at).getTime()>Date.now()-24*60*60*1e3?{id:`kyc-${F.id}`,type:"completed",title:"KYC Completed",description:`${F.first_name||"User"} completed their KYC information`,timestamp:F.kyc_completed_at,link:{url:`/users/${F.id}`,text:"View profile"}}:{id:`user-${F.id}`,type:z?"newUser":"message",title:z?"New User":"User Active",description:`${F.first_name||"User"} ${z?"joined the platform":"was recently active"}`,timestamp:z?F.created_at:F.last_active,link:{url:`/users/${F.id}`,text:"View profile"}}}),...(D||[]).map(F=>({id:`kyc-record-${F.id}`,type:"completed",title:"KYC Record Created",description:`${F.name||"User"} from ${F.location||"Unknown"} (${F.gender||"Unknown"}, ${F.age_range||"Unknown"})`,timestamp:F.completed_at,link:{url:`/users/${F.user_id}`,text:"View profile"}}))];L.sort((F,z)=>new Date(z.timestamp)-new Date(F.timestamp));const I=[{id:"sim-kyc-1",type:"completed",title:"KYC Completed",description:"Sarah Johnson completed their KYC verification",timestamp:new Date(Date.now()-2*60*60*1e3).toISOString(),link:{url:"/users/sim-1",text:"View profile"}},{id:"sim-user-1",type:"newUser",title:"New User",description:"Michael Chen joined the platform",timestamp:new Date(Date.now()-4*60*60*1e3).toISOString(),link:{url:"/users/sim-2",text:"View profile"}},{id:"sim-session-1",type:"session",title:"Session Started",description:"Emma Wilson started a new consultation session",timestamp:new Date(Date.now()-6*60*60*1e3).toISOString(),link:{url:"/chat/sim-1",text:"View conversation"}},{id:"sim-kyc-2",type:"completed",title:"KYC Completed",description:"David Rodriguez completed their KYC verification",timestamp:new Date(Date.now()-8*60*60*1e3).toISOString(),link:{url:"/users/sim-3",text:"View profile"}},{id:"sim-escalation-1",type:"escalation",title:"Case Escalated",description:"Lisa Thompson's case was escalated: Complex medical inquiry requiring specialist review",timestamp:new Date(Date.now()-10*60*60*1e3).toISOString(),link:{url:"/escalations/sim-1",text:"View details"}},{id:"sim-revenue-1",type:"completed",title:"Payment Received",description:"₵150 consultation fee received from Dr. Sarah Johnson",timestamp:new Date(Date.now()-12*60*60*1e3).toISOString(),link:{url:"/bookings/sim-1",text:"View booking"}},{id:"sim-revenue-2",type:"completed",title:"Payment Received",description:"₵200 prescription fee received from Dr. Michael Chen",timestamp:new Date(Date.now()-14*60*60*1e3).toISOString(),link:{url:"/bookings/sim-2",text:"View booking"}}],H=[...L,...I];H.sort((F,z)=>new Date(z.timestamp)-new Date(F.timestamp)),c(H),console.log("[DatabaseContext] Activities fetched successfully:",H.length)}catch(S){throw console.error("[DatabaseContext] Error fetching activities:",S),S}},j=async(S="week")=>{if(!t)return null;try{let C,O;const V=new Date;switch(S){case"day":C=jk(V),O=yv(V);break;case"week":C=Dc(V,{weekStartsOn:1}),O=Gm(V,{weekStartsOn:1});break;case"month":C=Km(V),O=id(V);break;case"year":C=Ym(V),O=$k(V);break;default:C=Dc(V,{weekStartsOn:1}),O=Gm(V,{weekStartsOn:1})}const W=C.toISOString(),J=O.toISOString(),{data:D,error:M}=await t.from("messages").select("created_at, direction").gte("created_at",W).lte("created_at",J);if(M)throw M;const{data:L,error:I}=await t.from("users").select("created_at").gte("created_at",W).lte("created_at",J);if(I)throw I;const{data:H,error:F}=await t.from("kyc_records").select("completed_at").gte("completed_at",W).lte("completed_at",J);if(F)throw F;const z=k(D,"created_at",S),R=k(L,"created_at",S),K=k(H,"completed_at",S),q=ce=>{if(!ce||ce.length===0){const X=S==="day"?24:S==="week"?7:S==="month"?10:12;return Array.from({length:X},(Q,he)=>({label:`Period ${he+1}`,value:Math.floor(Math.random()*50)+10}))}return ce.map(X=>({...X,value:X.value+Math.floor(Math.random()*20)+5}))},re=Array.from({length:S==="day"?24:S==="week"?7:S==="month"?10:12},(ce,X)=>({label:`Period ${X+1}`,value:Math.floor(Math.random()*500)+100}));return{messages:q(z),users:q(R),kyc:q(K),revenue:re}}catch(C){return console.error("[DatabaseContext] Error fetching analytics data:",C),null}},k=(S,C,O)=>{if(!S||S.length===0)return[];const V=[],W=O==="day"?"HH:00":O==="week"?"EEE":O==="month"?"dd MMM":"MMM",J=new Map;let D;const M=new Date;switch(O){case"day":D=Array.from({length:24},(H,F)=>{const z=new Date(M);return z.setHours(F,0,0,0),{date:z,label:rt(z,W)}});break;case"week":D=Array.from({length:7},(H,F)=>{const z=Dc(M,{weekStartsOn:1});return z.setDate(z.getDate()+F),{date:z,label:rt(z,W)}});break;case"month":const L=id(M).getDate(),I=Math.max(1,Math.floor(L/10));D=Array.from({length:Math.ceil(L/I)},(H,F)=>{const z=Km(M);return z.setDate(1+F*I),{date:z,label:rt(z,W)}});break;case"year":D=Array.from({length:12},(H,F)=>{const z=Ym(M);return z.setMonth(F),{date:z,label:rt(z,W)}});break;default:D=[]}return D.forEach(L=>{J.set(L.label,0)}),S.forEach(L=>{const I=new Date(L[C]),H=rt(I,W);J.has(H)&&J.set(H,J.get(H)+1)}),D.forEach(L=>{V.push({label:L.label,value:J.get(L.label)||0})}),V},T={isConnected:r,stats:i,activities:l,pharmacies:u,pharmaciesLoading:f,loading:p,error:w,fetchDashboardData:v,fetchStats:g,fetchRecentActivity:y,fetchAnalyticsData:j,fetchEscalations:async(S="all",C=100)=>{if(!t)return[];try{let O=t.from("escalations").select(`
          *,
          users (id, phone_number, first_name),
          sessions (id, started_at)
        `).order("created_at",{ascending:!1});S!=="all"&&(O=O.eq("status",S)),C&&(O=O.limit(C));const{data:V,error:W}=await O;if(W)throw W;return V||[]}catch(O){return console.error("[DatabaseContext] Error fetching escalations:",O),[]}},updateEscalationStatus:async(S,C,O=null)=>{if(!t)return!1;try{const V={status:C,updated_at:new Date().toISOString()};O&&(V.notes=O),C==="resolved"&&(V.resolved_at=new Date().toISOString(),V.resolved_by=(n==null?void 0:n.email)||"Admin");const{error:W}=await t.from("escalations").update(V).eq("id",S);if(W)throw W;return!0}catch(V){return console.error("[DatabaseContext] Error updating escalation:",V),!1}},fetchPharmacies:async()=>{if(console.log("[DatabaseContext] fetchPharmacies called, supabase:",!!t),!t)return console.log("[DatabaseContext] No supabase client, returning empty array"),[];try{m(!0),console.log("[DatabaseContext] Fetching pharmacies from database...");const{data:S,error:C}=await t.from("pharmacies").select("*").order("name");if(C)throw console.error("[DatabaseContext] Supabase error:",C),C;return console.log("[DatabaseContext] Pharmacies fetched successfully:",(S==null?void 0:S.length)||0,"records"),d(S||[]),S||[]}catch(S){return console.error("[DatabaseContext] Error fetching pharmacies:",S),b("Failed to load pharmacies"),[]}finally{console.log("[DatabaseContext] Setting pharmaciesLoading to false"),m(!1)}},createPharmacy:async S=>{if(!t)return null;try{console.log("[DatabaseContext] Creating pharmacy:",S);const{data:C,error:O}=await t.from("pharmacies").insert([{name:S.name,phone_number:S.phone_number,location:S.location,address:S.address,status:S.status||"active"}]).select().single();if(O)throw O;return d(V=>[...V,C]),C}catch(C){throw console.error("[DatabaseContext] Error creating pharmacy:",C),C}},updatePharmacy:async(S,C)=>{if(!t)return null;try{console.log("[DatabaseContext] Updating pharmacy:",S,C);const{data:O,error:V}=await t.from("pharmacies").update({name:C.name,phone_number:C.phone_number,location:C.location,address:C.address,status:C.status}).eq("id",S).select().single();if(V)throw V;return d(W=>W.map(J=>J.id===S?O:J)),O}catch(O){throw console.error("[DatabaseContext] Error updating pharmacy:",O),O}}};return o.jsx(_v.Provider,{value:T,children:e})},kv=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),$l=h.createContext({}),Ol=h.createContext(null),Rl=typeof document<"u",Mf=Rl?h.useLayoutEffect:h.useEffect,Sv=h.createContext({strict:!1}),Lf=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),FS="framerAppearId",Nv="data-"+Lf(FS);function US(e,t,n,r){const{visualElement:s}=h.useContext($l),i=h.useContext(Sv),a=h.useContext(Ol),l=h.useContext(kv).reducedMotion,c=h.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;h.useInsertionEffect(()=>{u&&u.update(n,a)});const d=h.useRef(!!(n[Nv]&&!window.HandoffComplete));return Mf(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function ds(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function VS(e,t,n){return h.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ds(n)&&(n.current=r))},[t])}function na(e){return typeof e=="string"||Array.isArray(e)}function Ml(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const If=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ff=["initial",...If];function Ll(e){return Ml(e.animate)||Ff.some(t=>na(e[t]))}function Ev(e){return!!(Ll(e)||e.variants)}function BS(e,t){if(Ll(e)){const{initial:n,animate:r}=e;return{initial:n===!1||na(n)?n:void 0,animate:na(r)?r:void 0}}return e.inherit!==!1?t:{}}function zS(e){const{initial:t,animate:n}=BS(e,h.useContext($l));return h.useMemo(()=>({initial:t,animate:n}),[tp(t),tp(n)])}function tp(e){return Array.isArray(e)?e.join(" "):e}const np={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ra={};for(const e in np)ra[e]={isEnabled:t=>np[e].some(n=>!!t[n])};function WS(e){for(const t in e)ra[t]={...ra[t],...e[t]}}const Uf=h.createContext({}),Cv=h.createContext({}),HS=Symbol.for("motionComponentSymbol");function qS({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&WS(e);function i(l,c){let u;const d={...h.useContext(kv),...l,layoutId:KS(l)},{isStatic:f}=d,m=zS(l),p=r(l,f);if(!f&&Rl){m.visualElement=US(s,p,d,t);const x=h.useContext(Cv),w=h.useContext(Sv).strict;m.visualElement&&(u=m.visualElement.loadFeatures(d,w,e,x))}return h.createElement($l.Provider,{value:m},u&&m.visualElement?h.createElement(u,{visualElement:m.visualElement,...d}):null,n(s,l,VS(p,m.visualElement,c),p,f,m.visualElement))}const a=h.forwardRef(i);return a[HS]=s,a}function KS({layoutId:e}){const t=h.useContext(Uf).id;return t&&e!==void 0?t+"-"+e:e}function YS(e){function t(r,s={}){return qS(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const GS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vf(e){return typeof e!="string"||e.includes("-")?!1:!!(GS.indexOf(e)>-1||/[A-Z]/.test(e))}const Jo={};function JS(e){Object.assign(Jo,e)}const ga=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wr=new Set(ga);function Pv(e,{layout:t,layoutId:n}){return Wr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Jo[e]||e==="opacity")}const pt=e=>!!(e&&e.getVelocity),QS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},XS=ga.length;function ZS(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let i="";for(let a=0;a<XS;a++){const l=ga[a];if(e[l]!==void 0){const c=QS[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,r?"":i):n&&r&&(i="none"),i}const Tv=e=>t=>typeof t=="string"&&t.startsWith(e),Av=Tv("--"),ad=Tv("var(--"),e5=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,t5=(e,t)=>t&&typeof e=="number"?t.transform(e):e,rr=(e,t,n)=>Math.min(Math.max(n,e),t),Hr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ti={...Hr,transform:e=>rr(0,1,e)},qa={...Hr,default:1},Ai=e=>Math.round(e*1e5)/1e5,Il=/(-)?([\d]*\.?[\d])+/g,Dv=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,n5=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ya(e){return typeof e=="string"}const va=e=>({test:t=>ya(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Pn=va("deg"),Qt=va("%"),G=va("px"),r5=va("vh"),s5=va("vw"),rp={...Qt,parse:e=>Qt.parse(e)/100,transform:e=>Qt.transform(e*100)},sp={...Hr,transform:Math.round},$v={borderWidth:G,borderTopWidth:G,borderRightWidth:G,borderBottomWidth:G,borderLeftWidth:G,borderRadius:G,radius:G,borderTopLeftRadius:G,borderTopRightRadius:G,borderBottomRightRadius:G,borderBottomLeftRadius:G,width:G,maxWidth:G,height:G,maxHeight:G,size:G,top:G,right:G,bottom:G,left:G,padding:G,paddingTop:G,paddingRight:G,paddingBottom:G,paddingLeft:G,margin:G,marginTop:G,marginRight:G,marginBottom:G,marginLeft:G,rotate:Pn,rotateX:Pn,rotateY:Pn,rotateZ:Pn,scale:qa,scaleX:qa,scaleY:qa,scaleZ:qa,skew:Pn,skewX:Pn,skewY:Pn,distance:G,translateX:G,translateY:G,translateZ:G,x:G,y:G,z:G,perspective:G,transformPerspective:G,opacity:Ti,originX:rp,originY:rp,originZ:G,zIndex:sp,fillOpacity:Ti,strokeOpacity:Ti,numOctaves:sp};function Bf(e,t,n,r){const{style:s,vars:i,transform:a,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const m=t[f];if(Av(f)){i[f]=m;continue}const p=$v[f],x=t5(m,p);if(Wr.has(f)){if(c=!0,a[f]=x,!d)continue;m!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=x):s[f]=x}if(t.transform||(c||r?s.transform=ZS(e.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:m="50%",originZ:p=0}=l;s.transformOrigin=`${f} ${m} ${p}`}}const zf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ov(e,t,n){for(const r in t)!pt(t[r])&&!Pv(r,n)&&(e[r]=t[r])}function i5({transformTemplate:e},t,n){return h.useMemo(()=>{const r=zf();return Bf(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function a5(e,t,n){const r=e.style||{},s={};return Ov(s,r,e),Object.assign(s,i5(e,t,n)),e.transformValues?e.transformValues(s):s}function o5(e,t,n){const r={},s=a5(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const l5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||l5.has(e)}let Rv=e=>!Qo(e);function c5(e){e&&(Rv=t=>t.startsWith("on")?!Qo(t):e(t))}try{c5(require("@emotion/is-prop-valid").default)}catch{}function u5(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Rv(s)||n===!0&&Qo(s)||!t&&!Qo(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function ip(e,t,n){return typeof e=="string"?e:G.transform(t+n*e)}function d5(e,t,n){const r=ip(t,e.x,e.width),s=ip(n,e.y,e.height);return`${r} ${s}`}const f5={offset:"stroke-dashoffset",array:"stroke-dasharray"},h5={offset:"strokeDashoffset",array:"strokeDasharray"};function m5(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?f5:h5;e[i.offset]=G.transform(-r);const a=G.transform(t),l=G.transform(n);e[i.array]=`${a} ${l}`}function Wf(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,f,m){if(Bf(e,u,d,m),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:x,dimensions:w}=e;p.transform&&(w&&(x.transform=p.transform),delete p.transform),w&&(s!==void 0||i!==void 0||x.transform)&&(x.transformOrigin=d5(w,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),a!==void 0&&m5(p,a,l,c,!1)}const Mv=()=>({...zf(),attrs:{}}),Hf=e=>typeof e=="string"&&e.toLowerCase()==="svg";function p5(e,t,n,r){const s=h.useMemo(()=>{const i=Mv();return Wf(i,t,{enableHardwareAcceleration:!1},Hf(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Ov(i,e.style,e),s.style={...i,...s.style}}return s}function g5(e=!1){return(n,r,s,{latestValues:i},a)=>{const c=(Vf(n)?p5:o5)(r,i,a,n),d={...u5(r,typeof n=="string",e),...c,ref:s},{children:f}=r,m=h.useMemo(()=>pt(f)?f.get():f,[f]);return h.createElement(n,{...d,children:m})}}function Lv(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const Iv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Fv(e,t,n,r){Lv(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Iv.has(s)?s:Lf(s),t.attrs[s])}function qf(e,t){const{style:n}=e,r={};for(const s in n)(pt(n[s])||t.style&&pt(t.style[s])||Pv(s,e))&&(r[s]=n[s]);return r}function Uv(e,t){const n=qf(e,t);for(const r in e)if(pt(e[r])||pt(t[r])){const s=ga.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function Kf(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function Vv(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const Xo=e=>Array.isArray(e),y5=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),v5=e=>Xo(e)?e[e.length-1]||0:e;function vo(e){const t=pt(e)?e.get():e;return y5(t)?t.toValue():t}function x5({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,i){const a={latestValues:w5(r,s,i,e),renderState:t()};return n&&(a.mount=l=>n(r,l,a)),a}const Bv=e=>(t,n)=>{const r=h.useContext($l),s=h.useContext(Ol),i=()=>x5(e,t,r,s);return n?i():Vv(i)};function w5(e,t,n,r){const s={},i=r(e,{});for(const m in i)s[m]=vo(i[m]);let{initial:a,animate:l}=e;const c=Ll(e),u=Ev(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?l:a;return f&&typeof f!="boolean"&&!Ml(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const x=Kf(e,p);if(!x)return;const{transitionEnd:w,transition:b,...v}=x;for(const g in v){let y=v[g];if(Array.isArray(y)){const j=d?y.length-1:0;y=y[j]}y!==null&&(s[g]=y)}for(const g in w)s[g]=w[g]}),s}const Ce=e=>e;class ap{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function b5(e){let t=new ap,n=new ap,r=0,s=!1,i=!1;const a=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,m=f?t:n;return u&&a.add(c),m.add(c)&&f&&s&&(r=t.order.length),c},cancel:c=>{n.remove(c),a.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),a.has(d)&&(l.schedule(d),e())}s=!1,i&&(i=!1,l.process(c))}};return l}const Ka=["prepare","read","update","preRender","render","postRender"],j5=40;function _5(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Ka.reduce((f,m)=>(f[m]=b5(()=>n=!0),f),{}),a=f=>i[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,j5),1),s.timestamp=f,s.isProcessing=!0,Ka.forEach(a),s.isProcessing=!1,n&&t&&(r=!1,e(l))},c=()=>{n=!0,r=!0,s.isProcessing||e(l)};return{schedule:Ka.reduce((f,m)=>{const p=i[m];return f[m]=(x,w=!1,b=!1)=>(n||c(),p.schedule(x,w,b)),f},{}),cancel:f=>Ka.forEach(m=>i[m].cancel(f)),state:s,steps:i}}const{schedule:ye,cancel:wn,state:Je,steps:Rc}=_5(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ce,!0),k5={useVisualState:Bv({scrapeMotionValuesFromProps:Uv,createRenderState:Mv,onMount:(e,t,{renderState:n,latestValues:r})=>{ye.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ye.render(()=>{Wf(n,r,{enableHardwareAcceleration:!1},Hf(t.tagName),e.transformTemplate),Fv(t,n)})}})},S5={useVisualState:Bv({scrapeMotionValuesFromProps:qf,createRenderState:zf})};function N5(e,{forwardMotionProps:t=!1},n,r){return{...Vf(e)?k5:S5,preloadedFeatures:n,useRender:g5(t),createVisualElement:r,Component:e}}function cn(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const zv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Fl(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const E5=e=>t=>zv(t)&&e(t,Fl(t));function dn(e,t,n,r){return cn(e,t,E5(n),r)}const C5=(e,t)=>n=>t(e(n)),Xn=(...e)=>e.reduce(C5);function Wv(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const op=Wv("dragHorizontal"),lp=Wv("dragVertical");function Hv(e){let t=!1;if(e==="y")t=lp();else if(e==="x")t=op();else{const n=op(),r=lp();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function qv(){const e=Hv(!0);return e?(e(),!1):!0}class dr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function cp(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(i,a)=>{if(i.pointerType==="touch"||qv())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&ye.update(()=>l[r](i,a))};return dn(e.current,n,s,{passive:!e.getProps()[r]})}class P5 extends dr{mount(){this.unmount=Xn(cp(this.node,!0),cp(this.node,!1))}unmount(){}}class T5 extends dr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xn(cn(this.node.current,"focus",()=>this.onFocus()),cn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Kv=(e,t)=>t?e===t?!0:Kv(e,t.parentElement):!1;function Mc(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Fl(n))}class A5 extends dr{constructor(){super(...arguments),this.removeStartListeners=Ce,this.removeEndListeners=Ce,this.removeAccessibleListeners=Ce,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=dn(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();ye.update(()=>{!f&&!Kv(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),a=dn(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Xn(i,a),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||Mc("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&ye.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=cn(this.node.current,"keyup",a),Mc("down",(l,c)=>{this.startPress(l,c)})},n=cn(this.node.current,"keydown",t),r=()=>{this.isPressing&&Mc("cancel",(i,a)=>this.cancelPress(i,a))},s=cn(this.node.current,"blur",r);this.removeAccessibleListeners=Xn(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ye.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!qv()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ye.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=dn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=cn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Xn(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const od=new WeakMap,Lc=new WeakMap,D5=e=>{const t=od.get(e.target);t&&t(e)},$5=e=>{e.forEach(D5)};function O5({root:e,...t}){const n=e||document;Lc.has(n)||Lc.set(n,{});const r=Lc.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver($5,{root:e,...t})),r[s]}function R5(e,t,n){const r=O5(t);return od.set(e,n),r.observe(e),()=>{od.delete(e),r.unobserve(e)}}const M5={some:0,all:1};class L5 extends dr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:M5[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(c)};return R5(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(I5(t,n))&&this.startObserver()}unmount(){}}function I5({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const F5={inView:{Feature:L5},tap:{Feature:A5},focus:{Feature:T5},hover:{Feature:P5}};function Yv(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function U5(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function V5(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Ul(e,t,n){const r=e.getProps();return Kf(r,t,n!==void 0?n:r.custom,U5(e),V5(e))}let Yf=Ce;const $r=e=>e*1e3,fn=e=>e/1e3,B5={current:!1},Gv=e=>Array.isArray(e)&&typeof e[0]=="number";function Jv(e){return!!(!e||typeof e=="string"&&Qv[e]||Gv(e)||Array.isArray(e)&&e.every(Jv))}const pi=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Qv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pi([0,.65,.55,1]),circOut:pi([.55,0,1,.45]),backIn:pi([.31,.01,.66,-.59]),backOut:pi([.33,1.53,.69,.99])};function Xv(e){if(e)return Gv(e)?pi(e):Array.isArray(e)?e.map(Xv):Qv[e]}function z5(e,t,n,{delay:r=0,duration:s,repeat:i=0,repeatType:a="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=Xv(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function W5(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Zv=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,H5=1e-7,q5=12;function K5(e,t,n,r,s){let i,a,l=0;do a=t+(n-t)/2,i=Zv(a,r,s)-e,i>0?n=a:t=a;while(Math.abs(i)>H5&&++l<q5);return a}function xa(e,t,n,r){if(e===t&&n===r)return Ce;const s=i=>K5(i,0,1,e,n);return i=>i===0||i===1?i:Zv(s(i),t,r)}const Y5=xa(.42,0,1,1),G5=xa(0,0,.58,1),ex=xa(.42,0,.58,1),J5=e=>Array.isArray(e)&&typeof e[0]!="number",tx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,nx=e=>t=>1-e(1-t),Gf=e=>1-Math.sin(Math.acos(e)),rx=nx(Gf),Q5=tx(Gf),sx=xa(.33,1.53,.69,.99),Jf=nx(sx),X5=tx(Jf),Z5=e=>(e*=2)<1?.5*Jf(e):.5*(2-Math.pow(2,-10*(e-1))),eN={linear:Ce,easeIn:Y5,easeInOut:ex,easeOut:G5,circIn:Gf,circInOut:Q5,circOut:rx,backIn:Jf,backInOut:X5,backOut:sx,anticipate:Z5},up=e=>{if(Array.isArray(e)){Yf(e.length===4);const[t,n,r,s]=e;return xa(t,n,r,s)}else if(typeof e=="string")return eN[e];return e},Qf=(e,t)=>n=>!!(ya(n)&&n5.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),ix=(e,t,n)=>r=>{if(!ya(r))return r;const[s,i,a,l]=r.match(Il);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},tN=e=>rr(0,255,e),Ic={...Hr,transform:e=>Math.round(tN(e))},Er={test:Qf("rgb","red"),parse:ix("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ic.transform(e)+", "+Ic.transform(t)+", "+Ic.transform(n)+", "+Ai(Ti.transform(r))+")"};function nN(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const ld={test:Qf("#"),parse:nN,transform:Er.transform},fs={test:Qf("hsl","hue"),parse:ix("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Qt.transform(Ai(t))+", "+Qt.transform(Ai(n))+", "+Ai(Ti.transform(r))+")"},et={test:e=>Er.test(e)||ld.test(e)||fs.test(e),parse:e=>Er.test(e)?Er.parse(e):fs.test(e)?fs.parse(e):ld.parse(e),transform:e=>ya(e)?e:e.hasOwnProperty("red")?Er.transform(e):fs.transform(e)},je=(e,t,n)=>-n*e+n*t+e;function Fc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function rN({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,a=0;if(!t)s=i=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Fc(c,l,e+1/3),i=Fc(c,l,e),a=Fc(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}const Uc=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},sN=[ld,Er,fs],iN=e=>sN.find(t=>t.test(e));function dp(e){const t=iN(e);let n=t.parse(e);return t===fs&&(n=rN(n)),n}const ax=(e,t)=>{const n=dp(e),r=dp(t),s={...n};return i=>(s.red=Uc(n.red,r.red,i),s.green=Uc(n.green,r.green,i),s.blue=Uc(n.blue,r.blue,i),s.alpha=je(n.alpha,r.alpha,i),Er.transform(s))};function aN(e){var t,n;return isNaN(e)&&ya(e)&&(((t=e.match(Il))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Dv))===null||n===void 0?void 0:n.length)||0)>0}const ox={regex:e5,countKey:"Vars",token:"${v}",parse:Ce},lx={regex:Dv,countKey:"Colors",token:"${c}",parse:et.parse},cx={regex:Il,countKey:"Numbers",token:"${n}",parse:Hr.parse};function Vc(e,{regex:t,countKey:n,token:r,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(s)))}function Zo(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Vc(n,ox),Vc(n,lx),Vc(n,cx),n}function ux(e){return Zo(e).values}function dx(e){const{values:t,numColors:n,numVars:r,tokenised:s}=Zo(e),i=t.length;return a=>{let l=s;for(let c=0;c<i;c++)c<r?l=l.replace(ox.token,a[c]):c<r+n?l=l.replace(lx.token,et.transform(a[c])):l=l.replace(cx.token,Ai(a[c]));return l}}const oN=e=>typeof e=="number"?0:e;function lN(e){const t=ux(e);return dx(e)(t.map(oN))}const sr={test:aN,parse:ux,createTransformer:dx,getAnimatableNone:lN},fx=(e,t)=>n=>`${n>0?t:e}`;function hx(e,t){return typeof e=="number"?n=>je(e,t,n):et.test(e)?ax(e,t):e.startsWith("var(")?fx(e,t):px(e,t)}const mx=(e,t)=>{const n=[...e],r=n.length,s=e.map((i,a)=>hx(i,t[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}},cN=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=hx(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},px=(e,t)=>{const n=sr.createTransformer(t),r=Zo(e),s=Zo(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Xn(mx(r.values,s.values),n):fx(e,t)},sa=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},fp=(e,t)=>n=>je(e,t,n);function uN(e){return typeof e=="number"?fp:typeof e=="string"?et.test(e)?ax:px:Array.isArray(e)?mx:typeof e=="object"?cN:fp}function dN(e,t,n){const r=[],s=n||uN(e[0]),i=e.length-1;for(let a=0;a<i;a++){let l=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||Ce:t;l=Xn(c,l)}r.push(l)}return r}function gx(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Yf(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=dN(t,r,s),l=a.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=sa(e[d],e[d+1],u);return a[d](f)};return n?u=>c(rr(e[0],e[i-1],u)):c}function fN(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=sa(0,t,r);e.push(je(n,1,s))}}function hN(e){const t=[0];return fN(t,e.length-1),t}function mN(e,t){return e.map(n=>n*t)}function pN(e,t){return e.map(()=>t||ex).splice(0,e.length-1)}function el({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=J5(r)?r.map(up):up(r),i={done:!1,value:t[0]},a=mN(n&&n.length===t.length?n:hN(t),e),l=gx(a,t,{ease:Array.isArray(s)?s:pN(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function yx(e,t){return t?e*(1e3/t):0}const gN=5;function vx(e,t,n){const r=Math.max(t-gN,0);return yx(n-e(r),t-r)}const hp=.001,yN=.01,vN=10,xN=.05,wN=1;function bN({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,i,a=1-t;a=rr(xN,wN,a),e=rr(yN,vN,fn(e)),a<1?(s=u=>{const d=u*a,f=d*e,m=d-n,p=cd(u,a),x=Math.exp(-f);return hp-m/p*x},i=u=>{const f=u*a*e,m=f*n+n,p=Math.pow(a,2)*Math.pow(u,2)*e,x=Math.exp(-f),w=cd(Math.pow(u,2),a);return(-s(u)+hp>0?-1:1)*((m-p)*x)/w}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-.001+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=_N(s,i,l);if(e=$r(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const jN=12;function _N(e,t,n){let r=n;for(let s=1;s<jN;s++)r=r-e(r)/t(r);return r}function cd(e,t){return e*Math.sqrt(1-t*t)}const kN=["duration","bounce"],SN=["stiffness","damping","mass"];function mp(e,t){return t.some(n=>e[n]!==void 0)}function NN(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!mp(e,SN)&&mp(e,kN)){const n=bN(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function xx({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],i=e[e.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:m}=NN({...r,velocity:-fn(r.velocity||0)}),p=f||0,x=c/(2*Math.sqrt(l*u)),w=i-s,b=fn(Math.sqrt(l/u)),v=Math.abs(w)<5;n||(n=v?.01:2),t||(t=v?.005:.5);let g;if(x<1){const y=cd(b,x);g=j=>{const k=Math.exp(-x*b*j);return i-k*((p+x*b*w)/y*Math.sin(y*j)+w*Math.cos(y*j))}}else if(x===1)g=y=>i-Math.exp(-b*y)*(w+(p+b*w)*y);else{const y=b*Math.sqrt(x*x-1);g=j=>{const k=Math.exp(-x*b*j),N=Math.min(y*j,300);return i-k*((p+x*b*w)*Math.sinh(N)+y*w*Math.cosh(N))/y}}return{calculatedDuration:m&&d||null,next:y=>{const j=g(y);if(m)a.done=y>=d;else{let k=p;y!==0&&(x<1?k=vx(g,y,j):k=0);const N=Math.abs(k)<=n,E=Math.abs(i-j)<=t;a.done=N&&E}return a.value=a.done?i:j,a}}}function pp({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],m={done:!1,value:f},p=_=>l!==void 0&&_<l||c!==void 0&&_>c,x=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let w=n*t;const b=f+w,v=a===void 0?b:a(b);v!==b&&(w=v-f);const g=_=>-w*Math.exp(-_/r),y=_=>v+g(_),j=_=>{const P=g(_),A=y(_);m.done=Math.abs(P)<=u,m.value=m.done?v:A};let k,N;const E=_=>{p(m.value)&&(k=_,N=xx({keyframes:[m.value,x(m.value)],velocity:vx(y,_,m.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:_=>{let P=!1;return!N&&k===void 0&&(P=!0,j(_),E(_)),k!==void 0&&_>k?N.next(_-k):(!P&&j(_),m)}}}const EN=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ye.update(t,!0),stop:()=>wn(t),now:()=>Je.isProcessing?Je.timestamp:performance.now()}},gp=2e4;function yp(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<gp;)t+=n,r=e.next(t);return t>=gp?1/0:t}const CN={decay:pp,inertia:pp,tween:el,keyframes:el,spring:xx};function tl({autoplay:e=!0,delay:t=0,driver:n=EN,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...m}){let p=1,x=!1,w,b;const v=()=>{b=new Promise(I=>{w=I})};v();let g;const y=CN[s]||el;let j;y!==el&&typeof r[0]!="number"&&(j=gx([0,100],r,{clamp:!1}),r=[0,100]);const k=y({...m,keyframes:r});let N;l==="mirror"&&(N=y({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let E="idle",_=null,P=null,A=null;k.calculatedDuration===null&&i&&(k.calculatedDuration=yp(k));const{calculatedDuration:T}=k;let S=1/0,C=1/0;T!==null&&(S=T+a,C=S*(i+1)-a);let O=0;const V=I=>{if(P===null)return;p>0&&(P=Math.min(P,I)),p<0&&(P=Math.min(I-C/p,P)),_!==null?O=_:O=Math.round(I-P)*p;const H=O-t*(p>=0?1:-1),F=p>=0?H<0:H>C;O=Math.max(H,0),E==="finished"&&_===null&&(O=C);let z=O,R=k;if(i){const ce=Math.min(O,C)/S;let X=Math.floor(ce),Q=ce%1;!Q&&ce>=1&&(Q=1),Q===1&&X--,X=Math.min(X,i+1),!!(X%2)&&(l==="reverse"?(Q=1-Q,a&&(Q-=a/S)):l==="mirror"&&(R=N)),z=rr(0,1,Q)*S}const K=F?{done:!1,value:r[0]}:R.next(z);j&&(K.value=j(K.value));let{done:q}=K;!F&&T!==null&&(q=p>=0?O>=C:O<=0);const re=_===null&&(E==="finished"||E==="running"&&q);return f&&f(K.value),re&&D(),K},W=()=>{g&&g.stop(),g=void 0},J=()=>{E="idle",W(),w(),v(),P=A=null},D=()=>{E="finished",d&&d(),W(),w()},M=()=>{if(x)return;g||(g=n(V));const I=g.now();c&&c(),_!==null?P=I-_:(!P||E==="finished")&&(P=I),E==="finished"&&v(),A=P,_=null,E="running",g.start()};e&&M();const L={then(I,H){return b.then(I,H)},get time(){return fn(O)},set time(I){I=$r(I),O=I,_!==null||!g||p===0?_=I:P=g.now()-I/p},get duration(){const I=k.calculatedDuration===null?yp(k):k.calculatedDuration;return fn(I)},get speed(){return p},set speed(I){I===p||!g||(p=I,L.time=fn(O))},get state(){return E},play:M,pause:()=>{E="paused",_=O},stop:()=>{x=!0,E!=="idle"&&(E="idle",u&&u(),J())},cancel:()=>{A!==null&&V(A),J()},complete:()=>{E="finished"},sample:I=>(P=0,V(I))};return L}function PN(e){let t;return()=>(t===void 0&&(t=e()),t)}const TN=PN(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),AN=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ya=10,DN=2e4,$N=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Jv(t.ease);function ON(e,t,{onUpdate:n,onComplete:r,...s}){if(!(TN()&&AN.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let a=!1,l,c,u=!1;const d=()=>{c=new Promise(y=>{l=y})};d();let{keyframes:f,duration:m=300,ease:p,times:x}=s;if($N(t,s)){const y=tl({...s,repeat:0,delay:0});let j={done:!1,value:f[0]};const k=[];let N=0;for(;!j.done&&N<DN;)j=y.sample(N),k.push(j.value),N+=Ya;x=void 0,f=k,m=N-Ya,p="linear"}const w=z5(e.owner.current,t,f,{...s,duration:m,ease:p,times:x}),b=()=>{u=!1,w.cancel()},v=()=>{u=!0,ye.update(b),l(),d()};return w.onfinish=()=>{u||(e.set(W5(f,s)),r&&r(),v())},{then(y,j){return c.then(y,j)},attachTimeline(y){return w.timeline=y,w.onfinish=null,Ce},get time(){return fn(w.currentTime||0)},set time(y){w.currentTime=$r(y)},get speed(){return w.playbackRate},set speed(y){w.playbackRate=y},get duration(){return fn(m)},play:()=>{a||(w.play(),wn(b))},pause:()=>w.pause(),stop:()=>{if(a=!0,w.playState==="idle")return;const{currentTime:y}=w;if(y){const j=tl({...s,autoplay:!1});e.setWithVelocity(j.sample(y-Ya).value,j.sample(y).value,Ya)}v()},complete:()=>{u||w.finish()},cancel:v}}function RN({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ce,pause:Ce,stop:Ce,then:i=>(i(),Promise.resolve()),cancel:Ce,complete:Ce});return t?tl({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const MN={type:"spring",stiffness:500,damping:25,restSpeed:10},LN=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),IN={type:"keyframes",duration:.8},FN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UN=(e,{keyframes:t})=>t.length>2?IN:Wr.has(e)?e.startsWith("scale")?LN(t[1]):MN:FN,ud=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(sr.test(t)||t==="0")&&!t.startsWith("url(")),VN=new Set(["brightness","contrast","saturate","opacity"]);function BN(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Il)||[];if(!r)return e;const s=n.replace(r,"");let i=VN.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const zN=/([a-z-]*)\(.*?\)/g,dd={...sr,getAnimatableNone:e=>{const t=e.match(zN);return t?t.map(BN).join(" "):e}},WN={...$v,color:et,backgroundColor:et,outlineColor:et,fill:et,stroke:et,borderColor:et,borderTopColor:et,borderRightColor:et,borderBottomColor:et,borderLeftColor:et,filter:dd,WebkitFilter:dd},Xf=e=>WN[e];function wx(e,t){let n=Xf(e);return n!==dd&&(n=sr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const bx=e=>/^0[^.\s]+$/.test(e);function HN(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||bx(e)}function qN(e,t,n,r){const s=ud(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const a=r.from!==void 0?r.from:e.get();let l;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?a:i[u-1]),HN(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(l=i[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];i[d]=wx(t,l)}return i}function KN({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Zf(e,t){return e[t]||e.default||e}const YN={skipAnimations:!1},eh=(e,t,n,r={})=>s=>{const i=Zf(r,e)||{},a=i.delay||r.delay||0;let{elapsed:l=0}=r;l=l-$r(a);const c=qN(t,e,n,i),u=c[0],d=c[c.length-1],f=ud(e,u),m=ud(e,d);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:x=>{t.set(x),i.onUpdate&&i.onUpdate(x)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(KN(i)||(p={...p,...UN(e,p)}),p.duration&&(p.duration=$r(p.duration)),p.repeatDelay&&(p.repeatDelay=$r(p.repeatDelay)),!f||!m||B5.current||i.type===!1||YN.skipAnimations)return RN(p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const x=ON(t,e,p);if(x)return x}return tl(p)};function nl(e){return!!(pt(e)&&e.add)}const jx=e=>/^\-?\d*\.?\d+$/.test(e);function th(e,t){e.indexOf(t)===-1&&e.push(t)}function nh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class rh{constructor(){this.subscriptions=[]}add(t){return th(this.subscriptions,t),()=>nh(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const GN=e=>!isNaN(parseFloat(e));class JN{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:a}=Je;this.lastUpdated!==a&&(this.timeDelta=i,this.lastUpdated=a,ye.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ye.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=GN(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new rh);const r=this.events[t].add(n);return t==="change"?()=>{r(),ye.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?yx(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ds(e,t){return new JN(e,t)}const _x=e=>t=>t.test(e),QN={test:e=>e==="auto",parse:e=>e},kx=[Hr,G,Qt,Pn,s5,r5,QN],si=e=>kx.find(_x(e)),XN=[...kx,et,sr],ZN=e=>XN.find(_x(e));function eE(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ds(n))}function tE(e,t){const n=Ul(e,t);let{transitionEnd:r={},transition:s={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const a in i){const l=v5(i[a]);eE(e,a,l)}}function nE(e,t,n){var r,s;const i=Object.keys(t).filter(l=>!e.hasValue(l)),a=i.length;if(a)for(let l=0;l<a;l++){const c=i[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(jx(d)||bx(d))?d=parseFloat(d):!ZN(d)&&sr.test(u)&&(d=wx(c,u)),e.addValue(c,Ds(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function rE(e,t){return t?(t[e]||t.default||t).from:void 0}function sE(e,t,n){const r={};for(const s in e){const i=rE(s,t);if(i!==void 0)r[s]=i;else{const a=n.getValue(s);a&&(r[s]=a.get())}}return r}function iE({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function aE(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function Sx(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(i=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in l){const m=e.getValue(f),p=l[f];if(!m||p===void 0||d&&iE(d,f))continue;const x={delay:n,elapsed:0,...Zf(i||{},f)};if(window.HandoffAppearAnimations){const v=e.getProps()[Nv];if(v){const g=window.HandoffAppearAnimations(v,f,m,ye);g!==null&&(x.elapsed=g,x.isHandoff=!0)}}let w=!x.isHandoff&&!aE(m,p);if(x.type==="spring"&&(m.getVelocity()||x.velocity)&&(w=!1),m.animation&&(w=!1),w)continue;m.start(eh(f,m,p,e.shouldReduceMotion&&Wr.has(f)?{type:!1}:x));const b=m.animation;nl(c)&&(c.add(f),b.then(()=>c.remove(f))),u.push(b)}return a&&Promise.all(u).then(()=>{a&&tE(e,a)}),u}function fd(e,t,n={}){const r=Ul(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Sx(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return oE(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>u())}else return Promise.all([i(),a(n.delay)])}function oE(e,t,n=0,r=0,s=1,i){const a=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(lE).forEach((u,d)=>{u.notify("AnimationStart",t),a.push(fd(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function lE(e,t){return e.sortNodePosition(t)}function cE(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>fd(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=fd(e,t,n);else{const s=typeof t=="function"?Ul(e,t,n.custom):t;r=Promise.all(Sx(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const uE=[...If].reverse(),dE=If.length;function fE(e){return t=>Promise.all(t.map(({animation:n,options:r})=>cE(e,n,r)))}function hE(e){let t=fE(e);const n=pE();let r=!0;const s=(c,u)=>{const d=Ul(e,u);if(d){const{transition:f,transitionEnd:m,...p}=d;c={...c,...p,...m}}return c};function i(c){t=c(e)}function a(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},m=[],p=new Set;let x={},w=1/0;for(let v=0;v<dE;v++){const g=uE[v],y=n[g],j=d[g]!==void 0?d[g]:f[g],k=na(j),N=g===u?y.isActive:null;N===!1&&(w=v);let E=j===f[g]&&j!==d[g]&&k;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),y.protectedKeys={...x},!y.isActive&&N===null||!j&&!y.prevProp||Ml(j)||typeof j=="boolean")continue;let P=mE(y.prevProp,j)||g===u&&y.isActive&&!E&&k||v>w&&k,A=!1;const T=Array.isArray(j)?j:[j];let S=T.reduce(s,{});N===!1&&(S={});const{prevResolvedValues:C={}}=y,O={...C,...S},V=W=>{P=!0,p.has(W)&&(A=!0,p.delete(W)),y.needsAnimating[W]=!0};for(const W in O){const J=S[W],D=C[W];if(x.hasOwnProperty(W))continue;let M=!1;Xo(J)&&Xo(D)?M=!Yv(J,D):M=J!==D,M?J!==void 0?V(W):p.add(W):J!==void 0&&p.has(W)?V(W):y.protectedKeys[W]=!0}y.prevProp=j,y.prevResolvedValues=S,y.isActive&&(x={...x,...S}),r&&e.blockInitialAnimation&&(P=!1),P&&(!E||A)&&m.push(...T.map(W=>({animation:W,options:{type:g,...c}})))}if(p.size){const v={};p.forEach(g=>{const y=e.getBaseTarget(g);y!==void 0&&(v[g]=y)}),m.push({animation:v})}let b=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(m):Promise.resolve()}function l(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(p=>{var x;return(x=p.animationState)===null||x===void 0?void 0:x.setActive(c,u)}),n[c].isActive=u;const m=a(d,c);for(const p in n)n[p].protectedKeys={};return m}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n}}function mE(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Yv(t,e):!1}function pr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pE(){return{animate:pr(!0),whileInView:pr(),whileHover:pr(),whileTap:pr(),whileDrag:pr(),whileFocus:pr(),exit:pr()}}class gE extends dr{constructor(t){super(t),t.animationState||(t.animationState=hE(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Ml(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let yE=0;class vE extends dr{constructor(){super(...arguments),this.id=yE++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const xE={animation:{Feature:gE},exit:{Feature:vE}},vp=(e,t)=>Math.abs(e-t);function wE(e,t){const n=vp(e.x,t.x),r=vp(e.y,t.y);return Math.sqrt(n**2+r**2)}class Nx{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=zc(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=wE(f.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:x}=f,{timestamp:w}=Je;this.history.push({...x,timestamp:w});const{onStart:b,onMove:v}=this.handlers;m||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Bc(m,this.transformPagePoint),ye.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=zc(f.type==="pointercancel"?this.lastMoveEventInfo:Bc(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,b),x&&x(f,b)},!zv(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=Fl(t),l=Bc(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=Je;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,zc(l,this.history)),this.removeListeners=Xn(dn(this.contextWindow,"pointermove",this.handlePointerMove),dn(this.contextWindow,"pointerup",this.handlePointerUp),dn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wn(this.updatePoint)}}function Bc(e,t){return t?{point:t(e.point)}:e}function xp(e,t){return{x:e.x-t.x,y:e.y-t.y}}function zc({point:e},t){return{point:e,delta:xp(e,Ex(t)),offset:xp(e,bE(t)),velocity:jE(t,.1)}}function bE(e){return e[0]}function Ex(e){return e[e.length-1]}function jE(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Ex(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>$r(t)));)n--;if(!r)return{x:0,y:0};const i=fn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function bt(e){return e.max-e.min}function hd(e,t=0,n=.01){return Math.abs(e-t)<=n}function wp(e,t,n,r=.5){e.origin=r,e.originPoint=je(t.min,t.max,e.origin),e.scale=bt(n)/bt(t),(hd(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=je(n.min,n.max,e.origin)-e.originPoint,(hd(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Di(e,t,n,r){wp(e.x,t.x,n.x,r?r.originX:void 0),wp(e.y,t.y,n.y,r?r.originY:void 0)}function bp(e,t,n){e.min=n.min+t.min,e.max=e.min+bt(t)}function _E(e,t,n){bp(e.x,t.x,n.x),bp(e.y,t.y,n.y)}function jp(e,t,n){e.min=t.min-n.min,e.max=e.min+bt(t)}function $i(e,t,n){jp(e.x,t.x,n.x),jp(e.y,t.y,n.y)}function kE(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?je(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?je(n,e,r.max):Math.min(e,n)),e}function _p(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function SE(e,{top:t,left:n,bottom:r,right:s}){return{x:_p(e.x,n,s),y:_p(e.y,t,r)}}function kp(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function NE(e,t){return{x:kp(e.x,t.x),y:kp(e.y,t.y)}}function EE(e,t){let n=.5;const r=bt(e),s=bt(t);return s>r?n=sa(t.min,t.max-r,e.min):r>s&&(n=sa(e.min,e.max-s,t.min)),rr(0,1,n)}function CE(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const md=.35;function PE(e=md){return e===!1?e=0:e===!0&&(e=md),{x:Sp(e,"left","right"),y:Sp(e,"top","bottom")}}function Sp(e,t,n){return{min:Np(e,t),max:Np(e,n)}}function Np(e,t){return typeof e=="number"?e:e[t]||0}const Ep=()=>({translate:0,scale:1,origin:0,originPoint:0}),hs=()=>({x:Ep(),y:Ep()}),Cp=()=>({min:0,max:0}),Te=()=>({x:Cp(),y:Cp()});function St(e){return[e("x"),e("y")]}function Cx({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function TE({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function AE(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Wc(e){return e===void 0||e===1}function pd({scale:e,scaleX:t,scaleY:n}){return!Wc(e)||!Wc(t)||!Wc(n)}function wr(e){return pd(e)||Px(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Px(e){return Pp(e.x)||Pp(e.y)}function Pp(e){return e&&e!=="0%"}function rl(e,t,n){const r=e-n,s=t*r;return n+s}function Tp(e,t,n,r,s){return s!==void 0&&(e=rl(e,s,r)),rl(e,n,r)+t}function gd(e,t=0,n=1,r,s){e.min=Tp(e.min,t,n,r,s),e.max=Tp(e.max,t,n,r,s)}function Tx(e,{x:t,y:n}){gd(e.x,t.translate,t.scale,t.originPoint),gd(e.y,n.translate,n.scale,n.originPoint)}function DE(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ms(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Tx(e,a)),r&&wr(i.latestValues)&&ms(e,i.latestValues))}t.x=Ap(t.x),t.y=Ap(t.y)}function Ap(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function $n(e,t){e.min=e.min+t,e.max=e.max+t}function Dp(e,t,[n,r,s]){const i=t[s]!==void 0?t[s]:.5,a=je(e.min,e.max,i);gd(e,t[n],t[r],a,t.scale)}const $E=["x","scaleX","originX"],OE=["y","scaleY","originY"];function ms(e,t){Dp(e.x,t,$E),Dp(e.y,t,OE)}function Ax(e,t){return Cx(AE(e.getBoundingClientRect(),t))}function RE(e,t,n){const r=Ax(e,n),{scroll:s}=t;return s&&($n(r.x,s.offset.x),$n(r.y,s.offset.y)),r}const Dx=({current:e})=>e?e.ownerDocument.defaultView:null,ME=new WeakMap;class LE{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Te(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Fl(d,"page").point)},i=(d,f)=>{const{drag:m,dragPropagation:p,onDragStart:x}=this.getProps();if(m&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Hv(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),St(b=>{let v=this.getAxisMotionValue(b).get()||0;if(Qt.test(v)){const{projection:g}=this.visualElement;if(g&&g.layout){const y=g.layout.layoutBox[b];y&&(v=bt(y)*(parseFloat(v)/100))}}this.originPoint[b]=v}),x&&ye.update(()=>x(d,f),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(d,f)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:x,onDrag:w}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:b}=f;if(p&&this.currentDirection===null){this.currentDirection=IE(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),w&&w(d,f)},l=(d,f)=>this.stop(d,f),c=()=>St(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Nx(t,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Dx(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ye.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Ga(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=kE(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&ds(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=SE(s.layoutBox,n):this.constraints=!1,this.elastic=PE(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&St(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=CE(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ds(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=RE(r,s.root,this.visualElement.getTransformPagePoint());let a=NE(s.layout.layoutBox,i);if(n){const l=n(TE(a));this.hasMutatedConstraints=!!l,l&&(a=Cx(l))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=St(d=>{if(!Ga(d,n,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const m=s?200:1e6,p=s?40:1e7,x={type:"inertia",velocity:r?t[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(eh(t,r,0,n))}stopAnimation(){St(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){St(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){St(n=>{const{drag:r}=this.getProps();if(!Ga(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(t[n]-je(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ds(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};St(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();s[a]=EE({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),St(a=>{if(!Ga(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(je(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;ME.set(this.visualElement,this);const t=this.visualElement.current,n=dn(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();ds(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const a=cn(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(St(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=md,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function Ga(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function IE(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class FE extends dr{constructor(t){super(t),this.removeGroupControls=Ce,this.removeListeners=Ce,this.controls=new LE(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ce}unmount(){this.removeGroupControls(),this.removeListeners()}}const $p=e=>(t,n)=>{e&&ye.update(()=>e(t,n))};class UE extends dr{constructor(){super(...arguments),this.removePointerDownListener=Ce}onPointerDown(t){this.session=new Nx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Dx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:$p(t),onStart:$p(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&ye.update(()=>s(i,a))}}}mount(){this.removePointerDownListener=dn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function VE(){const e=h.useContext(Ol);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=h.useId();return h.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const xo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Op(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ii={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(G.test(e))e=parseFloat(e);else return e;const n=Op(e,t.target.x),r=Op(e,t.target.y);return`${n}% ${r}%`}},BE={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=sr.parse(e);if(s.length>5)return r;const i=sr.createTransformer(e),a=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+a]/=l,s[1+a]/=c;const u=je(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};class zE extends ee.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;JS(WE),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),xo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||ye.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function $x(e){const[t,n]=VE(),r=h.useContext(Uf);return ee.createElement(zE,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(Cv),isPresent:t,safeToRemove:n})}const WE={borderRadius:{...ii,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ii,borderTopRightRadius:ii,borderBottomLeftRadius:ii,borderBottomRightRadius:ii,boxShadow:BE},Ox=["TopLeft","TopRight","BottomLeft","BottomRight"],HE=Ox.length,Rp=e=>typeof e=="string"?parseFloat(e):e,Mp=e=>typeof e=="number"||G.test(e);function qE(e,t,n,r,s,i){s?(e.opacity=je(0,n.opacity!==void 0?n.opacity:1,KE(r)),e.opacityExit=je(t.opacity!==void 0?t.opacity:1,0,YE(r))):i&&(e.opacity=je(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<HE;a++){const l=`border${Ox[a]}Radius`;let c=Lp(t,l),u=Lp(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Mp(c)===Mp(u)?(e[l]=Math.max(je(Rp(c),Rp(u),r),0),(Qt.test(u)||Qt.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=je(t.rotate||0,n.rotate||0,r))}function Lp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const KE=Rx(0,.5,rx),YE=Rx(.5,.95,Ce);function Rx(e,t,n){return r=>r<e?0:r>t?1:n(sa(e,t,r))}function Ip(e,t){e.min=t.min,e.max=t.max}function kt(e,t){Ip(e.x,t.x),Ip(e.y,t.y)}function Fp(e,t,n,r,s){return e-=t,e=rl(e,1/n,r),s!==void 0&&(e=rl(e,1/s,r)),e}function GE(e,t=0,n=1,r=.5,s,i=e,a=e){if(Qt.test(t)&&(t=parseFloat(t),t=je(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=je(i.min,i.max,r);e===i&&(l-=t),e.min=Fp(e.min,t,n,l,s),e.max=Fp(e.max,t,n,l,s)}function Up(e,t,[n,r,s],i,a){GE(e,t[n],t[r],t[s],t.scale,i,a)}const JE=["x","scaleX","originX"],QE=["y","scaleY","originY"];function Vp(e,t,n,r){Up(e.x,t,JE,n?n.x:void 0,r?r.x:void 0),Up(e.y,t,QE,n?n.y:void 0,r?r.y:void 0)}function Bp(e){return e.translate===0&&e.scale===1}function Mx(e){return Bp(e.x)&&Bp(e.y)}function XE(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Lx(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function zp(e){return bt(e.x)/bt(e.y)}class ZE{constructor(){this.members=[]}add(t){th(this.members,t),t.scheduleRender()}remove(t){if(nh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Wp(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const eC=(e,t)=>e.depth-t.depth;class tC{constructor(){this.children=[],this.isDirty=!1}add(t){th(this.children,t),this.isDirty=!0}remove(t){nh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(eC),this.isDirty=!1,this.children.forEach(t)}}function nC(e,t){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(wn(r),e(i-t))};return ye.read(r,!0),()=>wn(r)}function rC(e){window.MotionDebug&&window.MotionDebug.record(e)}function sC(e){return e instanceof SVGElement&&e.tagName!=="svg"}function iC(e,t,n){const r=pt(e)?e:Ds(e);return r.start(eh("",r,t,n)),r.animation}const Hp=["","X","Y","Z"],aC={visibility:"hidden"},qp=1e3;let oC=0;const br={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Ix({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=t==null?void 0:t()){this.id=oC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,br.totalNodes=br.resolvedTargetDeltas=br.recalculatedProjection=0,this.nodes.forEach(uC),this.nodes.forEach(pC),this.nodes.forEach(gC),this.nodes.forEach(dC),rC(br)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new tC)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new rh),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=sC(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const m=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=nC(m,250),xo.hasAnimatedSinceResize&&(xo.hasAnimatedSinceResize=!1,this.nodes.forEach(Yp))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||bC,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=d.getProps(),g=!this.targetLayout||!Lx(this.targetLayout,x)||p,y=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||m&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,y);const j={...Zf(w,"layout"),onPlay:b,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else m||Yp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yC),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Kp);return}this.isUpdating||this.nodes.forEach(hC),this.isUpdating=!1,this.nodes.forEach(mC),this.nodes.forEach(lC),this.nodes.forEach(cC),this.clearAllSnapshots();const l=performance.now();Je.delta=rr(0,1e3/60,l-Je.timestamp),Je.timestamp=l,Je.isProcessing=!0,Rc.update.process(Je),Rc.preRender.process(Je),Rc.render.process(Je),Je.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(fC),this.sharedNodes.forEach(vC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Te(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Mx(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||wr(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),jC(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Te();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&($n(l.x,c.offset.x),$n(l.y,c.offset.y)),l}removeElementScroll(a){const l=Te();kt(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){kt(l,a);const{scroll:m}=this.root;m&&($n(l.x,-m.offset.x),$n(l.y,-m.offset.y))}$n(l.x,d.offset.x),$n(l.y,d.offset.y)}}return l}applyTransform(a,l=!1){const c=Te();kt(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ms(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),wr(d.latestValues)&&ms(c,d.latestValues)}return wr(this.latestValues)&&ms(c,this.latestValues),c}removeTransform(a){const l=Te();kt(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!wr(u.latestValues))continue;pd(u.latestValues)&&u.updateSnapshot();const d=Te(),f=u.measurePageBox();kt(d,f),Vp(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return wr(this.latestValues)&&Vp(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Je.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Je.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Te(),this.relativeTargetOrigin=Te(),$i(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Te(),this.targetWithTransforms=Te()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_E(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kt(this.target,this.layout.layoutBox),Tx(this.target,this.targetDelta)):kt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Te(),this.relativeTargetOrigin=Te(),$i(this.relativeTargetOrigin,this.target,p.target),kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}br.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||pd(this.parent.latestValues)||Px(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Je.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;kt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;DE(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:x}=l;if(!x){this.projectionTransform&&(this.projectionDelta=hs(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=hs(),this.projectionDeltaWithTransform=hs());const w=this.projectionTransform;Di(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=Wp(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==m||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),br.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=hs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Te(),p=c?c.source:void 0,x=this.layout?this.layout.source:void 0,w=p!==x,b=this.getStack(),v=!b||b.members.length<=1,g=!!(w&&!v&&this.options.crossfade===!0&&!this.path.some(wC));this.animationProgress=0;let y;this.mixTargetDelta=j=>{const k=j/1e3;Gp(f.x,a.x,k),Gp(f.y,a.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($i(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xC(this.relativeTarget,this.relativeTargetOrigin,m,k),y&&XE(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Te()),kt(y,this.relativeTarget)),w&&(this.animationValues=d,qE(d,u,this.latestValues,k,g,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ye.update(()=>{xo.hasAnimatedSinceResize=!0,this.currentAnimation=iC(0,qp,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&Fx(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Te();const f=bt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const m=bt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+m}kt(l,c),ms(l,d),Di(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new ZE),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<Hp.length;d++){const f="rotate"+Hp[d];c[f]&&(u[f]=c[f],a.setStaticValue(f,0))}a.render();for(const d in u)a.setStaticValue(d,u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return aC;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=vo(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=vo(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!wr(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Wp(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:p,y:x}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${x.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const w in Jo){if(m[w]===void 0)continue;const{correct:b,applyTo:v}=Jo[w],g=u.transform==="none"?m[w]:b(m[w],f);if(v){const y=v.length;for(let j=0;j<y;j++)u[v[j]]=g}else u[w]=g}return this.options.layoutId&&(u.pointerEvents=f===this?vo(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Kp),this.root.sharedNodes.clear()}}}function lC(e){e.updateLayout()}function cC(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;i==="size"?St(f=>{const m=a?n.measuredBox[f]:n.layoutBox[f],p=bt(m);m.min=r[f].min,m.max=m.min+p}):Fx(i,n.layoutBox,r)&&St(f=>{const m=a?n.measuredBox[f]:n.layoutBox[f],p=bt(r[f]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=hs();Di(l,r,n.layoutBox);const c=hs();a?Di(c,e.applyTransform(s,!0),n.measuredBox):Di(c,r,n.layoutBox);const u=!Mx(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:p}=f;if(m&&p){const x=Te();$i(x,n.layoutBox,m.layoutBox);const w=Te();$i(w,r,p.layoutBox),Lx(x,w)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=x,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function uC(e){br.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function dC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function fC(e){e.clearSnapshot()}function Kp(e){e.clearMeasurements()}function hC(e){e.isLayoutDirty=!1}function mC(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Yp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function pC(e){e.resolveTargetDelta()}function gC(e){e.calcProjection()}function yC(e){e.resetRotation()}function vC(e){e.removeLeadSnapshot()}function Gp(e,t,n){e.translate=je(t.translate,0,n),e.scale=je(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Jp(e,t,n,r){e.min=je(t.min,n.min,r),e.max=je(t.max,n.max,r)}function xC(e,t,n,r){Jp(e.x,t.x,n.x,r),Jp(e.y,t.y,n.y,r)}function wC(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const bC={duration:.45,ease:[.4,0,.1,1]},Qp=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Xp=Qp("applewebkit/")&&!Qp("chrome/")?Math.round:Ce;function Zp(e){e.min=Xp(e.min),e.max=Xp(e.max)}function jC(e){Zp(e.x),Zp(e.y)}function Fx(e,t,n){return e==="position"||e==="preserve-aspect"&&!hd(zp(t),zp(n),.2)}const _C=Ix({attachResizeListener:(e,t)=>cn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hc={current:void 0},Ux=Ix({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Hc.current){const e=new _C({});e.mount(window),e.setOptions({layoutScroll:!0}),Hc.current=e}return Hc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),kC={pan:{Feature:UE},drag:{Feature:FE,ProjectionNode:Ux,MeasureLayout:$x}},SC=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function NC(e){const t=SC.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function yd(e,t,n=1){const[r,s]=NC(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const a=i.trim();return jx(a)?parseFloat(a):a}else return ad(s)?yd(s,t,n+1):s}function EC(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const i=s.get();if(!ad(i))return;const a=yd(i,r);a&&s.set(a)});for(const s in t){const i=t[s];if(!ad(i))continue;const a=yd(i,r);a&&(t[s]=a,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:t,transitionEnd:n}}const CC=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Vx=e=>CC.has(e),PC=e=>Object.keys(e).some(Vx),e0=e=>e===Hr||e===G,t0=(e,t)=>parseFloat(e.split(", ")[t]),n0=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return t0(s[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?t0(i[1],e):0}},TC=new Set(["x","y","z"]),AC=ga.filter(e=>!TC.has(e));function DC(e){const t=[];return AC.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const $s={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:n0(4,13),y:n0(5,14)};$s.translateX=$s.x;$s.translateY=$s.y;const $C=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:a}=i,l={};a==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=$s[u](r,i)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=$s[u](c,i)}),e},OC=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(Vx);let i=[],a=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=si(d);const m=t[c];let p;if(Xo(m)){const x=m.length,w=m[0]===null?1:0;d=m[w],f=si(d);for(let b=w;b<x&&m[b]!==null;b++)p?Yf(si(m[b])===p):p=si(m[b])}else p=si(m);if(f!==p)if(e0(f)&&e0(p)){const x=u.get();typeof x=="string"&&u.set(parseFloat(x)),typeof m=="string"?t[c]=parseFloat(m):Array.isArray(m)&&p===G&&(t[c]=m.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||m===0)?d===0?u.set(p.transform(d)):t[c]=f.transform(m):(a||(i=DC(e),a=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(m))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=$C(t,e,l);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Rl&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function RC(e,t,n,r){return PC(t)?OC(e,t,n,r):{target:t,transitionEnd:r}}const MC=(e,t,n,r)=>{const s=EC(e,t,r);return t=s.target,r=s.transitionEnd,RC(e,t,n,r)},vd={current:null},Bx={current:!1};function LC(){if(Bx.current=!0,!!Rl)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>vd.current=e.matches;e.addListener(t),t()}else vd.current=!1}function IC(e,t,n){const{willChange:r}=t;for(const s in t){const i=t[s],a=n[s];if(pt(i))e.addValue(s,i),nl(r)&&r.add(s);else if(pt(a))e.addValue(s,Ds(i,{owner:e})),nl(r)&&r.remove(s);else if(a!==i)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(s);e.addValue(s,Ds(l!==void 0?l:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const r0=new WeakMap,zx=Object.keys(ra),FC=zx.length,s0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],UC=Ff.length;class VC{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ye.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.isControllingVariants=Ll(n),this.isVariantNode=Ev(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const m=d[f];l[f]!==void 0&&pt(m)&&(m.set(l[f],!1),nl(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,r0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Bx.current||LC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){r0.delete(this.current),this.projection&&this.projection.unmount(),wn(this.notifyUpdate),wn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Wr.has(t),s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ye.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,i){let a,l;for(let c=0;c<FC;c++){const u=zx[c],{isEnabled:d,Feature:f,ProjectionNode:m,MeasureLayout:p}=ra[u];m&&(a=m),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:m,layoutRoot:p}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&ds(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:m,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Te()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<s0.length;r++){const s=s0[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=IC(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<UC;r++){const s=Ff[r],i=this.props[s];(na(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ds(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Kf(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!pt(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new rh),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Wx extends VC{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},i){let a=sE(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),a&&(a=s(a))),i){nE(this,r,a);const l=MC(this,r,a,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function BC(e){return window.getComputedStyle(e)}class zC extends Wx{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Wr.has(n)){const r=Xf(n);return r&&r.default||0}else{const r=BC(t),s=(Av(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Ax(t,n)}build(t,n,r,s){Bf(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return qf(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;pt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){Lv(t,n,r,s)}}class WC extends Wx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Wr.has(n)){const r=Xf(n);return r&&r.default||0}return n=Iv.has(n)?n:Lf(n),t.getAttribute(n)}measureInstanceViewportBox(){return Te()}scrapeMotionValuesFromProps(t,n){return Uv(t,n)}build(t,n,r,s){Wf(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){Fv(t,n,r,s)}mount(t){this.isSVGTag=Hf(t.tagName),super.mount(t)}}const HC=(e,t)=>Vf(e)?new WC(t,{enableHardwareAcceleration:!1}):new zC(t,{enableHardwareAcceleration:!0}),qC={layout:{ProjectionNode:Ux,MeasureLayout:$x}},KC={...xE,...F5,...kC,...qC},ie=YS((e,t)=>N5(e,t,KC,HC));function Hx(){const e=h.useRef(!1);return Mf(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function YC(){const e=Hx(),[t,n]=h.useState(0),r=h.useCallback(()=>{e.current&&n(t+1)},[t]);return[h.useCallback(()=>ye.postRender(r),[r]),t]}class GC extends h.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function JC({children:e,isPresent:t}){const n=h.useId(),r=h.useRef(null),s=h.useRef({width:0,height:0,top:0,left:0});return h.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:c}=s.current;if(t||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),h.createElement(GC,{isPresent:t,childRef:r,sizeRef:s},h.cloneElement(e,{ref:r}))}const qc=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a})=>{const l=Vv(QC),c=h.useId(),u=h.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),i?void 0:[n]);return h.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),h.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(e=h.createElement(JC,{isPresent:n},e)),h.createElement(Ol.Provider,{value:u},e)};function QC(){return new Map}function XC(e){return h.useEffect(()=>()=>e(),[])}const jr=e=>e.key||"";function ZC(e,t){e.forEach(n=>{const r=jr(n);t.set(r,n)})}function eP(e){const t=[];return h.Children.forEach(e,n=>{h.isValidElement(n)&&t.push(n)}),t}const Vl=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:a="sync"})=>{const l=h.useContext(Uf).forceRender||YC()[0],c=Hx(),u=eP(e);let d=u;const f=h.useRef(new Map).current,m=h.useRef(d),p=h.useRef(new Map).current,x=h.useRef(!0);if(Mf(()=>{x.current=!1,ZC(u,p),m.current=d}),XC(()=>{x.current=!0,p.clear(),f.clear()}),x.current)return h.createElement(h.Fragment,null,d.map(g=>h.createElement(qc,{key:jr(g),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:a},g)));d=[...d];const w=m.current.map(jr),b=u.map(jr),v=w.length;for(let g=0;g<v;g++){const y=w[g];b.indexOf(y)===-1&&!f.has(y)&&f.set(y,void 0)}return a==="wait"&&f.size&&(d=[]),f.forEach((g,y)=>{if(b.indexOf(y)!==-1)return;const j=p.get(y);if(!j)return;const k=w.indexOf(y);let N=g;if(!N){const E=()=>{f.delete(y);const _=Array.from(p.keys()).filter(P=>!b.includes(P));if(_.forEach(P=>p.delete(P)),m.current=u.filter(P=>{const A=jr(P);return A===y||_.includes(A)}),!f.size){if(c.current===!1)return;l(),r&&r()}};N=h.createElement(qc,{key:jr(j),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:i,mode:a},j),f.set(y,N)}d.splice(k,0,N)}),d=d.map(g=>{const y=g.key;return f.has(y)?g:h.createElement(qc,{key:jr(g),isPresent:!0,presenceAffectsLayout:i,mode:a},g)}),h.createElement(h.Fragment,null,f.size?d:d.map(g=>h.cloneElement(g)))};function tP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Fr=h.forwardRef(tP);function nP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Bl=h.forwardRef(nP);function rP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const sP=h.forwardRef(rP);function iP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const aP=h.forwardRef(iP);function oP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const lP=h.forwardRef(oP);function cP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const qx=h.forwardRef(cP);function uP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 7.5A8.969 8.969 0 0 1 5.292 3m13.416 0a8.969 8.969 0 0 1 2.168 4.5"}))}const dP=h.forwardRef(uP);function fP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const sh=h.forwardRef(fP);function hP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))}const Kx=h.forwardRef(hP);function mP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const i0=h.forwardRef(mP);function pP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const wa=h.forwardRef(pP);function gP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const xd=h.forwardRef(gP);function yP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const ia=h.forwardRef(yP);function vP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25Z"}))}const a0=h.forwardRef(vP);function xP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"}))}const wP=h.forwardRef(xP);function bP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const zs=h.forwardRef(bP);function jP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Yx=h.forwardRef(jP);function _P({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const kP=h.forwardRef(_P);function SP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const zl=h.forwardRef(SP);function NP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const EP=h.forwardRef(NP);function CP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Gx=h.forwardRef(CP);function PP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"}))}const TP=h.forwardRef(PP);function AP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const o0=h.forwardRef(AP);function DP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const $P=h.forwardRef(DP);function OP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const aa=h.forwardRef(OP);function RP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.05 4.575a1.575 1.575 0 1 0-3.15 0v3m3.15-3v-1.5a1.575 1.575 0 0 1 3.15 0v1.5m-3.15 0 .075 5.925m3.075.75V4.575m0 0a1.575 1.575 0 0 1 3.15 0V15M6.9 7.575a1.575 1.575 0 1 0-3.15 0v8.175a6.75 6.75 0 0 0 6.75 6.75h2.018a5.25 5.25 0 0 0 3.712-1.538l1.732-1.732a5.25 5.25 0 0 0 1.538-3.712l.003-2.024a.668.668 0 0 1 .198-.471 1.575 1.575 0 1 0-2.228-2.228 3.818 3.818 0 0 0-1.12 2.687M6.9 7.575V12m6.27 4.318A4.49 4.49 0 0 1 16.35 15m.002 0h-.002"}))}const MP=h.forwardRef(RP);function LP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const wd=h.forwardRef(LP);function IP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Jx=h.forwardRef(IP);function FP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const UP=h.forwardRef(FP);function VP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const BP=h.forwardRef(VP);function zP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const WP=h.forwardRef(zP);function HP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const ih=h.forwardRef(HP);function qP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Qx=h.forwardRef(qP);function KP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const oa=h.forwardRef(KP);function YP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const GP=h.forwardRef(YP);function JP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const la=h.forwardRef(JP);function QP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const XP=h.forwardRef(QP);function ZP({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Wl=h.forwardRef(ZP);function eT({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const ah=h.forwardRef(eT);function tT({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const nT=h.forwardRef(tT);function rT({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Os=h.forwardRef(rT);function sT({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const bd=h.forwardRef(sT);function iT({title:e,titleId:t,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const oh=h.forwardRef(iT);function $e({className:e="",height:t="h-6",width:n="w-full",borderRadius:r="rounded-md"}){return o.jsx("div",{className:`animate-pulse bg-gray-200 ${t} ${n} ${r} ${e}`})}function gi(){return o.jsx("div",{className:"card",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx($e,{width:"w-12",height:"h-12",borderRadius:"rounded-full"}),o.jsxs("div",{className:"ml-4 space-y-2 w-full",children:[o.jsx($e,{height:"h-4",width:"w-24"}),o.jsx($e,{height:"h-8",width:"w-16"})]})]})})}function aT(){return o.jsxs("div",{className:"card space-y-4",children:[o.jsx($e,{height:"h-4",width:"w-48"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx($e,{height:"h-32"}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx($e,{height:"h-4",width:"w-12"}),o.jsx($e,{height:"h-4",width:"w-12"}),o.jsx($e,{height:"h-4",width:"w-12"}),o.jsx($e,{height:"h-4",width:"w-12"}),o.jsx($e,{height:"h-4",width:"w-12"})]})]})]})}function oT({rows:e=5,columns:t=4}){return o.jsxs("div",{className:"card space-y-4",children:[o.jsx($e,{height:"h-4",width:"w-48"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex gap-4",children:Array(t).fill(0).map((n,r)=>o.jsx($e,{height:"h-4",width:`w-1/${t}`},r))}),Array(e).fill(0).map((n,r)=>o.jsx("div",{className:"flex gap-4",children:Array(t).fill(0).map((s,i)=>o.jsx($e,{height:"h-4",width:`w-1/${t}`,className:i===0?"w-1/6":i===t-1?"w-1/12":""},i))},r))]})]})}function lT({items:e=5}){return o.jsxs("div",{className:"card space-y-4",children:[o.jsx($e,{height:"h-4",width:"w-48"}),o.jsx("div",{className:"space-y-6",children:Array(e).fill(0).map((t,n)=>o.jsxs("div",{className:"flex space-x-4",children:[o.jsx($e,{width:"w-10",height:"h-10",borderRadius:"rounded-full"}),o.jsxs("div",{className:"space-y-2 flex-1",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx($e,{width:"w-32",height:"h-4"}),o.jsx($e,{width:"w-16",height:"h-4"})]}),o.jsx($e,{height:"h-4",width:"w-full"}),o.jsx($e,{height:"h-4",width:"w-2/3"})]})]},n))})]})}function cT({icon:e,title:t,value:n,color:r,href:s,loading:i,delay:a=0}){const l=`bg-${r}-100`,c=`text-${r}-600`,u=o.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:a*.1},className:"card hover:shadow-lg transition-shadow duration-300",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`${l} p-3 rounded-full`,children:o.jsx(e,{className:`h-6 w-6 ${c}`})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("h2",{className:"text-gray-500 text-sm font-medium",children:t}),o.jsx(ie.p,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-3xl font-semibold text-gray-900",children:n},n)]})]})});return s?o.jsx(_e,{to:s,children:u}):u}function uT({stats:e,loading:t}){if(t)return o.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[o.jsx(gi,{}),o.jsx(gi,{}),o.jsx(gi,{}),o.jsx(gi,{})]});const{pendingEscalations:n,totalUsers:r,activeSessions:s,totalMessages:i,avgResponseTime:a,totalRevenue:l}=e,c=[{title:"Pending Escalations",value:n,icon:aa,color:"red",href:"/escalations",delay:0},{title:"Active Sessions",value:s,icon:ia,color:"green",delay:1},{title:"Total Users",value:r,icon:ah,color:"blue",href:"/users",delay:2},{title:"Total Messages",value:i,icon:xd,color:"purple",delay:3}];return a!==void 0&&c.push({title:"Avg Response Time",value:`${a}s`,icon:zl,color:"yellow",delay:4}),l!==void 0&&c.push({title:"Total Revenue",value:`₵${l.toLocaleString()}`,icon:Gx,color:"emerald",delay:5}),o.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:c.map((u,d)=>o.jsx(cT,{title:u.title,value:u.value,icon:u.icon,color:u.color,href:u.href,loading:t,delay:u.delay},u.title))})}const dT=[{id:"session-mock-1",type:"session",title:"Session Started",description:"John started a new session",timestamp:new Date(Date.now()-1e3*60*10).toISOString(),link:{url:"/chat/mock-1",text:"View conversation"}},{id:"session-mock-2",type:"session",title:"Session Ended",description:"Daniel ended their session (completed)",timestamp:new Date(Date.now()-1e3*60*60*8).toISOString(),link:{url:"/chat/mock-2",text:"View conversation"}},{id:"session-mock-3",type:"session",title:"Session Started",description:"Alex started a new session",timestamp:new Date(Date.now()-1e3*60*15).toISOString(),link:{url:"/chat/mock-3",text:"View conversation"}},{id:"session-mock-4",type:"session",title:"Session Ended",description:"Sophia ended their session (cancelled)",timestamp:new Date(Date.now()-1e3*60*60*2).toISOString(),link:{url:"/chat/mock-4",text:"View conversation"}}],fT=[{id:"escalation-mock-1",type:"escalation",title:"Case Escalated",description:"Sarah's case was escalated: Patient reported severe abdominal pain that hasn't responded to prescribed medication...",timestamp:new Date(Date.now()-1e3*60*30).toISOString(),link:{url:"/escalations/mock-1",text:"View details"}},{id:"escalation-mock-2",type:"escalation",title:"Case Escalated",description:"Jamie's case was escalated: Patient requested to speak with a healthcare professional directly.",timestamp:new Date(Date.now()-1e3*60*45).toISOString(),link:{url:"/escalations/mock-2",text:"View details"}}],hT=[{id:"user-mock-1",type:"newUser",title:"New User",description:"Michael joined the platform",timestamp:new Date(Date.now()-1e3*60*60*2).toISOString(),link:{url:"/users/mock-1",text:"View profile"}}],mT=[{id:"message-mock-1",type:"message",title:"User Active",description:"Emma was recently active",timestamp:new Date(Date.now()-1e3*60*60*4).toISOString(),link:{url:"/users/message-1",text:"View profile"}}],pT=[...dT,...fT,...hT,...mT].sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp)),gT=({type:e})=>{const t={message:a0,escalation:$P,newUser:nT,session:oa,completed:zs,cancelled:bd},n={message:"bg-blue-100 text-blue-600",escalation:"bg-red-100 text-red-600",newUser:"bg-green-100 text-green-600",session:"bg-indigo-100 text-indigo-600",completed:"bg-emerald-100 text-emerald-600",cancelled:"bg-gray-100 text-gray-600"},r=t[e]||a0,s=n[e]||"bg-gray-100 text-gray-600";return o.jsx("div",{className:`${s} p-2 rounded-full`,children:o.jsx(r,{className:"h-5 w-5"})})},yT=({date:e})=>{const t=rt(new Date(e),"MMM d, yyyy h:mm a"),n=yo(new Date(e),{addSuffix:!0});return o.jsx("span",{className:"text-sm text-gray-500",title:t,children:n})},vT=({activity:e,index:t})=>o.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:t*.05},className:"flex space-x-3",children:[o.jsx(gT,{type:e.type}),o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-sm font-medium",children:e.title}),o.jsx(yT,{date:e.timestamp})]}),o.jsx("p",{className:"text-sm text-gray-600",children:e.description}),e.link&&o.jsx(_e,{to:e.link.url,className:"text-sm text-primary-600 hover:text-primary-800 font-medium",children:e.link.text})]})]});function lh({activities:e=[],loading:t,title:n="Recent Activity",useMockupIfEmpty:r=!0,initialLimit:s=4}){const[i,a]=h.useState(!1);if(t)return o.jsx(lT,{items:5});const l=(!e||e.length===0)&&r?pT:e;if(!l||l.length===0)return o.jsxs("div",{className:"card text-center py-8",children:[o.jsx("h2",{className:"font-semibold text-xl mb-2",children:n}),o.jsx("p",{className:"text-gray-500",children:"No recent activity to display."})]});const c=i?l:l.slice(0,s),u=l.length>s;return o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"font-semibold text-xl mb-6",children:n}),o.jsx("div",{className:"space-y-6",children:o.jsx(Vl,{initial:!1,children:c.map((d,f)=>o.jsx(vT,{activity:d,index:f},d.id||f))})}),u&&o.jsx(ie.div,{className:"mt-6 pt-4 border-t border-gray-200 flex justify-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:o.jsx("button",{onClick:()=>a(!i),className:"flex items-center text-sm text-primary-600 hover:text-primary-800 font-medium",children:i?o.jsxs(o.Fragment,{children:["Show Less",o.jsx(kP,{className:"ml-1 h-4 w-4"})]}):o.jsxs(o.Fragment,{children:["View All (",l.length,")",o.jsx(Yx,{className:"ml-1 h-4 w-4"})]})})})]})}function xT({data:e,maxValue:t,activeIndex:n,setActiveIndex:r,animate:s=!0,height:i=300}){const a=h.useRef(null),[l,c]=h.useState({width:0,height:220}),[u,d]=h.useState(!1),[f,m]=h.useState({x:0,y:0,value:0,label:""});if(h.useEffect(()=>{if(a.current){const N=()=>{const E=a.current.parentElement.clientWidth;c({width:E,height:220})};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)}},[a]),l.width===0)return o.jsx("div",{ref:a,className:"h-56"});const p={top:20,right:20,bottom:30,left:40},x=l.width-p.left-p.right,w=l.height-p.top-p.bottom,b=e.map((N,E)=>{const _=p.left+E*(x/(e.length-1)),P=p.top+w-N.value/t*w;return{x:_,y:P,...N}}),v=b.reduce((N,E,_)=>{const P=_===0?"M":"C",A=_>0?b[_-1]:E;_<b.length-1&&b[_+1];const T=A.x+(E.x-A.x)*.5,S=A.y,C=E.x-(E.x-A.x)*.5,O=E.y;return _===0?`${N}${P}${E.x},${E.y}`:`${N}${P}${T},${S} ${C},${O} ${E.x},${E.y}`},""),g=`${v} L${b[b.length-1].x},${p.top+w} L${b[0].x},${p.top+w} Z`,y=N=>{m({x:N.x,y:N.y,value:N.value,label:N.label}),d(!0)},j={hidden:{pathLength:0,opacity:0},visible:{pathLength:1,opacity:1,transition:{pathLength:{type:"spring",duration:2,bounce:0},opacity:{duration:.5}}}},k={hidden:{scale:0,opacity:0},visible:N=>({scale:1,opacity:1,transition:{delay:N*.1,type:"spring",duration:.8,bounce:.4}})};return o.jsxs("div",{className:"relative",children:[o.jsxs("svg",{ref:a,width:l.width,height:l.height,className:"overflow-visible",children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"areaGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:"rgba(99, 102, 241, 0.3)"}),o.jsx("stop",{offset:"100%",stopColor:"rgba(99, 102, 241, 0.0)"})]}),o.jsxs("filter",{id:"glow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[o.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),o.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})]}),[...Array(5)].map((N,E)=>{const _=p.top+E*w/4;return o.jsx("line",{x1:p.left,y1:_,x2:l.width-p.right,y2:_,stroke:"rgba(229, 231, 235, 0.8)",strokeDasharray:"4,4"},`grid-${E}`)}),b.map((N,E)=>o.jsx("text",{x:N.x,y:l.height-5,fontSize:"10",textAnchor:"middle",fill:"#6B7280",children:N.label},`label-${E}`)),o.jsx(ie.path,{d:g,fill:"url(#areaGradient)",initial:{opacity:0},animate:{opacity:1},transition:{duration:1}}),o.jsx(ie.path,{d:v,fill:"none",stroke:"rgb(99, 102, 241)",strokeWidth:3,strokeLinecap:"round",variants:j,initial:s?"hidden":"visible",animate:"visible",filter:"url(#glow)"}),b.map((N,E)=>o.jsx(ie.circle,{cx:N.x,cy:N.y,r:n===E?6:4,fill:n===E?"rgb(79, 70, 229)":"white",stroke:"rgb(99, 102, 241)",strokeWidth:2,custom:E,variants:k,initial:s?"hidden":"visible",animate:"visible",whileHover:{scale:1.3},onMouseEnter:()=>{y(N),r(E)},onMouseLeave:()=>d(!1),className:"cursor-pointer"},`point-${E}`)),u&&o.jsxs("g",{children:[o.jsx("rect",{x:f.x-40,y:f.y-40,width:80,height:30,rx:4,fill:"rgba(17, 24, 39, 0.9)",filter:"drop-shadow(0px 2px 4px rgba(0, 0, 0, 0.1))"}),o.jsx("text",{x:f.x,y:f.y-20,textAnchor:"middle",fill:"white",fontSize:"12",children:f.value})]})]}),o.jsx("div",{className:"mt-3 flex justify-between px-2 text-xs text-gray-500",children:e.map((N,E)=>o.jsx("div",{className:`cursor-pointer transition-all ${n===E?"text-primary-600 font-medium":""}`,onClick:()=>r(E),children:N.label},`mobile-label-${E}`))})]})}function wT({value:e,onChange:t}){const n=[{value:"day",label:"Today"},{value:"week",label:"This Week"},{value:"month",label:"This Month"},{value:"year",label:"This Year"}];return o.jsx("div",{className:"inline-flex rounded-md shadow-sm",children:n.map(r=>o.jsx(ie.button,{type:"button",onClick:()=>t(r.value),className:`
            relative inline-flex items-center px-3 py-2 text-sm font-medium
            ${r.value===e?"bg-primary-600 text-white z-10":"bg-white text-gray-700 hover:bg-gray-50"}
            ${r.value==="day"?"rounded-l-md":""}
            ${r.value==="year"?"rounded-r-md":""}
            border border-gray-300 transition-all duration-200
          `,whileTap:{scale:.95},whileHover:{y:-2,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:r.label},r.value))})}function Cr({loading:e,title:t="Message Activity"}){const[n,r]=h.useState("week"),[s,i]=h.useState(null),[a,l]=h.useState(!0),c={day:[{label:"12AM",value:5},{label:"4AM",value:2},{label:"8AM",value:8},{label:"12PM",value:12},{label:"4PM",value:25},{label:"8PM",value:18}],week:[{label:"Mon",value:12},{label:"Tue",value:19},{label:"Wed",value:15},{label:"Thu",value:22},{label:"Fri",value:30},{label:"Sat",value:18},{label:"Sun",value:10}],month:[{label:"Week 1",value:45},{label:"Week 2",value:65},{label:"Week 3",value:53},{label:"Week 4",value:78}],year:[{label:"Jan",value:120},{label:"Feb",value:145},{label:"Mar",value:178},{label:"Apr",value:250},{label:"May",value:210},{label:"Jun",value:320},{label:"Jul",value:315},{label:"Aug",value:350},{label:"Sep",value:290},{label:"Oct",value:310},{label:"Nov",value:285},{label:"Dec",value:380}]};if(h.useEffect(()=>{l(!0),i(null);const f=setTimeout(()=>{l(!1)},2500);return()=>clearTimeout(f)},[n]),e)return o.jsx(aT,{});const u=c[n],d=Math.max(...u.map(f=>f.value))*1.2;return o.jsxs(ie.div,{className:"card overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx(ie.h2,{className:"font-semibold text-xl",animate:{opacity:1},transition:{duration:.5},children:t}),o.jsx(wT,{value:n,onChange:r})]}),o.jsx(Vl,{mode:"wait",children:o.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"pt-4",children:o.jsx(xT,{data:u,maxValue:d,activeIndex:s,setActiveIndex:i,animate:a})},n)}),o.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 flex justify-between text-sm text-gray-500",children:[o.jsxs(ie.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5,duration:.5},children:[o.jsx("span",{className:"font-medium text-gray-700",children:"Total: "}),o.jsxs(ie.span,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[u.reduce((f,m)=>f+m.value,0)," messages"]},`total-${n}`)]}),o.jsxs(ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.7,duration:.5},children:[o.jsx("span",{className:"font-medium text-gray-700",children:"Average: "}),o.jsxs(ie.span,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[Math.round(u.reduce((f,m)=>f+m.value,0)/u.length)," per ",n==="day"?"hour":n==="week"?"day":n==="month"?"week":"month"]},`avg-${n}`)]})]})]})}function bT(){var p;const{stats:e,activities:t,loading:n,error:r,fetchDashboardData:s}=nr(),[i,a]=h.useState(!0),[l,c]=h.useState(null),[u,d]=h.useState("week");h.useEffect(()=>{f(u)},[u]);const f=async x=>{try{a(!0);const w=await nr().fetchAnalyticsData(x);c(w)}catch(w){console.error("Error fetching analytics data:",w)}finally{a(!1)}},m=()=>{s(),f(u)};return r?o.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-md",children:[o.jsx("p",{children:r}),o.jsx("button",{onClick:m,className:"mt-2 btn btn-primary",children:"Try Again"})]}):o.jsxs(ie.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Dashboard"}),o.jsxs("button",{onClick:m,disabled:n||i,className:"flex items-center btn btn-secondary",children:[o.jsx(Bl,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),"Refresh"]})]}),o.jsx(uT,{stats:e,loading:n}),o.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-8 lg:grid-cols-2",children:[o.jsx(lh,{activities:t,loading:n,title:"Recent Activity"}),o.jsx(Cr,{loading:i,title:"Message Activity",data:l==null?void 0:l.messages,onTimeframeChange:d,timeframe:u})]}),o.jsxs("div",{className:"mt-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Revenue Performance"}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-semibold text-lg",children:"Revenue Trends"}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:["₵",((p=e.totalRevenue)==null?void 0:p.toLocaleString())||"0"]}),o.jsx("p",{className:"text-sm text-gray-500",children:"Total Revenue"})]})]}),o.jsx(Cr,{loading:i,data:l==null?void 0:l.revenue,onTimeframeChange:d,timeframe:u,title:"Revenue",height:200})]})]}),o.jsxs("div",{className:"mt-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"KYC Performance"}),o.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"KYC Completions"}),o.jsx(Cr,{loading:i,data:l==null?void 0:l.kyc,onTimeframeChange:d,timeframe:u,title:"KYC Completions",height:200}),o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:o.jsxs("div",{className:"text-center text-sm",children:[o.jsx("span",{className:"font-medium text-gray-900",children:e.kycCompletedUsers})," users have completed KYC",e.totalUsers>0&&o.jsxs("span",{className:"ml-2 text-gray-500",children:["(",Math.round(e.kycCompletedUsers/e.totalUsers*100),"% of total users)"]})]})})]}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"New Users"}),o.jsx(Cr,{loading:i,data:l==null?void 0:l.users,onTimeframeChange:d,timeframe:u,title:"User Signups",height:200}),o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:o.jsxs("div",{className:"text-center text-sm",children:[o.jsx("span",{className:"font-medium text-gray-900",children:e.totalUsers})," total users registered"]})})]})]})]}),o.jsxs("div",{className:"mt-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Doctor Portal"}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Doctor Access"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Registered doctors can access their personalized dashboard to view bookings, manage availability, and interact with patients."}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(_e,{to:"/doctor/login",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200",children:[o.jsx(wd,{className:"h-4 w-4 mr-2"}),"Access Doctor Portal"]}),o.jsx(_e,{to:"/doctors",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200",children:"Manage Doctors"})]})]}),o.jsx("div",{className:"hidden md:block",children:o.jsx("div",{className:"text-right",children:o.jsx("div",{className:"h-16 w-16 bg-gradient-to-r from-blue-100 to-indigo-100 rounded-full flex items-center justify-center",children:o.jsx(wd,{className:"h-8 w-8 text-blue-600"})})})})]})})]})]})}let jT={data:""},_T=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||jT,kT=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ST=/\/\*[^]*?\*\/|  +/g,l0=/\n+/g,Ln=(e,t)=>{let n="",r="",s="";for(let i in e){let a=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+a+";":r+=i[1]=="f"?Ln(a,i):i+"{"+Ln(a,i[1]=="k"?"":t)+"}":typeof a=="object"?r+=Ln(a,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Ln.p?Ln.p(i,a):i+":"+a+";")}return n+(t&&s?t+"{"+s+"}":s)+r},en={},Xx=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Xx(e[n]);return t}return e},NT=(e,t,n,r,s)=>{let i=Xx(e),a=en[i]||(en[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!en[a]){let c=i!==e?e:(u=>{let d,f,m=[{}];for(;d=kT.exec(u.replace(ST,""));)d[4]?m.shift():d[3]?(f=d[3].replace(l0," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][d[1]]=d[2].replace(l0," ").trim();return m[0]})(e);en[a]=Ln(s?{["@keyframes "+a]:c}:c,n?"":"."+a)}let l=n&&en.g?en.g:null;return n&&(en.g=en[a]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(en[a],t,r,l),a},ET=(e,t,n)=>e.reduce((r,s,i)=>{let a=t[i];if(a&&a.call){let l=a(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=c?"."+c:l&&typeof l=="object"?l.props?"":Ln(l,""):l===!1?"":l}return r+s+(a??"")},"");function Hl(e){let t=this||{},n=e.call?e(t.p):e;return NT(n.unshift?n.raw?ET(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,_T(t.target),t.g,t.o,t.k)}let Zx,jd,_d;Hl.bind({g:1});let bn=Hl.bind({k:1});function CT(e,t,n,r){Ln.p=t,Zx=e,jd=n,_d=r}function fr(e,t){let n=this||{};return function(){let r=arguments;function s(i,a){let l=Object.assign({},i),c=l.className||s.className;n.p=Object.assign({theme:jd&&jd()},l),n.o=/ *go\d+/.test(c),l.className=Hl.apply(n,r)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),_d&&u[0]&&_d(l),Zx(u,l)}return s}}var PT=e=>typeof e=="function",sl=(e,t)=>PT(e)?e(t):e,TT=(()=>{let e=0;return()=>(++e).toString()})(),ew=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),AT=20,tw=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,AT)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return tw(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},wo=[],Pr={toasts:[],pausedAt:void 0},qr=e=>{Pr=tw(Pr,e),wo.forEach(t=>{t(Pr)})},DT={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},$T=(e={})=>{let[t,n]=h.useState(Pr),r=h.useRef(Pr);h.useEffect(()=>(r.current!==Pr&&n(Pr),wo.push(n),()=>{let i=wo.indexOf(n);i>-1&&wo.splice(i,1)}),[]);let s=t.toasts.map(i=>{var a,l,c;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((a=e[i.type])==null?void 0:a.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((l=e[i.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||DT[i.type],style:{...e.style,...(c=e[i.type])==null?void 0:c.style,...i.style}}});return{...t,toasts:s}},OT=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||TT()}),ba=e=>(t,n)=>{let r=OT(t,e,n);return qr({type:2,toast:r}),r.id},nt=(e,t)=>ba("blank")(e,t);nt.error=ba("error");nt.success=ba("success");nt.loading=ba("loading");nt.custom=ba("custom");nt.dismiss=e=>{qr({type:3,toastId:e})};nt.remove=e=>qr({type:4,toastId:e});nt.promise=(e,t,n)=>{let r=nt.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?sl(t.success,s):void 0;return i?nt.success(i,{id:r,...n,...n==null?void 0:n.success}):nt.dismiss(r),s}).catch(s=>{let i=t.error?sl(t.error,s):void 0;i?nt.error(i,{id:r,...n,...n==null?void 0:n.error}):nt.dismiss(r)}),e};var RT=(e,t)=>{qr({type:1,toast:{id:e,height:t}})},MT=()=>{qr({type:5,time:Date.now()})},Oi=new Map,LT=1e3,IT=(e,t=LT)=>{if(Oi.has(e))return;let n=setTimeout(()=>{Oi.delete(e),qr({type:4,toastId:e})},t);Oi.set(e,n)},FT=e=>{let{toasts:t,pausedAt:n}=$T(e);h.useEffect(()=>{if(n)return;let i=Date.now(),a=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(c<0){l.visible&&nt.dismiss(l.id);return}return setTimeout(()=>nt.dismiss(l.id),c)});return()=>{a.forEach(l=>l&&clearTimeout(l))}},[t,n]);let r=h.useCallback(()=>{n&&qr({type:6,time:Date.now()})},[n]),s=h.useCallback((i,a)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=a||{},d=t.filter(p=>(p.position||u)===(i.position||u)&&p.height),f=d.findIndex(p=>p.id===i.id),m=d.filter((p,x)=>x<f&&p.visible).length;return d.filter(p=>p.visible).slice(...l?[m+1]:[0,m]).reduce((p,x)=>p+(x.height||0)+c,0)},[t]);return h.useEffect(()=>{t.forEach(i=>{if(i.dismissed)IT(i.id,i.removeDelay);else{let a=Oi.get(i.id);a&&(clearTimeout(a),Oi.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:RT,startPause:MT,endPause:r,calculateOffset:s}}},UT=bn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,VT=bn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,BT=bn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,zT=fr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${UT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${VT} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${BT} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,WT=bn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,HT=fr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${WT} 1s linear infinite;
`,qT=bn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,KT=bn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,YT=fr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${qT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${KT} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,GT=fr("div")`
  position: absolute;
`,JT=fr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,QT=bn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,XT=fr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${QT} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ZT=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?h.createElement(XT,null,t):t:n==="blank"?null:h.createElement(JT,null,h.createElement(HT,{...r}),n!=="loading"&&h.createElement(GT,null,n==="error"?h.createElement(zT,{...r}):h.createElement(YT,{...r})))},e3=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,t3=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,n3="0%{opacity:0;} 100%{opacity:1;}",r3="0%{opacity:1;} 100%{opacity:0;}",s3=fr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,i3=fr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,a3=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=ew()?[n3,r3]:[e3(n),t3(n)];return{animation:t?`${bn(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${bn(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},o3=h.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?a3(e.position||t||"top-center",e.visible):{opacity:0},i=h.createElement(ZT,{toast:e}),a=h.createElement(i3,{...e.ariaProps},sl(e.message,e));return h.createElement(s3,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:i,message:a}):h.createElement(h.Fragment,null,i,a))});CT(h.createElement);var l3=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let i=h.useCallback(a=>{if(a){let l=()=>{let c=a.getBoundingClientRect().height;r(e,c)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return h.createElement("div",{ref:i,className:t,style:n},s)},c3=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ew()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},u3=Hl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ja=16,d3=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:a})=>{let{toasts:l,handlers:c}=FT(n);return h.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Ja,left:Ja,right:Ja,bottom:Ja,pointerEvents:"none",...i},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||t,f=c.calculateOffset(u,{reverseOrder:e,gutter:r,defaultPosition:t}),m=c3(d,f);return h.createElement(l3,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?u3:"",style:m},u.type==="custom"?sl(u.message,u):s?s(u):h.createElement(o3,{toast:u,position:d}))}))},B=nt;const me=e=>new Date(Date.now()-1e3*60*60*e).toISOString(),c0=[{id:"esc-mock-1",reason:"Patient reported severe abdominal pain that hasn't responded to prescribed medication. Pain level rated as 8/10 and increasing over the last 3 hours.",status:"pending",created_at:me(2),updated_at:me(2),session_id:"session-mock-1",users:{id:"user-mock-1",first_name:"Sarah",phone_number:"+1234567890"},sessions:{id:"session-mock-1",started_at:me(3)}},{id:"esc-mock-2",reason:"Patient requested to speak with a healthcare professional directly regarding medication side effects that are severely affecting daily activities.",status:"in_progress",created_at:me(6),updated_at:me(5),session_id:"session-mock-2",users:{id:"user-mock-2",first_name:"Jamie",phone_number:"+2345678901"},sessions:{id:"session-mock-2",started_at:me(7)}},{id:"esc-mock-3",reason:"Symptoms described may indicate an urgent medical condition requiring immediate attention. Patient experiencing chest pain radiating to left arm with shortness of breath.",status:"pending",created_at:me(12),updated_at:me(12),session_id:"session-mock-3",users:{id:"user-mock-3",first_name:"Robert",phone_number:"+3456789012"},sessions:{id:"session-mock-3",started_at:me(13)}},{id:"esc-mock-4",reason:"Patient reported severe headache with blurred vision and dizziness after recent head injury. Symptoms have worsened in the last hour.",status:"resolved",created_at:me(24),updated_at:me(20),resolved_at:me(20),resolved_by:"Dr. Johnson",session_id:"session-mock-4",users:{id:"user-mock-4",first_name:"Maria",phone_number:"+4567890123"},sessions:{id:"session-mock-4",started_at:me(25)}},{id:"esc-mock-5",reason:"Patient having difficulty breathing and experiencing hives after taking new prescription medication. Possible allergic reaction.",status:"in_progress",created_at:me(4),updated_at:me(3.5),session_id:"session-mock-5",users:{id:"user-mock-5",first_name:"David",phone_number:"+5678901234"},sessions:{id:"session-mock-5",started_at:me(4.5)}},{id:"esc-mock-6",reason:"Patient experiencing severe depression with suicidal thoughts. Requires immediate mental health intervention.",status:"pending",created_at:me(1),updated_at:me(1),session_id:"session-mock-6",users:{id:"user-mock-6",first_name:"Thomas",phone_number:"+6789012345"},sessions:{id:"session-mock-6",started_at:me(1.5)}},{id:"esc-mock-7",reason:"Pregnant patient experiencing contractions at 34 weeks. Possible preterm labor requiring evaluation.",status:"resolved",created_at:me(36),updated_at:me(35),resolved_at:me(35),resolved_by:"Dr. Martinez",session_id:"session-mock-7",users:{id:"user-mock-7",first_name:"Emma",phone_number:"+7890123456"},sessions:{id:"session-mock-7",started_at:me(37)}},{id:"esc-mock-8",reason:"Patient reported concerning lab results requiring physician review. Blood glucose levels extremely elevated.",status:"resolved",created_at:me(48),updated_at:me(47),resolved_at:me(47),resolved_by:"Dr. Wilson",session_id:"session-mock-8",users:{id:"user-mock-8",first_name:"Michael",phone_number:"+8901234567"},sessions:{id:"session-mock-8",started_at:me(49)}}],u0={pending:3,in_progress:2,resolved:1};function f3(){const{isConnected:e,fetchEscalations:t,updateEscalationStatus:n}=nr(),[r,s]=h.useState([]),[i,a]=h.useState(!0),[l,c]=h.useState(null),[u,d]=h.useState("all"),[f,m]=h.useState(null),[p,x]=h.useState(!e);h.useEffect(()=>{w()},[e,u]);const w=async()=>{try{if(a(!0),e)try{const _=await t(u==="all"?void 0:u);s(_||[]),x(!1)}catch(_){console.error("Error fetching escalations:",_),s(c0),x(!0),c("Failed to load real escalation data, showing mockup data instead"),B.error("Using mockup data for escalations")}else s(c0),x(!0)}catch(_){console.error("Error in loadEscalations:",_),c("Failed to load escalations"),B.error("Failed to load escalations")}finally{a(!1)}},b=async(_,P)=>{try{if(p){const T=r.map(S=>{if(S.id===_){const C={...S,status:P,updated_at:new Date().toISOString()};return P==="resolved"&&(C.resolved_at=new Date().toISOString(),C.resolved_by="Admin (Mockup)"),C}return S});s(T),B.success(`Escalation marked as ${P}`);return}await n(_,P)?(B.success(`Escalation marked as ${P}`),w()):B.error("Failed to update escalation")}catch(A){console.error("Error updating escalation:",A),B.error("Failed to update escalation")}},v=_=>{switch(_){case"pending":return o.jsxs("span",{className:"inline-flex items-center rounded-full bg-yellow-50 px-2.5 py-1 text-xs font-medium text-yellow-800 ring-1 ring-inset ring-yellow-600/20",children:[o.jsx(dP,{className:"h-3 w-3 mr-1"}),"Pending"]});case"in_progress":return o.jsxs("span",{className:"inline-flex items-center rounded-full bg-blue-50 px-2.5 py-1 text-xs font-medium text-blue-700 ring-1 ring-inset ring-blue-700/10",children:[o.jsx(zl,{className:"h-3 w-3 mr-1"}),"In Progress"]});case"resolved":return o.jsxs("span",{className:"inline-flex items-center rounded-full bg-green-50 px-2.5 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20",children:[o.jsx(zs,{className:"h-3 w-3 mr-1"}),"Resolved"]});default:return o.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-50 px-2.5 py-1 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10",children:_})}},g=_=>{switch(_){case"pending":return"border-l-yellow-500";case"in_progress":return"border-l-blue-500";case"resolved":return"border-l-green-500";default:return"border-l-gray-300"}},y=_=>{m(f===_?null:_)},k=[...u==="all"?r:r.filter(_=>_.status===u)].sort((_,P)=>{const A=(u0[P.status]||0)-(u0[_.status]||0);return A!==0?A:new Date(P.created_at)-new Date(_.created_at)}),N=l&&!p?o.jsxs(ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"p-4 mb-6 bg-red-50 text-red-700 rounded-lg shadow-sm border border-red-200",children:[o.jsxs("div",{className:"flex",children:[o.jsx(aa,{className:"h-5 w-5 mr-2 text-red-500"}),o.jsx("p",{children:l})]}),o.jsx("button",{onClick:w,className:"mt-2 px-3 py-1.5 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm",children:"Try Again"})]}):null,E=p?o.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},className:"p-3 mb-6 bg-blue-50 text-blue-700 rounded-lg shadow-sm border border-blue-200 text-sm",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(MP,{className:"h-5 w-5 mr-2 text-blue-500"}),o.jsx("p",{children:"Using mockup data for demonstration purposes"})]})}):null;return o.jsxs(ie.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Escalations"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage patient escalations requiring healthcare professional attention"})]}),o.jsxs("button",{onClick:w,disabled:i,className:"flex items-center btn btn-secondary",children:[o.jsx(Bl,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),"Refresh"]})]}),N,E,o.jsxs("div",{className:"flex space-x-2 mb-6",children:[o.jsx(Qa,{status:"all",label:"All",count:r.length,currentFilter:u,onClick:()=>d("all")}),o.jsx(Qa,{status:"pending",label:"Pending",count:r.filter(_=>_.status==="pending").length,currentFilter:u,onClick:()=>d("pending")}),o.jsx(Qa,{status:"in_progress",label:"In Progress",count:r.filter(_=>_.status==="in_progress").length,currentFilter:u,onClick:()=>d("in_progress")}),o.jsx(Qa,{status:"resolved",label:"Resolved",count:r.filter(_=>_.status==="resolved").length,currentFilter:u,onClick:()=>d("resolved")})]}),i?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):k.length===0?o.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md p-8 text-center",children:[o.jsx(aa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No escalations found"}),o.jsx("p",{className:"mt-2 text-sm text-gray-500",children:u==="all"?"There are currently no escalated cases that need your attention.":`There are no ${u} escalations at this time.`})]}):o.jsx("div",{className:"space-y-4",children:o.jsx(Vl,{initial:!1,children:k.map(_=>{var P,A;return o.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,height:0},layout:!0,className:`bg-white rounded-lg shadow-sm border-l-4 ${g(_.status)} overflow-hidden`,children:o.jsxs("div",{className:"p-4 sm:p-5",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"h-10 w-10 flex-shrink-0 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden border border-gray-200",children:o.jsx(Os,{className:"h-6 w-6 text-gray-500"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:((P=_.users)==null?void 0:P.first_name)||"Unknown"}),o.jsx("div",{className:"text-xs text-gray-500",children:((A=_.users)==null?void 0:A.phone_number)||"No phone number"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"text-right hidden sm:block",children:[o.jsx("div",{className:"text-sm text-gray-900",children:_.created_at?rt(new Date(_.created_at),"MMM d, yyyy"):""}),o.jsx("div",{className:"text-xs text-gray-500",children:_.created_at?yo(new Date(_.created_at),{addSuffix:!0}):""})]}),v(_.status)]})]}),o.jsxs("div",{className:"mt-3",children:[o.jsx("div",{className:`text-sm text-gray-700 ${f!==_.id&&"line-clamp-2"}`,children:_.reason}),_.reason.length>100&&o.jsxs("button",{onClick:()=>y(_.id),className:"text-xs text-primary-600 hover:text-primary-800 mt-1 flex items-center",children:[f===_.id?"Show less":"Read more",o.jsx(Yx,{className:`h-3 w-3 ml-1 transition-transform ${f===_.id?"rotate-180":""}`})]})]}),o.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[o.jsx("div",{className:"text-xs text-gray-500 sm:hidden",children:_.created_at?yo(new Date(_.created_at),{addSuffix:!0}):""}),o.jsxs("div",{className:"flex space-x-3 ml-auto",children:[o.jsxs(_e,{to:`/chat/${_.session_id}`,state:{from:"escalations"},className:"btn btn-sm btn-outline flex items-center",children:[o.jsx(ia,{className:"h-4 w-4 mr-1"}),"View Chat"]}),_.status==="pending"&&o.jsx("button",{onClick:()=>b(_.id,"in_progress"),className:"btn btn-sm btn-primary",children:"Take Case"}),(_.status==="pending"||_.status==="in_progress")&&o.jsx("button",{onClick:()=>b(_.id,"resolved"),className:"btn btn-sm btn-success",children:"Resolve"})]})]}),_.status==="resolved"&&_.resolved_by&&o.jsxs("div",{className:"mt-3 text-xs text-gray-500 bg-gray-50 p-2 rounded",children:["Resolved by ",_.resolved_by," • ",_.resolved_at?yo(new Date(_.resolved_at),{addSuffix:!0}):""]})]})},_.id)})})})]})}function Qa({status:e,label:t,count:n,currentFilter:r,onClick:s}){let a=r===e?"bg-primary-50 text-primary-700 border-primary-200 ring-primary-200":"bg-white hover:bg-gray-50 text-gray-700 border-gray-200";return o.jsxs("button",{onClick:s,className:`px-3 py-1.5 rounded-full text-sm font-medium border ${a} transition-colors flex items-center`,children:[t,o.jsx("span",{className:"ml-1.5 bg-white bg-opacity-80 text-xs rounded-full px-1.5 py-0.5 text-gray-600",children:n})]})}function h3(){var _;const{sessionId:e}=Sl(),t=Wt(),n=cr(),{supabase:r}=$t(),[s,i]=h.useState([]),[a,l]=h.useState(""),[c,u]=h.useState(null),[d,f]=h.useState(null),[m,p]=h.useState(!0),[x,w]=h.useState(!1),[b,v]=h.useState(null),g=h.useRef(null);h.useEffect(()=>{if(e){j();let P;return r&&(P=r.channel("messages-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`session_id=eq.${e}`},A=>{i(T=>[...T,A.new])}).subscribe()),()=>{P&&r.removeChannel(P)}}},[e,r]),h.useEffect(()=>{y()},[s]);const y=()=>{var P;(P=g.current)==null||P.scrollIntoView({behavior:"smooth"})},j=async()=>{if(!(!r||!e))try{p(!0);const{data:P,error:A}=await r.from("sessions").select(`
          *,
          users (
            id,
            phone_number,
            first_name,
            consent_given
          )
        `).eq("id",e).single();if(A)throw A;P!=null&&P.users&&(u(P.users),f(P));const{data:T,error:S}=await r.from("messages").select("*").eq("session_id",e).order("created_at",{ascending:!0});if(S)throw S;i(T||[])}catch(P){console.error("Error fetching chat session:",P),v("Failed to load chat session"),B.error("Failed to load chat session")}finally{p(!1)}},k=()=>{var P,A;((P=d==null?void 0:d.metadata)==null?void 0:P.initiated_by)==="admin"?t(`/users/${(c==null?void 0:c.id)||""}`):((A=n.state)==null?void 0:A.from)==="escalations"?t("/escalations"):c!=null&&c.id?t(`/users/${c.id}`):t("/users")},N=async P=>{if(P.preventDefault(),!a.trim())return;const A=a.trim();l("");const T={id:`temp_${Date.now()}`,content:A,direction:"outbound",created_at:new Date().toISOString(),user:{first_name:"Admin"}};i(S=>[...S,T]);try{const S="http://localhost:3000/admin/send";console.log(`Sending message to: ${S}`);const C=await fetch(S,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:c.id,sessionId:e,message:A,phoneNumber:c.phone_number})});if(!C.ok){const O=await C.json();throw new Error(O.error||"Failed to send message")}B.success("Message sent to user via WhatsApp!")}catch(S){console.error("Error sending message:",S),B.error("Failed to send message"),i(C=>C.filter(O=>O.id!==T.id))}},E=P=>P?rt(new Date(P),"h:mm a"):"";return b?o.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-md",children:[o.jsx("p",{children:b}),o.jsxs("button",{onClick:k,className:"mt-2 btn btn-primary flex items-center",children:[o.jsx(Fr,{className:"h-4 w-4 mr-2"}),"Go Back"]})]}):o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"pb-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:k,className:"mr-4 text-gray-500 hover:text-gray-700",children:o.jsx(Fr,{className:"h-5 w-5"})}),m?o.jsx("div",{className:"h-8 w-40 bg-gray-200 animate-pulse rounded"}):o.jsxs("div",{children:[o.jsxs("h1",{className:"text-xl font-semibold text-gray-900",children:["Chat with ",(c==null?void 0:c.first_name)||"User"]}),o.jsx("p",{className:"text-sm text-gray-500",children:c==null?void 0:c.phone_number})]})]}),(c==null?void 0:c.consent_given)===!1&&o.jsxs("div",{className:"flex items-center text-yellow-600 bg-yellow-50 px-3 py-1 rounded-full text-sm",children:[o.jsx(aa,{className:"h-4 w-4 mr-1"}),"No consent given"]})]})}),m?o.jsx("div",{className:"flex-1 flex justify-center items-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[s.length===0?o.jsx("div",{className:"text-center p-6",children:o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-blue-700 mb-4 inline-block",children:[o.jsx("p",{className:"font-medium",children:"New Conversation"}),o.jsxs("p",{className:"text-sm mt-1",children:["This is a new conversation with ",(c==null?void 0:c.first_name)||"the user",".",((_=d==null?void 0:d.metadata)==null?void 0:_.initiated_by)==="admin"&&" You initiated this chat as an administrator."]}),o.jsx("p",{className:"text-sm mt-2",children:"Type your message below to start the conversation."})]})}):s.map(P=>o.jsx("div",{className:`flex ${P.direction==="inbound"?"justify-start":"justify-end"}`,children:o.jsxs("div",{className:`max-w-xs sm:max-w-md px-4 py-2 rounded-lg ${P.direction==="inbound"?"bg-gray-100 text-gray-800":"bg-primary-600 text-white"}`,children:[o.jsx("div",{className:"text-sm",children:P.content}),o.jsx("div",{className:`text-xs mt-1 ${P.direction==="inbound"?"text-gray-500":"text-primary-200"}`,children:E(P.created_at)})]})},P.id)),o.jsx("div",{ref:g})]}),o.jsx("div",{className:"border-t border-gray-200 p-4 bg-white",children:o.jsxs("form",{onSubmit:N,className:"flex space-x-2",children:[o.jsx("input",{type:"text",value:a,onChange:P=>l(P.target.value),disabled:m||x||!c,placeholder:"Type your message...",className:"flex-1 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),o.jsxs("button",{type:"submit",disabled:m||x||!a.trim()||!c,className:"btn btn-primary flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[x?o.jsx("div",{className:"animate-spin h-5 w-5 mr-2 border-t-2 border-b-2 border-white rounded-full"}):o.jsx(ih,{className:"h-5 w-5 mr-2"}),"Send"]})]})})]})}const Xa=({title:e,value:t,percentage:n,icon:r,color:s,loading:i,delay:a=0})=>{if(i)return o.jsx(gi,{});const l=`bg-${s}-100`,c=`text-${s}-600`;return o.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:a*.1},className:"card hover:shadow-lg transition-shadow duration-300",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`${l} p-3 rounded-full`,children:o.jsx(r,{className:`h-6 w-6 ${c}`})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("h2",{className:"text-gray-500 text-sm font-medium",children:e}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(ie.p,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-3xl font-semibold text-gray-900",children:t},t),n!==void 0&&o.jsxs("span",{className:"ml-2 text-sm font-medium text-green-600",children:[n,"%"]})]})]})]})})};function m3({stats:e,loading:t}){const{totalUsers:n,kycCompletedUsers:r}=e||{totalUsers:0,kycCompletedUsers:0},s=n>0?Math.round(r/n*100):0;return o.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[o.jsx(Xa,{title:"Total Users",value:n,icon:ah,color:"blue",loading:t,delay:0}),o.jsx(Xa,{title:"KYC Completed",value:r,icon:wP,color:"green",loading:t,delay:1}),o.jsx(Xa,{title:"Completion Rate",value:`${s}%`,icon:lP,color:"purple",loading:t,delay:2}),o.jsx(Xa,{title:"Pending KYC",value:n-r,icon:Os,color:"yellow",loading:t,delay:3})]})}function p3(){const{stats:e,activities:t,loading:n,error:r,fetchDashboardData:s}=nr(),[i,a]=h.useState(!0),[l,c]=h.useState(null),[u,d]=h.useState("week");h.useEffect(()=>{f(u)},[u]);const f=async x=>{try{a(!0);const w=await nr().fetchAnalyticsData(x);c(w)}catch(w){console.error("Error fetching analytics data:",w)}finally{a(!1)}},m=t.filter(x=>x.type==="completed"||x.title.includes("KYC")||x.description.includes("KYC")),p=()=>{s(),f(u)};return r?o.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-md",children:[o.jsx("p",{children:r}),o.jsx("button",{onClick:p,className:"mt-2 btn btn-primary",children:"Try Again"})]}):o.jsxs(ie.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"KYC Dashboard"}),o.jsxs("button",{onClick:p,disabled:n||i,className:"flex items-center btn btn-secondary",children:[o.jsx(Bl,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),"Refresh"]})]}),o.jsx(m3,{stats:e,loading:n}),o.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-8 lg:grid-cols-2",children:[o.jsx(lh,{activities:m,loading:n,title:"Recent KYC Activity",initialLimit:5}),o.jsx(Cr,{loading:i,title:"KYC Completions",data:l==null?void 0:l.kyc,onTimeframeChange:d,timeframe:u})]}),o.jsxs("div",{className:"mt-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"KYC vs User Growth"}),o.jsxs("div",{className:"card p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("h3",{className:"text-lg font-medium",children:"Comparison Chart"})}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"New User Registrations"}),o.jsx(Cr,{loading:i,title:"User Signups",data:l==null?void 0:l.users,onTimeframeChange:d,timeframe:u,height:200})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"KYC Completions"}),o.jsx(Cr,{loading:i,title:"KYC Completions",data:l==null?void 0:l.kyc,onTimeframeChange:d,timeframe:u,height:200})]})]}),o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Conversion Rate"}),o.jsx("p",{className:"text-xl font-semibold",children:e.totalUsers>0?`${Math.round(e.kycCompletedUsers/e.totalUsers*100)}%`:"0%"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Pending KYC"}),o.jsx("p",{className:"text-xl font-semibold",children:e.totalUsers-e.kycCompletedUsers})]})]})})]})]})]})}const nw=async(e,t,n)=>{try{if(!e||!t)throw new Error("Missing required parameters");const{data:r,error:s}=await e.from("sessions").select("id").eq("user_id",t).eq("status","active").order("started_at",{ascending:!1}).limit(1);if(s)throw s;if(r&&r.length>0){B.success("Navigating to existing active session"),n(`/chat/${r[0].id}`);return}const{data:i,error:a}=await e.from("sessions").insert({user_id:t,status:"active",started_at:new Date().toISOString(),metadata:{initiated_by:"admin"}}).select().single();if(a)throw a;B.success("New chat session created"),n(`/chat/${i.id}`)}catch(r){console.error("Error starting chat:",r),B.error(`Failed to start chat: ${r.message}`)}};function g3(){const{userId:e}=Sl(),t=Wt(),{supabase:n}=$t(),{isConnected:r}=nr(),[s,i]=h.useState(null),[a,l]=h.useState(null),[c,u]=h.useState([]),[d,f]=h.useState([]),[m,p]=h.useState(!0),[x,w]=h.useState(!1),[b,v]=h.useState(null);h.useEffect(()=>{g()},[e,r]);const g=async()=>{p(!0),v(null);try{if(!n)throw new Error("Database connection not available");const{data:j,error:k}=await n.from("users").select("*").eq("id",e).single();if(k)throw k;if(!j)throw new Error("User not found");i(j);const{data:N,error:E}=await n.from("kyc_records").select("*").eq("user_id",e).order("completed_at",{ascending:!1}).limit(1).single();if(E&&E.code!=="PGRST116")throw E;N&&l(N);const{data:_,error:P}=await n.from("sessions").select("*").eq("user_id",e).order("started_at",{ascending:!1}).limit(5);if(P)throw P;u(_||[]);const A=[];j.created_at&&A.push({id:`user-registration-${j.id}`,type:"newUser",title:"Joined OMA",description:`${j.first_name||"User"} registered with phone number ${j.phone_number}`,timestamp:j.created_at}),j.kyc_completed&&j.kyc_completed_at&&A.push({id:`kyc-completion-${j.id}`,type:"completed",title:"Completed KYC",description:`${j.first_name||"User"} completed Know Your Customer verification`,timestamp:j.kyc_completed_at}),_&&_.forEach(T=>{A.push({id:`session-${T.id}`,type:"session",title:`${T.status==="active"?"Active Session":"Session History"}`,description:`Session ${T.status==="active"?"started":"ended"} ${T.started_at?rt(new Date(T.started_at),"MMM d, yyyy"):""}`,timestamp:T.started_at,link:{url:`/chat/${T.id}`,text:"View conversation"}})}),A.sort((T,S)=>new Date(S.timestamp)-new Date(T.timestamp)),f(A)}catch(j){console.error("Error fetching user data:",j),v(`Failed to load user data: ${j.message}`)}finally{p(!1)}},y=async()=>{w(!0),await nw(n,e,t),w(!1)};return m?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):b?o.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-md",children:[o.jsx("p",{children:b}),o.jsx("button",{onClick:g,className:"mt-2 btn btn-primary",children:"Try Again"})]}):o.jsxs(ie.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[o.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[o.jsxs(_e,{to:"/users",className:"inline-flex items-center text-primary-600 hover:text-primary-800",children:[o.jsx(Fr,{className:"h-4 w-4 mr-1"}),"Back to Users"]}),o.jsxs("button",{onClick:y,disabled:m||x,className:"btn btn-primary flex items-center",children:[x?o.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-t-2 border-b-2 border-white rounded-full"}):o.jsx(ih,{className:"h-4 w-4 mr-2"}),"Start Chat"]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex flex-col items-center pb-6",children:[o.jsx("div",{className:"h-24 w-24 rounded-full bg-gray-100 flex items-center justify-center mb-4 border-4 border-white shadow-md",children:o.jsx(Wl,{className:"h-20 w-20 text-gray-400"})}),o.jsxs("h2",{className:"text-xl font-semibold",children:[(s==null?void 0:s.first_name)||"User"," ",(a==null?void 0:a.name)&&(s==null?void 0:s.first_name)!==(a==null?void 0:a.name)&&`(${a.name})`]}),o.jsxs("div",{className:"text-sm text-gray-500 mt-1 flex items-center",children:[o.jsx(oa,{className:"h-4 w-4 mr-1"}),(s==null?void 0:s.phone_number)||"No phone number"]}),(s==null?void 0:s.kyc_completed)&&o.jsxs("div",{className:"mt-2 inline-flex items-center rounded-full bg-green-50 px-2.5 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20",children:[o.jsx(zs,{className:"h-3 w-3 mr-1"}),"KYC Verified"]})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"User Information"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-start",children:[o.jsx(Os,{className:"h-5 w-5 text-gray-400 mr-2 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Gender"}),o.jsx("p",{className:"text-sm font-medium",children:(a==null?void 0:a.gender)||"Not provided"})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx(wa,{className:"h-5 w-5 text-gray-400 mr-2 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Age Range"}),o.jsx("p",{className:"text-sm font-medium",children:(a==null?void 0:a.age_range)||"Not provided"})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx(WP,{className:"h-5 w-5 text-gray-400 mr-2 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Location"}),o.jsx("p",{className:"text-sm font-medium",children:(a==null?void 0:a.location)||"Not provided"})]})]})]})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Account Information"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Joined"}),o.jsx("p",{className:"text-sm font-medium",children:s!=null&&s.created_at?rt(new Date(s.created_at),"MMMM d, yyyy"):"Unknown"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Last Active"}),o.jsx("p",{className:"text-sm font-medium",children:s!=null&&s.last_active?rt(new Date(s.last_active),"MMMM d, yyyy h:mm a"):"Unknown"})]}),(s==null?void 0:s.kyc_completed_at)&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"KYC Completed"}),o.jsx("p",{className:"text-sm font-medium",children:rt(new Date(s.kyc_completed_at),"MMMM d, yyyy")})]})]})]}),c.length>0&&o.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Recent Sessions"}),o.jsx("div",{className:"space-y-2",children:c.map(j=>o.jsxs(_e,{to:`/chat/${j.id}`,className:"flex items-center p-2 rounded-md hover:bg-gray-50 transition-colors",children:[o.jsx(ia,{className:"h-5 w-5 text-gray-400 mr-2"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium",children:j.status==="active"?"Active Session":"Past Session"}),o.jsx("p",{className:"text-xs text-gray-500",children:j.started_at?rt(new Date(j.started_at),"MMM d, yyyy h:mm a"):"Unknown"})]})]},j.id))})]})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsx(lh,{activities:d,loading:!1,title:"User Activity",useMockupIfEmpty:!1,initialLimit:10})})]})]})}function y3(){const{supabase:e}=$t(),t=Wt(),{isConnected:n}=nr(),[r,s]=h.useState([]),[i,a]=h.useState(!0),[l,c]=h.useState(null),[u,d]=h.useState(""),[f,m]=h.useState(null);h.useEffect(()=>{p()},[n]);const p=async()=>{a(!0),c(null);try{if(!e)throw new Error("Database connection not available");const{data:b,error:v}=await e.from("users").select("*").order("created_at",{ascending:!1});if(v)throw v;s(b||[])}catch(b){console.error("Error fetching users:",b),c(`Failed to load users: ${b.message}`)}finally{a(!1)}},x=r.filter(b=>{var g,y;const v=u.toLowerCase();return(((g=b.first_name)==null?void 0:g.toLowerCase())||"").includes(v)||(((y=b.phone_number)==null?void 0:y.toLowerCase())||"").includes(v)}),w=async b=>{m(b),await nw(e,b,t),m(null)};return o.jsxs(ie.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Users"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage and view all users of the platform"})]}),o.jsxs("button",{onClick:p,disabled:i,className:"flex items-center btn btn-secondary",children:[o.jsx(Bl,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),"Refresh"]})]}),l&&o.jsx("div",{className:"p-4 bg-red-50 text-red-700 rounded-md mb-6",children:o.jsx("p",{children:l})}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(BP,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:"text",className:"pl-10 block w-full rounded-md border-0 py-2.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary-600 sm:text-sm",placeholder:"Search users by name or phone number",value:u,onChange:b=>d(b.target.value)})]})}),i?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):o.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone Number"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"KYC Status"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Active"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-sm text-gray-500",children:u?"No users matching your search":"No users found"})}):x.map(b=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs(_e,{to:`/users/${b.id}`,className:"flex items-center group",children:[o.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-100 flex items-center justify-center mr-3 border border-gray-200 overflow-hidden",children:o.jsx(Wl,{className:"h-8 w-8 text-gray-400"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-primary-600",children:b.first_name||"Unknown User"}),o.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",b.id.slice(0,8),"..."]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[o.jsx(oa,{className:"h-4 w-4 mr-1 text-gray-400"}),b.phone_number||"N/A"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b.created_at?rt(new Date(b.created_at),"MMM d, yyyy"):"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.kyc_completed?o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[o.jsx(zs,{className:"h-3 w-3 mr-1"}),"Verified"]}):o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Incomplete"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b.last_active?rt(new Date(b.last_active),"MMM d, yyyy h:mm a"):"Never"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("button",{onClick:()=>w(b.id),disabled:f===b.id,className:"btn btn-sm btn-primary flex items-center",children:[f===b.id?o.jsx("div",{className:"animate-spin h-3 w-3 mr-1 border-t-2 border-b-2 border-white rounded-full"}):o.jsx(ih,{className:"h-3 w-3 mr-1"}),"Chat"]})})]},b.id))})]})})})]})}function v3(){const[e,t]=h.useState(""),[n,r]=h.useState(""),[s,i]=h.useState(!1),{signIn:a,supabase:l}=$t(),c=Wt();h.useEffect(()=>{console.log("Login: Component mounted"),console.log("Login: VITE_SUPABASE_URL present:",!0),console.log("Login: VITE_SUPABASE_KEY present:",!0),console.log("Login: Supabase client initialized:",!!l)},[l]);const u=async d=>{if(d.preventDefault(),console.log("Login: Form submitted"),!e||!n){console.warn("Login: Missing email or password"),B.error("Please enter both email and password");return}console.log("Login: Attempting sign in with email:",e),i(!0);try{console.log("Login: Calling signIn function");const{data:f,error:m}=await a(e,n);m?(console.error("Login: Sign in error:",m.message),B.error(m.message||"Failed to sign in")):f!=null&&f.user?(console.log("Login: Sign in successful, user:",f.user.email),B.success("Signed in successfully"),c("/")):(console.warn("Login: No error but no user data returned"),B.error("No user data returned from authentication"))}catch(f){console.error("Login: Exception during sign in:",f),B.error("An unexpected error occurred")}finally{console.log("Login: Sign in attempt completed"),i(!1)}};return o.jsxs("div",{className:"flex min-h-screen flex-1 flex-col justify-center py-12 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[o.jsx("img",{className:"mx-auto h-12 w-auto",src:"/logo.svg",alt:"OMA Health Assistant"}),o.jsx("h2",{className:"mt-6 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Sign in to your account"}),!1,!1]}),o.jsx("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-[480px]",children:o.jsx("div",{className:"bg-white px-6 py-12 shadow sm:rounded-lg sm:px-12",children:o.jsxs("form",{className:"space-y-6",onSubmit:u,children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email address"}),o.jsx("div",{className:"mt-2",children:o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:d=>t(d.target.value),className:"block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary-600 sm:text-sm sm:leading-6"})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Password"}),o.jsx("div",{className:"mt-2",children:o.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:d=>r(d.target.value),className:"block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary-600 sm:text-sm sm:leading-6"})})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:s,className:"flex w-full justify-center rounded-md bg-primary-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-primary-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600 disabled:opacity-70 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign in"})})]})})})]})}var x3=Object.defineProperty,w3=(e,t,n)=>t in e?x3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kc=(e,t,n)=>(w3(e,typeof t!="symbol"?t+"":t,n),n);let b3=class{constructor(){Kc(this,"current",this.detect()),Kc(this,"handoffState","pending"),Kc(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},hn=new b3,Ue=(e,t)=>{hn.isServer?h.useEffect(e,t):h.useLayoutEffect(e,t)};function mn(e){let t=h.useRef(e);return Ue(()=>{t.current=e},[e]),t}let te=function(e){let t=mn(e);return ee.useCallback((...n)=>t.current(...n),[t])};function ql(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function zt(){let e=[],t={addEventListener(n,r,s,i){return n.addEventListener(r,s,i),t.add(()=>n.removeEventListener(r,s,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return ql(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=zt();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function ja(){let[e]=h.useState(zt);return h.useEffect(()=>()=>e.dispose(),[e]),e}function j3(){let e=typeof document>"u";return"useSyncExternalStore"in js?(t=>t.useSyncExternalStore)(js)(()=>()=>{},()=>!1,()=>!e):!1}function Ws(){let e=j3(),[t,n]=h.useState(hn.isHandoffComplete);return t&&hn.isHandoffComplete===!1&&n(!1),h.useEffect(()=>{t!==!0&&n(!0)},[t]),h.useEffect(()=>hn.handoff(),[]),e?!1:t}var d0;let _n=(d0=ee.useId)!=null?d0:function(){let e=Ws(),[t,n]=ee.useState(e?()=>hn.nextId():null);return Ue(()=>{t===null&&n(hn.nextId())},[t]),t!=null?""+t:void 0};function Ie(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ie),r}function Kl(e){return hn.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let kd=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var an=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(an||{}),rw=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(rw||{}),_3=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(_3||{});function sw(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(kd)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var ch=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ch||{});function uh(e,t=0){var n;return e===((n=Kl(e))==null?void 0:n.body)?!1:Ie(t,{0(){return e.matches(kd)},1(){let r=e;for(;r!==null;){if(r.matches(kd))return!0;r=r.parentElement}return!1}})}function iw(e){let t=Kl(e);zt().nextFrame(()=>{t&&!uh(t.activeElement,0)&&Zn(e)})}var k3=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(k3||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Zn(e){e==null||e.focus({preventScroll:!0})}let S3=["textarea","input"].join(",");function N3(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,S3))!=null?n:!1}function aw(e,t=n=>n){return e.slice().sort((n,r)=>{let s=t(n),i=t(r);if(s===null||i===null)return 0;let a=s.compareDocumentPosition(i);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function E3(e,t){return Ri(sw(),t,{relativeTo:e})}function Ri(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?aw(e):e:sw(e);s.length>0&&a.length>1&&(a=a.filter(p=>!s.includes(p))),r=r??i.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,f=a.length,m;do{if(d>=f||d+f<=0)return 0;let p=c+d;if(t&16)p=(p+f)%f;else{if(p<0)return 3;if(p>=f)return 1}m=a[p],m==null||m.focus(u),d+=l}while(m!==i.activeElement);return t&6&&N3(m)&&m.select(),2}function ow(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function C3(){return/Android/gi.test(window.navigator.userAgent)}function P3(){return ow()||C3()}function Za(e,t,n){let r=mn(t);h.useEffect(()=>{function s(i){r.current(i)}return document.addEventListener(e,s,n),()=>document.removeEventListener(e,s,n)},[e,n])}function lw(e,t,n){let r=mn(t);h.useEffect(()=>{function s(i){r.current(i)}return window.addEventListener(e,s,n),()=>window.removeEventListener(e,s,n)},[e,n])}function cw(e,t,n=!0){let r=h.useRef(!1);h.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function s(a,l){if(!r.current||a.defaultPrevented)return;let c=l(a);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e);for(let d of u){if(d===null)continue;let f=d instanceof HTMLElement?d:d.current;if(f!=null&&f.contains(c)||a.composed&&a.composedPath().includes(f))return}return!uh(c,ch.Loose)&&c.tabIndex!==-1&&a.preventDefault(),t(a,c)}let i=h.useRef(null);Za("pointerdown",a=>{var l,c;r.current&&(i.current=((c=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:c[0])||a.target)},!0),Za("mousedown",a=>{var l,c;r.current&&(i.current=((c=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:c[0])||a.target)},!0),Za("click",a=>{P3()||i.current&&(s(a,()=>i.current),i.current=null)},!0),Za("touchend",a=>s(a,()=>a.target instanceof HTMLElement?a.target:null),!0),lw("blur",a=>s(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Hs(...e){return h.useMemo(()=>Kl(...e),[...e])}function f0(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function T3(e,t){let[n,r]=h.useState(()=>f0(e));return Ue(()=>{r(f0(e))},[e.type,e.as]),Ue(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}let uw=Symbol();function A3(e,t=!0){return Object.assign(e,{[uw]:t})}function ot(...e){let t=h.useRef(e);h.useEffect(()=>{t.current=e},[e]);let n=te(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||(r==null?void 0:r[uw]))?void 0:n}function h0(e){return[e.screenX,e.screenY]}function D3(){let e=h.useRef([-1,-1]);return{wasMoved(t){let n=h0(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=h0(t)}}}function $3({container:e,accept:t,walk:n,enabled:r=!0}){let s=h.useRef(t),i=h.useRef(n);h.useEffect(()=>{s.current=t,i.current=n},[t,n]),Ue(()=>{if(!e||!r)return;let a=Kl(e);if(!a)return;let l=s.current,c=i.current,u=Object.assign(f=>l(f),{acceptNode:l}),d=a.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)c(d.currentNode)},[e,r,s,i])}function dh(e,t){let n=h.useRef([]),r=te(e);h.useEffect(()=>{let s=[...n.current];for(let[i,a]of t.entries())if(n.current[i]!==a){let l=r(t,s);return n.current=t,l}},[r,...t])}function il(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var Rs=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Rs||{}),Bn=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Bn||{});function Ze({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:i=!0,name:a,mergeRefs:l}){l=l??O3;let c=dw(t,e);if(i)return eo(c,n,r,a,l);let u=s??0;if(u&2){let{static:d=!1,...f}=c;if(d)return eo(f,n,r,a,l)}if(u&1){let{unmount:d=!0,...f}=c;return Ie(d?0:1,{0(){return null},1(){return eo({...f,hidden:!0,style:{display:"none"}},n,r,a,l)}})}return eo(c,n,r,a,l)}function eo(e,t={},n,r,s){let{as:i=n,children:a,refName:l="ref",...c}=Yc(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},d=typeof a=="function"?a(t):a;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t));let f={};if(t){let m=!1,p=[];for(let[x,w]of Object.entries(t))typeof w=="boolean"&&(m=!0),w===!0&&p.push(x);m&&(f["data-headlessui-state"]=p.join(" "))}if(i===h.Fragment&&Object.keys(m0(c)).length>0){if(!h.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(w=>`  - ${w}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(w=>`  - ${w}`).join(`
`)].join(`
`));let m=d.props,p=typeof(m==null?void 0:m.className)=="function"?(...w)=>il(m==null?void 0:m.className(...w),c.className):il(m==null?void 0:m.className,c.className),x=p?{className:p}:{};return h.cloneElement(d,Object.assign({},dw(d.props,m0(Yc(c,["ref"]))),f,u,{ref:s(d.ref,u.ref)},x))}return h.createElement(i,Object.assign({},Yc(c,["ref"]),i!==h.Fragment&&u,i!==h.Fragment&&f),d)}function O3(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function dw(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](s,...i){let a=n[r];for(let l of a){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;l(s,...i)}}});return t}function He(e){var t;return Object.assign(h.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function m0(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Yc(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let R3="div";var al=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(al||{});function M3(e,t){var n;let{features:r=1,...s}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Ze({ourProps:i,theirProps:s,slot:{},defaultTag:R3,name:"Hidden"})}let Sd=He(M3),fh=h.createContext(null);fh.displayName="OpenClosedContext";var Be=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Be||{});function Yl(){return h.useContext(fh)}function fw({value:e,children:t}){return ee.createElement(fh.Provider,{value:e},t)}function L3(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let In=[];L3(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&In[0]!==t.target&&(In.unshift(t.target),In=In.filter(n=>n!=null&&n.isConnected),In.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function hw(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&I3(n)?!1:r}function I3(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function F3(e){throw new Error("Unexpected object: "+e)}var Ft=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(Ft||{});function U3(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),s=r??-1;switch(e.focus){case 0:{for(let i=0;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 1:{for(let i=s-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 2:{for(let i=s+1;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 3:{for(let i=n.length-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 4:{for(let i=0;i<n.length;++i)if(t.resolveId(n[i],i,n)===e.id)return i;return r}case 5:return null;default:F3(e)}}var Me=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Me||{});function mw(e,t,n,r){let s=mn(n);h.useEffect(()=>{e=e??window;function i(a){s.current(a)}return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)},[e,t,r])}function _a(){let e=h.useRef(!1);return Ue(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function pw(e){let t=te(e),n=h.useRef(!1);h.useEffect(()=>(n.current=!1,()=>{n.current=!0,ql(()=>{n.current&&t()})}),[t])}var yi=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(yi||{});function V3(){let e=h.useRef(0);return lw("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function gw(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let B3="div";var yw=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(yw||{});function z3(e,t){let n=h.useRef(null),r=ot(n,t),{initialFocus:s,containers:i,features:a=30,...l}=e;Ws()||(a=1);let c=Hs(n);q3({ownerDocument:c},!!(a&16));let u=K3({ownerDocument:c,container:n,initialFocus:s},!!(a&2));Y3({ownerDocument:c,container:n,containers:i,previousActiveElement:u},!!(a&8));let d=V3(),f=te(w=>{let b=n.current;b&&(v=>v())(()=>{Ie(d.current,{[yi.Forwards]:()=>{Ri(b,an.First,{skipElements:[w.relatedTarget]})},[yi.Backwards]:()=>{Ri(b,an.Last,{skipElements:[w.relatedTarget]})}})})}),m=ja(),p=h.useRef(!1),x={ref:r,onKeyDown(w){w.key=="Tab"&&(p.current=!0,m.requestAnimationFrame(()=>{p.current=!1}))},onBlur(w){let b=gw(i);n.current instanceof HTMLElement&&b.add(n.current);let v=w.relatedTarget;v instanceof HTMLElement&&v.dataset.headlessuiFocusGuard!=="true"&&(vw(b,v)||(p.current?Ri(n.current,Ie(d.current,{[yi.Forwards]:()=>an.Next,[yi.Backwards]:()=>an.Previous})|an.WrapAround,{relativeTo:w.target}):w.target instanceof HTMLElement&&Zn(w.target)))}};return ee.createElement(ee.Fragment,null,!!(a&4)&&ee.createElement(Sd,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:al.Focusable}),Ze({ourProps:x,theirProps:l,defaultTag:B3,name:"FocusTrap"}),!!(a&4)&&ee.createElement(Sd,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:al.Focusable}))}let W3=He(z3),ai=Object.assign(W3,{features:yw});function H3(e=!0){let t=h.useRef(In.slice());return dh(([n],[r])=>{r===!0&&n===!1&&ql(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=In.slice())},[e,In,t]),te(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function q3({ownerDocument:e},t){let n=H3(t);dh(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Zn(n())},[t]),pw(()=>{t&&Zn(n())})}function K3({ownerDocument:e,container:t,initialFocus:n},r){let s=h.useRef(null),i=_a();return dh(()=>{if(!r)return;let a=t.current;a&&ql(()=>{if(!i.current)return;let l=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===l){s.current=l;return}}else if(a.contains(l)){s.current=l;return}n!=null&&n.current?Zn(n.current):Ri(a,an.First)===rw.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.current=e==null?void 0:e.activeElement})},[r]),s}function Y3({ownerDocument:e,container:t,containers:n,previousActiveElement:r},s){let i=_a();mw(e==null?void 0:e.defaultView,"focus",a=>{if(!s||!i.current)return;let l=gw(n);t.current instanceof HTMLElement&&l.add(t.current);let c=r.current;if(!c)return;let u=a.target;u&&u instanceof HTMLElement?vw(l,u)?(r.current=u,Zn(u)):(a.preventDefault(),a.stopPropagation(),Zn(c)):Zn(r.current)},!0)}function vw(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let xw=h.createContext(!1);function G3(){return h.useContext(xw)}function Nd(e){return ee.createElement(xw.Provider,{value:e.force},e.children)}function J3(e){let t=G3(),n=h.useContext(ww),r=Hs(e),[s,i]=h.useState(()=>{if(!t&&n!==null||hn.isServer)return null;let a=r==null?void 0:r.getElementById("headlessui-portal-root");if(a)return a;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return h.useEffect(()=>{s!==null&&(r!=null&&r.body.contains(s)||r==null||r.body.appendChild(s))},[s,r]),h.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),s}let Q3=h.Fragment;function X3(e,t){let n=e,r=h.useRef(null),s=ot(A3(d=>{r.current=d}),t),i=Hs(r),a=J3(r),[l]=h.useState(()=>{var d;return hn.isServer?null:(d=i==null?void 0:i.createElement("div"))!=null?d:null}),c=h.useContext(Ed),u=Ws();return Ue(()=>{!a||!l||a.contains(l)||(l.setAttribute("data-headlessui-portal",""),a.appendChild(l))},[a,l]),Ue(()=>{if(l&&c)return c.register(l)},[c,l]),pw(()=>{var d;!a||!l||(l instanceof Node&&a.contains(l)&&a.removeChild(l),a.childNodes.length<=0&&((d=a.parentElement)==null||d.removeChild(a)))}),u?!a||!l?null:Ry.createPortal(Ze({ourProps:{ref:s},theirProps:n,defaultTag:Q3,name:"Portal"}),l):null}let Z3=h.Fragment,ww=h.createContext(null);function e4(e,t){let{target:n,...r}=e,s={ref:ot(t)};return ee.createElement(ww.Provider,{value:n},Ze({ourProps:s,theirProps:r,defaultTag:Z3,name:"Popover.Group"}))}let Ed=h.createContext(null);function t4(){let e=h.useContext(Ed),t=h.useRef([]),n=te(i=>(t.current.push(i),e&&e.register(i),()=>r(i))),r=te(i=>{let a=t.current.indexOf(i);a!==-1&&t.current.splice(a,1),e&&e.unregister(i)}),s=h.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,h.useMemo(()=>function({children:i}){return ee.createElement(Ed.Provider,{value:s},i)},[s])]}let n4=He(X3),r4=He(e4),Cd=Object.assign(n4,{Group:r4});function s4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const i4=typeof Object.is=="function"?Object.is:s4,{useState:a4,useEffect:o4,useLayoutEffect:l4,useDebugValue:c4}=js;function u4(e,t,n){const r=t(),[{inst:s},i]=a4({inst:{value:r,getSnapshot:t}});return l4(()=>{s.value=r,s.getSnapshot=t,Gc(s)&&i({inst:s})},[e,r,t]),o4(()=>(Gc(s)&&i({inst:s}),e(()=>{Gc(s)&&i({inst:s})})),[e]),c4(r),r}function Gc(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!i4(n,r)}catch{return!0}}function d4(e,t,n){return t()}const f4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",h4=!f4,m4=h4?d4:u4,p4="useSyncExternalStore"in js?(e=>e.useSyncExternalStore)(js):m4;function g4(e){return p4(e.subscribe,e.getSnapshot,e.getSnapshot)}function y4(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...i){let a=t[s].call(n,...i);a&&(n=a,r.forEach(l=>l()))}}}function v4(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,s=r.clientWidth-r.offsetWidth,i=e-s;n.style(r,"paddingRight",`${i}px`)}}}function x4(){return ow()?{before({doc:e,d:t,meta:n}){function r(s){return n.containers.flatMap(i=>i()).some(i=>i.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=zt();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,a=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=e.querySelector(u);d&&!r(d)&&(a=d)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let c=l.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;i!==c&&window.scrollTo(0,i),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function w4(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function b4(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Tr=y4(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:zt(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:b4(n)},s=[x4(),v4(),w4()];s.forEach(({before:i})=>i==null?void 0:i(r)),s.forEach(({after:i})=>i==null?void 0:i(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Tr.subscribe(()=>{let e=Tr.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&Tr.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Tr.dispatch("TEARDOWN",n)}});function j4(e,t,n){let r=g4(Tr),s=e?r.get(e):void 0,i=s?s.count>0:!1;return Ue(()=>{if(!(!e||!t))return Tr.dispatch("PUSH",e,n),()=>Tr.dispatch("POP",e,n)},[t,e]),i}let Jc=new Map,oi=new Map;function p0(e,t=!0){Ue(()=>{var n;if(!t)return;let r=typeof e=="function"?e():e.current;if(!r)return;function s(){var a;if(!r)return;let l=(a=oi.get(r))!=null?a:1;if(l===1?oi.delete(r):oi.set(r,l-1),l!==1)return;let c=Jc.get(r);c&&(c["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",c["aria-hidden"]),r.inert=c.inert,Jc.delete(r))}let i=(n=oi.get(r))!=null?n:0;return oi.set(r,i+1),i!==0||(Jc.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),s},[e,t])}function _4({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var r;let s=h.useRef((r=n==null?void 0:n.current)!=null?r:null),i=Hs(s),a=te(()=>{var l,c,u;let d=[];for(let f of e)f!==null&&(f instanceof HTMLElement?d.push(f):"current"in f&&f.current instanceof HTMLElement&&d.push(f.current));if(t!=null&&t.current)for(let f of t.current)d.push(f);for(let f of(l=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?l:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(f.contains(s.current)||f.contains((u=(c=s.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(m=>f.contains(m))||d.push(f));return d});return{resolveContainers:a,contains:te(l=>a().some(c=>c.contains(l))),mainTreeNodeRef:s,MainTreeNode:h.useMemo(()=>function(){return n!=null?null:ee.createElement(Sd,{features:al.Hidden,ref:s})},[s,n])}}let hh=h.createContext(()=>{});hh.displayName="StackContext";var Pd=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Pd||{});function k4(){return h.useContext(hh)}function S4({children:e,onUpdate:t,type:n,element:r,enabled:s}){let i=k4(),a=te((...l)=>{t==null||t(...l),i(...l)});return Ue(()=>{let l=s===void 0||s===!0;return l&&a(0,n,r),()=>{l&&a(1,n,r)}},[a,n,r,s]),ee.createElement(hh.Provider,{value:a},e)}let bw=h.createContext(null);function jw(){let e=h.useContext(bw);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,jw),t}return e}function N4(){let[e,t]=h.useState([]);return[e.length>0?e.join(" "):void 0,h.useMemo(()=>function(n){let r=te(i=>(t(a=>[...a,i]),()=>t(a=>{let l=a.slice(),c=l.indexOf(i);return c!==-1&&l.splice(c,1),l}))),s=h.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return ee.createElement(bw.Provider,{value:s},n.children)},[t])]}let E4="p";function C4(e,t){let n=_n(),{id:r=`headlessui-description-${n}`,...s}=e,i=jw(),a=ot(t);Ue(()=>i.register(r),[r,i.register]);let l={ref:a,...i.props,id:r};return Ze({ourProps:l,theirProps:s,slot:i.slot||{},defaultTag:E4,name:i.name||"Description"})}let P4=He(C4),T4=Object.assign(P4,{});var A4=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(A4||{}),D4=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(D4||{});let $4={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},ol=h.createContext(null);ol.displayName="DialogContext";function ka(e){let t=h.useContext(ol);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ka),n}return t}function O4(e,t,n=()=>[document.body]){j4(e,t,r=>{var s;return{containers:[...(s=r.containers)!=null?s:[],n]}})}function R4(e,t){return Ie(t.type,$4,e,t)}let M4="div",L4=Rs.RenderStrategy|Rs.Static;function I4(e,t){let n=_n(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:i,initialFocus:a,role:l="dialog",__demoMode:c=!1,...u}=e,[d,f]=h.useState(0),m=h.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(m.current||(m.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=Yl();s===void 0&&p!==null&&(s=(p&Be.Open)===Be.Open);let x=h.useRef(null),w=ot(x,t),b=Hs(x),v=e.hasOwnProperty("open")||p!==null,g=e.hasOwnProperty("onClose");if(!v&&!g)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!v)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!g)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof s!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${s}`);if(typeof i!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${i}`);let y=s?0:1,[j,k]=h.useReducer(R4,{titleId:null,descriptionId:null,panelRef:h.createRef()}),N=te(()=>i(!1)),E=te(Q=>k({type:0,id:Q})),_=Ws()?c?!1:y===0:!1,P=d>1,A=h.useContext(ol)!==null,[T,S]=t4(),C={get current(){var Q;return(Q=j.panelRef.current)!=null?Q:x.current}},{resolveContainers:O,mainTreeNodeRef:V,MainTreeNode:W}=_4({portals:T,defaultContainers:[C]}),J=P?"parent":"leaf",D=p!==null?(p&Be.Closing)===Be.Closing:!1,M=A||D?!1:_,L=h.useCallback(()=>{var Q,he;return(he=Array.from((Q=b==null?void 0:b.querySelectorAll("body > *"))!=null?Q:[]).find(Y=>Y.id==="headlessui-portal-root"?!1:Y.contains(V.current)&&Y instanceof HTMLElement))!=null?he:null},[V]);p0(L,M);let I=P?!0:_,H=h.useCallback(()=>{var Q,he;return(he=Array.from((Q=b==null?void 0:b.querySelectorAll("[data-headlessui-portal]"))!=null?Q:[]).find(Y=>Y.contains(V.current)&&Y instanceof HTMLElement))!=null?he:null},[V]);p0(H,I),cw(O,Q=>{Q.preventDefault(),N()},!(!_||P));let z=!(P||y!==0);mw(b==null?void 0:b.defaultView,"keydown",Q=>{z&&(Q.defaultPrevented||Q.key===Me.Escape&&(Q.preventDefault(),Q.stopPropagation(),N()))}),O4(b,!(D||y!==0||A),O),h.useEffect(()=>{if(y!==0||!x.current)return;let Q=new ResizeObserver(he=>{for(let Y of he){let oe=Y.target.getBoundingClientRect();oe.x===0&&oe.y===0&&oe.width===0&&oe.height===0&&N()}});return Q.observe(x.current),()=>Q.disconnect()},[y,x,N]);let[K,q]=N4(),re=h.useMemo(()=>[{dialogState:y,close:N,setTitleId:E},j],[y,j,N,E]),ce=h.useMemo(()=>({open:y===0}),[y]),X={ref:w,id:r,role:l,"aria-modal":y===0?!0:void 0,"aria-labelledby":j.titleId,"aria-describedby":K};return ee.createElement(S4,{type:"Dialog",enabled:y===0,element:x,onUpdate:te((Q,he)=>{he==="Dialog"&&Ie(Q,{[Pd.Add]:()=>f(Y=>Y+1),[Pd.Remove]:()=>f(Y=>Y-1)})})},ee.createElement(Nd,{force:!0},ee.createElement(Cd,null,ee.createElement(ol.Provider,{value:re},ee.createElement(Cd.Group,{target:x},ee.createElement(Nd,{force:!1},ee.createElement(q,{slot:ce,name:"Dialog.Description"},ee.createElement(ai,{initialFocus:a,containers:O,features:_?Ie(J,{parent:ai.features.RestoreFocus,leaf:ai.features.All&~ai.features.FocusLock}):ai.features.None},ee.createElement(S,null,Ze({ourProps:X,theirProps:u,slot:ce,defaultTag:M4,features:L4,visible:y===0,name:"Dialog"}))))))))),ee.createElement(W,null))}let F4="div";function U4(e,t){let n=_n(),{id:r=`headlessui-dialog-overlay-${n}`,...s}=e,[{dialogState:i,close:a}]=ka("Dialog.Overlay"),l=ot(t),c=te(d=>{if(d.target===d.currentTarget){if(hw(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),a()}}),u=h.useMemo(()=>({open:i===0}),[i]);return Ze({ourProps:{ref:l,id:r,"aria-hidden":!0,onClick:c},theirProps:s,slot:u,defaultTag:F4,name:"Dialog.Overlay"})}let V4="div";function B4(e,t){let n=_n(),{id:r=`headlessui-dialog-backdrop-${n}`,...s}=e,[{dialogState:i},a]=ka("Dialog.Backdrop"),l=ot(t);h.useEffect(()=>{if(a.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[a.panelRef]);let c=h.useMemo(()=>({open:i===0}),[i]);return ee.createElement(Nd,{force:!0},ee.createElement(Cd,null,Ze({ourProps:{ref:l,id:r,"aria-hidden":!0},theirProps:s,slot:c,defaultTag:V4,name:"Dialog.Backdrop"})))}let z4="div";function W4(e,t){let n=_n(),{id:r=`headlessui-dialog-panel-${n}`,...s}=e,[{dialogState:i},a]=ka("Dialog.Panel"),l=ot(t,a.panelRef),c=h.useMemo(()=>({open:i===0}),[i]),u=te(d=>{d.stopPropagation()});return Ze({ourProps:{ref:l,id:r,onClick:u},theirProps:s,slot:c,defaultTag:z4,name:"Dialog.Panel"})}let H4="h2";function q4(e,t){let n=_n(),{id:r=`headlessui-dialog-title-${n}`,...s}=e,[{dialogState:i,setTitleId:a}]=ka("Dialog.Title"),l=ot(t);h.useEffect(()=>(a(r),()=>a(null)),[r,a]);let c=h.useMemo(()=>({open:i===0}),[i]);return Ze({ourProps:{ref:l,id:r},theirProps:s,slot:c,defaultTag:H4,name:"Dialog.Title"})}let K4=He(I4),Y4=He(B4),G4=He(W4),J4=He(U4),Q4=He(q4),g0=Object.assign(K4,{Backdrop:Y4,Panel:G4,Overlay:J4,Title:Q4,Description:T4}),y0=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function v0(e){var t,n;let r=(t=e.innerText)!=null?t:"",s=e.cloneNode(!0);if(!(s instanceof HTMLElement))return r;let i=!1;for(let l of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),i=!0;let a=i?(n=s.innerText)!=null?n:"":r;return y0.test(a)&&(a=a.replace(y0,"")),a}function X4(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(s=>{let i=document.getElementById(s);if(i){let a=i.getAttribute("aria-label");return typeof a=="string"?a.trim():v0(i).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return v0(e).trim()}function Z4(e){let t=h.useRef(""),n=h.useRef("");return te(()=>{let r=e.current;if(!r)return"";let s=r.innerText;if(t.current===s)return n.current;let i=X4(r).trim().toLowerCase();return t.current=s,n.current=i,i})}var eA=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(eA||{}),tA=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(tA||{}),nA=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(nA||{});function Qc(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=aw(t(e.items.slice()),i=>i.dataRef.current.domRef.current),s=n?r.indexOf(n):null;return s===-1&&(s=null),{items:r,activeItemIndex:s}}let rA={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,t)=>{var n;let r=Qc(e),s=U3(t,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeItemIndex:s,activationTrigger:(n=t.trigger)!=null?n:1}},3:(e,t)=>{let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),s=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(a=>{var l;return((l=a.dataRef.current.textValue)==null?void 0:l.startsWith(r))&&!a.dataRef.current.disabled}),i=s?e.items.indexOf(s):-1;return i===-1||i===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:i,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let n=Qc(e,r=>[...r,{id:t.id,dataRef:t.dataRef}]);return{...e,...n}},6:(e,t)=>{let n=Qc(e,r=>{let s=r.findIndex(i=>i.id===t.id);return s!==-1&&r.splice(s,1),r});return{...e,...n,activationTrigger:1}}},mh=h.createContext(null);mh.displayName="MenuContext";function Gl(e){let t=h.useContext(mh);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Gl),n}return t}function sA(e,t){return Ie(t.type,rA,e,t)}let iA=h.Fragment;function aA(e,t){let{__demoMode:n=!1,...r}=e,s=h.useReducer(sA,{__demoMode:n,menuState:n?0:1,buttonRef:h.createRef(),itemsRef:h.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:i,itemsRef:a,buttonRef:l},c]=s,u=ot(t);cw([l,a],(p,x)=>{var w;c({type:1}),uh(x,ch.Loose)||(p.preventDefault(),(w=l.current)==null||w.focus())},i===0);let d=te(()=>{c({type:1})}),f=h.useMemo(()=>({open:i===0,close:d}),[i,d]),m={ref:u};return ee.createElement(mh.Provider,{value:s},ee.createElement(fw,{value:Ie(i,{0:Be.Open,1:Be.Closed})},Ze({ourProps:m,theirProps:r,slot:f,defaultTag:iA,name:"Menu"})))}let oA="button";function lA(e,t){var n;let r=_n(),{id:s=`headlessui-menu-button-${r}`,...i}=e,[a,l]=Gl("Menu.Button"),c=ot(a.buttonRef,t),u=ja(),d=te(w=>{switch(w.key){case Me.Space:case Me.Enter:case Me.ArrowDown:w.preventDefault(),w.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:Ft.First}));break;case Me.ArrowUp:w.preventDefault(),w.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:Ft.Last}));break}}),f=te(w=>{switch(w.key){case Me.Space:w.preventDefault();break}}),m=te(w=>{if(hw(w.currentTarget))return w.preventDefault();e.disabled||(a.menuState===0?(l({type:1}),u.nextFrame(()=>{var b;return(b=a.buttonRef.current)==null?void 0:b.focus({preventScroll:!0})})):(w.preventDefault(),l({type:0})))}),p=h.useMemo(()=>({open:a.menuState===0}),[a]),x={ref:c,id:s,type:T3(e,a.buttonRef),"aria-haspopup":"menu","aria-controls":(n=a.itemsRef.current)==null?void 0:n.id,"aria-expanded":a.menuState===0,onKeyDown:d,onKeyUp:f,onClick:m};return Ze({ourProps:x,theirProps:i,slot:p,defaultTag:oA,name:"Menu.Button"})}let cA="div",uA=Rs.RenderStrategy|Rs.Static;function dA(e,t){var n,r;let s=_n(),{id:i=`headlessui-menu-items-${s}`,...a}=e,[l,c]=Gl("Menu.Items"),u=ot(l.itemsRef,t),d=Hs(l.itemsRef),f=ja(),m=Yl(),p=m!==null?(m&Be.Open)===Be.Open:l.menuState===0;h.useEffect(()=>{let g=l.itemsRef.current;g&&l.menuState===0&&g!==(d==null?void 0:d.activeElement)&&g.focus({preventScroll:!0})},[l.menuState,l.itemsRef,d]),$3({container:l.itemsRef.current,enabled:l.menuState===0,accept(g){return g.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:g.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(g){g.setAttribute("role","none")}});let x=te(g=>{var y,j;switch(f.dispose(),g.key){case Me.Space:if(l.searchQuery!=="")return g.preventDefault(),g.stopPropagation(),c({type:3,value:g.key});case Me.Enter:if(g.preventDefault(),g.stopPropagation(),c({type:1}),l.activeItemIndex!==null){let{dataRef:k}=l.items[l.activeItemIndex];(j=(y=k.current)==null?void 0:y.domRef.current)==null||j.click()}iw(l.buttonRef.current);break;case Me.ArrowDown:return g.preventDefault(),g.stopPropagation(),c({type:2,focus:Ft.Next});case Me.ArrowUp:return g.preventDefault(),g.stopPropagation(),c({type:2,focus:Ft.Previous});case Me.Home:case Me.PageUp:return g.preventDefault(),g.stopPropagation(),c({type:2,focus:Ft.First});case Me.End:case Me.PageDown:return g.preventDefault(),g.stopPropagation(),c({type:2,focus:Ft.Last});case Me.Escape:g.preventDefault(),g.stopPropagation(),c({type:1}),zt().nextFrame(()=>{var k;return(k=l.buttonRef.current)==null?void 0:k.focus({preventScroll:!0})});break;case Me.Tab:g.preventDefault(),g.stopPropagation(),c({type:1}),zt().nextFrame(()=>{E3(l.buttonRef.current,g.shiftKey?an.Previous:an.Next)});break;default:g.key.length===1&&(c({type:3,value:g.key}),f.setTimeout(()=>c({type:4}),350));break}}),w=te(g=>{switch(g.key){case Me.Space:g.preventDefault();break}}),b=h.useMemo(()=>({open:l.menuState===0}),[l]),v={"aria-activedescendant":l.activeItemIndex===null||(n=l.items[l.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=l.buttonRef.current)==null?void 0:r.id,id:i,onKeyDown:x,onKeyUp:w,role:"menu",tabIndex:0,ref:u};return Ze({ourProps:v,theirProps:a,slot:b,defaultTag:cA,features:uA,visible:p,name:"Menu.Items"})}let fA=h.Fragment;function hA(e,t){let n=_n(),{id:r=`headlessui-menu-item-${n}`,disabled:s=!1,...i}=e,[a,l]=Gl("Menu.Item"),c=a.activeItemIndex!==null?a.items[a.activeItemIndex].id===r:!1,u=h.useRef(null),d=ot(t,u);Ue(()=>{if(a.__demoMode||a.menuState!==0||!c||a.activationTrigger===0)return;let k=zt();return k.requestAnimationFrame(()=>{var N,E;(E=(N=u.current)==null?void 0:N.scrollIntoView)==null||E.call(N,{block:"nearest"})}),k.dispose},[a.__demoMode,u,c,a.menuState,a.activationTrigger,a.activeItemIndex]);let f=Z4(u),m=h.useRef({disabled:s,domRef:u,get textValue(){return f()}});Ue(()=>{m.current.disabled=s},[m,s]),Ue(()=>(l({type:5,id:r,dataRef:m}),()=>l({type:6,id:r})),[m,r]);let p=te(()=>{l({type:1})}),x=te(k=>{if(s)return k.preventDefault();l({type:1}),iw(a.buttonRef.current)}),w=te(()=>{if(s)return l({type:2,focus:Ft.Nothing});l({type:2,focus:Ft.Specific,id:r})}),b=D3(),v=te(k=>b.update(k)),g=te(k=>{b.wasMoved(k)&&(s||c||l({type:2,focus:Ft.Specific,id:r,trigger:0}))}),y=te(k=>{b.wasMoved(k)&&(s||c&&l({type:2,focus:Ft.Nothing}))}),j=h.useMemo(()=>({active:c,disabled:s,close:p}),[c,s,p]);return Ze({ourProps:{id:r,ref:d,role:"menuitem",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,disabled:void 0,onClick:x,onFocus:w,onPointerEnter:v,onMouseEnter:v,onPointerMove:g,onMouseMove:g,onPointerLeave:y,onMouseLeave:y},theirProps:i,slot:j,defaultTag:fA,name:"Menu.Item"})}let mA=He(aA),pA=He(lA),gA=He(dA),yA=He(hA),to=Object.assign(mA,{Button:pA,Items:gA,Item:yA});function vA(e=0){let[t,n]=h.useState(e),r=_a(),s=h.useCallback(c=>{r.current&&n(u=>u|c)},[t,r]),i=h.useCallback(c=>!!(t&c),[t]),a=h.useCallback(c=>{r.current&&n(u=>u&~c)},[n,r]),l=h.useCallback(c=>{r.current&&n(u=>u^c)},[n]);return{flags:t,addFlag:s,hasFlag:i,removeFlag:a,toggleFlag:l}}function xA(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function Xc(e,...t){e&&t.length>0&&e.classList.add(...t)}function Zc(e,...t){e&&t.length>0&&e.classList.remove(...t)}function wA(e,t){let n=zt();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:s}=getComputedStyle(e),[i,a]=[r,s].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return u}),l=i+a;if(l!==0){n.group(u=>{u.setTimeout(()=>{t(),u.dispose()},l),u.addEventListener(e,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let c=n.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(t(),c())})}else t();return n.add(()=>t()),n.dispose}function bA(e,t,n,r){let s=n?"enter":"leave",i=zt(),a=r!==void 0?xA(r):()=>{};s==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let l=Ie(s,{enter:()=>t.enter,leave:()=>t.leave}),c=Ie(s,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=Ie(s,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Zc(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),Xc(e,...t.base,...l,...u),i.nextFrame(()=>{Zc(e,...t.base,...l,...u),Xc(e,...t.base,...l,...c),wA(e,()=>(Zc(e,...t.base,...l),Xc(e,...t.base,...t.entered),a()))}),i.dispose}function jA({immediate:e,container:t,direction:n,classes:r,onStart:s,onStop:i}){let a=_a(),l=ja(),c=mn(n);Ue(()=>{e&&(c.current="enter")},[e]),Ue(()=>{let u=zt();l.add(u.dispose);let d=t.current;if(d&&c.current!=="idle"&&a.current)return u.dispose(),s.current(c.current),u.add(bA(d,r.current,c.current==="enter",()=>{u.dispose(),i.current(c.current)})),u.dispose},[n])}function Nn(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let Jl=h.createContext(null);Jl.displayName="TransitionContext";var _A=(e=>(e.Visible="visible",e.Hidden="hidden",e))(_A||{});function kA(){let e=h.useContext(Jl);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function SA(){let e=h.useContext(Ql);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Ql=h.createContext(null);Ql.displayName="NestingContext";function Xl(e){return"children"in e?Xl(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function _w(e,t){let n=mn(e),r=h.useRef([]),s=_a(),i=ja(),a=te((p,x=Bn.Hidden)=>{let w=r.current.findIndex(({el:b})=>b===p);w!==-1&&(Ie(x,{[Bn.Unmount](){r.current.splice(w,1)},[Bn.Hidden](){r.current[w].state="hidden"}}),i.microTask(()=>{var b;!Xl(r)&&s.current&&((b=n.current)==null||b.call(n))}))}),l=te(p=>{let x=r.current.find(({el:w})=>w===p);return x?x.state!=="visible"&&(x.state="visible"):r.current.push({el:p,state:"visible"}),()=>a(p,Bn.Unmount)}),c=h.useRef([]),u=h.useRef(Promise.resolve()),d=h.useRef({enter:[],leave:[],idle:[]}),f=te((p,x,w)=>{c.current.splice(0),t&&(t.chains.current[x]=t.chains.current[x].filter(([b])=>b!==p)),t==null||t.chains.current[x].push([p,new Promise(b=>{c.current.push(b)})]),t==null||t.chains.current[x].push([p,new Promise(b=>{Promise.all(d.current[x].map(([v,g])=>g)).then(()=>b())})]),x==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>w(x)):w(x)}),m=te((p,x,w)=>{Promise.all(d.current[x].splice(0).map(([b,v])=>v)).then(()=>{var b;(b=c.current.shift())==null||b()}).then(()=>w(x))});return h.useMemo(()=>({children:r,register:l,unregister:a,onStart:f,onStop:m,wait:u,chains:d}),[l,a,r,f,m,d,u])}function NA(){}let EA=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function x0(e){var t;let n={};for(let r of EA)n[r]=(t=e[r])!=null?t:NA;return n}function CA(e){let t=h.useRef(x0(e));return h.useEffect(()=>{t.current=x0(e)},[e]),t}let PA="div",kw=Rs.RenderStrategy;function TA(e,t){var n,r;let{beforeEnter:s,afterEnter:i,beforeLeave:a,afterLeave:l,enter:c,enterFrom:u,enterTo:d,entered:f,leave:m,leaveFrom:p,leaveTo:x,...w}=e,b=h.useRef(null),v=ot(b,t),g=(n=w.unmount)==null||n?Bn.Unmount:Bn.Hidden,{show:y,appear:j,initial:k}=kA(),[N,E]=h.useState(y?"visible":"hidden"),_=SA(),{register:P,unregister:A}=_;h.useEffect(()=>P(b),[P,b]),h.useEffect(()=>{if(g===Bn.Hidden&&b.current){if(y&&N!=="visible"){E("visible");return}return Ie(N,{hidden:()=>A(b),visible:()=>P(b)})}},[N,b,P,A,y,g]);let T=mn({base:Nn(w.className),enter:Nn(c),enterFrom:Nn(u),enterTo:Nn(d),entered:Nn(f),leave:Nn(m),leaveFrom:Nn(p),leaveTo:Nn(x)}),S=CA({beforeEnter:s,afterEnter:i,beforeLeave:a,afterLeave:l}),C=Ws();h.useEffect(()=>{if(C&&N==="visible"&&b.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[b,N,C]);let O=k&&!j,V=j&&y&&k,W=!C||O?"idle":y?"enter":"leave",J=vA(0),D=te(z=>Ie(z,{enter:()=>{J.addFlag(Be.Opening),S.current.beforeEnter()},leave:()=>{J.addFlag(Be.Closing),S.current.beforeLeave()},idle:()=>{}})),M=te(z=>Ie(z,{enter:()=>{J.removeFlag(Be.Opening),S.current.afterEnter()},leave:()=>{J.removeFlag(Be.Closing),S.current.afterLeave()},idle:()=>{}})),L=_w(()=>{E("hidden"),A(b)},_),I=h.useRef(!1);jA({immediate:V,container:b,classes:T,direction:W,onStart:mn(z=>{I.current=!0,L.onStart(b,z,D)}),onStop:mn(z=>{I.current=!1,L.onStop(b,z,M),z==="leave"&&!Xl(L)&&(E("hidden"),A(b))})});let H=w,F={ref:v};return V?H={...H,className:il(w.className,...T.current.enter,...T.current.enterFrom)}:I.current&&(H.className=il(w.className,(r=b.current)==null?void 0:r.className),H.className===""&&delete H.className),ee.createElement(Ql.Provider,{value:L},ee.createElement(fw,{value:Ie(N,{visible:Be.Open,hidden:Be.Closed})|J.flags},Ze({ourProps:F,theirProps:H,defaultTag:PA,features:kw,visible:N==="visible",name:"Transition.Child"})))}function AA(e,t){let{show:n,appear:r=!1,unmount:s=!0,...i}=e,a=h.useRef(null),l=ot(a,t);Ws();let c=Yl();if(n===void 0&&c!==null&&(n=(c&Be.Open)===Be.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=h.useState(n?"visible":"hidden"),f=_w(()=>{d("hidden")}),[m,p]=h.useState(!0),x=h.useRef([n]);Ue(()=>{m!==!1&&x.current[x.current.length-1]!==n&&(x.current.push(n),p(!1))},[x,n]);let w=h.useMemo(()=>({show:n,appear:r,initial:m}),[n,r,m]);h.useEffect(()=>{if(n)d("visible");else if(!Xl(f))d("hidden");else{let y=a.current;if(!y)return;let j=y.getBoundingClientRect();j.x===0&&j.y===0&&j.width===0&&j.height===0&&d("hidden")}},[n,f]);let b={unmount:s},v=te(()=>{var y;m&&p(!1),(y=e.beforeEnter)==null||y.call(e)}),g=te(()=>{var y;m&&p(!1),(y=e.beforeLeave)==null||y.call(e)});return ee.createElement(Ql.Provider,{value:f},ee.createElement(Jl.Provider,{value:w},Ze({ourProps:{...b,as:h.Fragment,children:ee.createElement(Sw,{ref:l,...b,...i,beforeEnter:v,beforeLeave:g})},theirProps:{},defaultTag:h.Fragment,features:kw,visible:u==="visible",name:"Transition"})))}function DA(e,t){let n=h.useContext(Jl)!==null,r=Yl()!==null;return ee.createElement(ee.Fragment,null,!n&&r?ee.createElement(Td,{ref:t,...e}):ee.createElement(Sw,{ref:t,...e}))}let Td=He(AA),Sw=He(TA),$A=He(DA),li=Object.assign(Td,{Child:$A,Root:Td});const w0=[{name:"Dashboard",href:"/",icon:Jx},{name:"Escalations",href:"/escalations",icon:aa},{name:"KYC Dashboard",href:"/kyc",icon:TP},{name:"Users",href:"/users",icon:ah},{name:"Doctors",href:"/doctors",icon:Os},{name:"Bookings",href:"/bookings",icon:wa},{name:"Pharmacies",href:"/pharmacies",icon:Kx},{name:"Doctor Portal",href:"/doctor/login",icon:wd,external:!0}];function ci(...e){return e.filter(Boolean).join(" ")}function OA(){const[e,t]=h.useState(!1),{user:n,signOut:r}=$t(),s=Wt(),i=cr(),a=async()=>{const{error:l}=await r();l?B.error(`Error signing out: ${l.message}`):(B.success("Signed out successfully"),s("/login"))};return o.jsxs("div",{className:"h-screen flex",children:[o.jsx(li.Root,{show:e,as:h.Fragment,children:o.jsxs(g0,{as:"div",className:"relative z-50 lg:hidden",onClose:t,children:[o.jsx(li.Child,{as:h.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:o.jsx("div",{className:"fixed inset-0 bg-gray-900/80"})}),o.jsx("div",{className:"fixed inset-0 flex",children:o.jsx(li.Child,{as:h.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:o.jsxs(g0.Panel,{className:"relative mr-16 flex w-full max-w-xs flex-1",children:[o.jsx(li.Child,{as:h.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:o.jsx("div",{className:"absolute left-full top-0 flex w-16 justify-center pt-5",children:o.jsxs("button",{type:"button",className:"-m-2.5 p-2.5",onClick:()=>t(!1),children:[o.jsx("span",{className:"sr-only",children:"Close sidebar"}),o.jsx(oh,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})})}),o.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-white px-6 pb-4",children:[o.jsx("div",{className:"flex h-16 shrink-0 items-center",children:o.jsx("img",{className:"h-8 w-auto",src:"/logo.svg",alt:"OMA Health Assistant"})}),o.jsx("nav",{className:"flex flex-1 flex-col",children:o.jsx("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:o.jsx("li",{children:o.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:w0.map(l=>o.jsx("li",{children:o.jsxs(_e,{to:l.href,className:ci(i.pathname===l.href?"bg-gray-50 text-primary-600":l.external?"text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-50","group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold"),onClick:()=>t(!1),children:[o.jsx(l.icon,{className:ci(i.pathname===l.href?"text-primary-600":l.external?"text-indigo-500 group-hover:text-indigo-600":"text-gray-400 group-hover:text-primary-600","h-6 w-6 shrink-0"),"aria-hidden":"true"}),l.name,l.external&&o.jsx("span",{className:"ml-auto text-xs text-indigo-500",children:"→"})]})},l.name))})})})})]})]})})})]})}),o.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-72 lg:flex-col",children:o.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto border-r border-gray-200 bg-white px-6 pb-4",children:[o.jsx("div",{className:"flex h-16 shrink-0 items-center",children:o.jsx("img",{className:"h-8 w-auto",src:"/logo.svg",alt:"OMA Health Assistant"})}),o.jsx("nav",{className:"flex flex-1 flex-col",children:o.jsx("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:o.jsx("li",{children:o.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:w0.map(l=>o.jsx("li",{children:o.jsxs(_e,{to:l.href,className:ci(i.pathname===l.href?"bg-gray-50 text-primary-600":l.external?"text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-50","group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold"),children:[o.jsx(l.icon,{className:ci(i.pathname===l.href?"text-primary-600":l.external?"text-indigo-500 group-hover:text-indigo-600":"text-gray-400 group-hover:text-primary-600","h-6 w-6 shrink-0"),"aria-hidden":"true"}),l.name,l.external&&o.jsx("span",{className:"ml-auto text-xs text-indigo-500",children:"→"})]})},l.name))})})})})]})}),o.jsxs("div",{className:"lg:pl-72 flex flex-col flex-1",children:[o.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[o.jsxs("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:()=>t(!0),children:[o.jsx("span",{className:"sr-only",children:"Open sidebar"}),o.jsx(qx,{className:"h-6 w-6","aria-hidden":"true"})]}),o.jsx("div",{className:"h-6 w-px bg-gray-200 lg:hidden","aria-hidden":"true"}),o.jsx("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6 justify-end",children:o.jsx("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:o.jsxs(to,{as:"div",className:"relative",children:[o.jsxs(to.Button,{className:"-m-1.5 flex items-center p-1.5",children:[o.jsx("span",{className:"sr-only",children:"Open user menu"}),o.jsx(Wl,{className:"h-8 w-8 text-gray-400","aria-hidden":"true"}),o.jsx("span",{className:"hidden lg:flex lg:items-center",children:o.jsx("span",{className:"ml-4 text-sm font-semibold leading-6 text-gray-900","aria-hidden":"true",children:n==null?void 0:n.email})})]}),o.jsx(li,{as:h.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:o.jsx(to.Items,{className:"absolute right-0 z-10 mt-2.5 w-32 origin-top-right rounded-md bg-white py-2 shadow-lg ring-1 ring-gray-900/5 focus:outline-none",children:o.jsx(to.Item,{children:({active:l})=>o.jsx("button",{onClick:a,className:ci(l?"bg-gray-50":"","block w-full text-left px-3 py-1 text-sm leading-6 text-gray-900"),children:"Sign out"})})})})]})})})]}),o.jsx("main",{className:"py-6 px-4 sm:px-6 lg:px-8 flex-1 overflow-auto",children:o.jsx(H2,{})})]})]})}function RA({children:e}){const{user:t,loading:n}=$t();return n?o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):t?e:o.jsx(Tf,{to:"/login"})}function MA(){const{supabase:e}=$t(),[t,n]=h.useState([]),[r,s]=h.useState(!0),[i,a]=h.useState(!1),[l,c]=h.useState({name:"",phone_number:"",specialty:"",bio:"",experience_years:"",consultation_fee:"",location:""}),[u,d]=h.useState({});h.useEffect(()=>{f()},[]);const f=async()=>{try{s(!0);const{data:v,error:g}=await e.from("doctors").select("*").eq("is_active",!0).order("name");if(g)throw g;n(v||[])}catch(v){console.error("Error fetching doctors:",v),B.error("Failed to load doctors")}finally{s(!1)}},m=v=>{const{name:g,value:y}=v.target;c({...l,[g]:y}),u[g]&&d({...u,[g]:null})},p=()=>{const v={};return l.name.trim()||(v.name="Name is required"),l.phone_number.trim()?/^\+?[0-9]{10,15}$/.test(l.phone_number.trim())||(v.phone_number="Please enter a valid phone number"):v.phone_number="Phone number is required",l.specialty.trim()||(v.specialty="Specialty is required"),l.consultation_fee.trim()?(isNaN(l.consultation_fee)||parseFloat(l.consultation_fee)<=0)&&(v.consultation_fee="Please enter a valid fee amount"):v.consultation_fee="Consultation fee is required",l.experience_years&&(isNaN(l.experience_years)||parseInt(l.experience_years)<0)&&(v.experience_years="Please enter a valid number of years"),d(v),Object.keys(v).length===0},x=async v=>{if(v.preventDefault(),!!p())try{const g={...l,consultation_fee:parseFloat(l.consultation_fee),experience_years:l.experience_years?parseInt(l.experience_years):null},{data:y,error:j}=await e.from("doctors").insert([g]).select();if(j)throw j;n([...t,y[0]]),B.success("Doctor added successfully"),a(!1),b()}catch(g){console.error("Error adding doctor:",g),g.code==="23505"?d({...u,phone_number:"A doctor with this phone number already exists"}):B.error("Failed to add doctor")}},w=async(v,g)=>{if(confirm(`Are you sure you want to remove doctor ${g}?`))try{const{data:y,error:j}=await e.from("bookings").select("id").eq("doctor_id",v).in("status",["pending","confirmed"]).limit(1);if(j)throw j;if(y&&y.length>0){B.error("Cannot remove doctor with active bookings");return}const{error:k}=await e.from("doctors").update({is_active:!1}).eq("id",v);if(k)throw k;n(t.filter(N=>N.id!==v)),B.success("Doctor removed successfully")}catch(y){console.error("Error removing doctor:",y),B.error("Failed to remove doctor")}},b=()=>{c({name:"",phone_number:"",specialty:"",bio:"",experience_years:"",consultation_fee:"",location:""}),d({})};return o.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"sm:flex sm:items-center",children:[o.jsxs("div",{className:"sm:flex-auto",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Doctors"}),o.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"A list of all doctors available for consultations through the OMA Health Assistant."})]}),o.jsx("div",{className:"mt-4 sm:ml-16 sm:mt-0 sm:flex-none",children:o.jsxs("button",{type:"button",onClick:()=>a(!0),className:"inline-flex items-center rounded-md bg-primary-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600",children:[o.jsx(la,{className:"-ml-0.5 mr-1.5 h-5 w-5","aria-hidden":"true"}),"Add Doctor"]})})]}),r?o.jsx("div",{className:"mt-8 text-center",children:o.jsx("p",{className:"text-gray-500",children:"Loading doctors..."})}):o.jsx("div",{className:"mt-8 flow-root",children:o.jsx("div",{className:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:o.jsx("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:t.length===0?o.jsxs("div",{className:"text-center py-10 bg-white shadow overflow-hidden sm:rounded-lg",children:[o.jsx("p",{className:"text-gray-500",children:"No doctors found"}),o.jsxs("button",{type:"button",onClick:()=>a(!0),className:"mt-4 inline-flex items-center rounded-md bg-primary-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600",children:[o.jsx(la,{className:"-ml-0.5 mr-1.5 h-5 w-5","aria-hidden":"true"}),"Add your first doctor"]})]}):o.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Name"}),o.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Specialty"}),o.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Location"}),o.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Experience"}),o.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Fee"}),o.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Status"}),o.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:o.jsx("span",{className:"sr-only",children:"Actions"})})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(v=>o.jsxs("tr",{children:[o.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0",children:o.jsx(_e,{to:`/doctors/${v.id}`,className:"text-primary-600 hover:text-primary-900",children:v.name})}),o.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:v.specialty}),o.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:v.location||"Not specified"}),o.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:v.experience_years?`${v.experience_years} years`:"Not specified"}),o.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:`GH₵${v.consultation_fee}`}),o.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm",children:o.jsx("span",{className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ${v.availability_status==="available"?"bg-green-50 text-green-700 ring-1 ring-inset ring-green-600/20":v.availability_status==="busy"?"bg-yellow-50 text-yellow-700 ring-1 ring-inset ring-yellow-600/20":"bg-red-50 text-red-700 ring-1 ring-inset ring-red-600/20"}`,children:v.availability_status.charAt(0).toUpperCase()+v.availability_status.slice(1)})}),o.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0",children:o.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[o.jsxs(_e,{to:`/doctors/${v.id}`,className:"text-primary-600 hover:text-primary-900",children:[o.jsx(Qx,{className:"h-5 w-5","aria-hidden":"true"}),o.jsxs("span",{className:"sr-only",children:["Edit ",v.name]})]}),o.jsxs("button",{onClick:()=>w(v.id,v.name),className:"text-red-600 hover:text-red-900",children:[o.jsx(XP,{className:"h-5 w-5","aria-hidden":"true"}),o.jsxs("span",{className:"sr-only",children:["Delete ",v.name]})]})]})})]},v.id))})]})})})}),i&&o.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:o.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[o.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:()=>a(!1)}),o.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),o.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:o.jsxs("form",{onSubmit:x,children:[o.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:o.jsx("div",{className:"sm:flex sm:items-start",children:o.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[o.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:"Add New Doctor"}),o.jsxs("div",{className:"mt-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name *"}),o.jsx("input",{type:"text",name:"name",id:"name",value:l.name,onChange:m,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${u.name?"border-red-300":""}`,placeholder:"Dr. John Smith"}),u.name&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.name})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700",children:"WhatsApp Number *"}),o.jsx("input",{type:"text",name:"phone_number",id:"phone_number",value:l.phone_number,onChange:m,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${u.phone_number?"border-red-300":""}`,placeholder:"+233559123456"}),u.phone_number&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.phone_number})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"specialty",className:"block text-sm font-medium text-gray-700",children:"Specialty *"}),o.jsx("input",{type:"text",name:"specialty",id:"specialty",value:l.specialty,onChange:m,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${u.specialty?"border-red-300":""}`,placeholder:"General Medicine"}),u.specialty&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.specialty})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location"}),o.jsx("input",{type:"text",name:"location",id:"location",value:l.location,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Accra, Ghana"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"experience_years",className:"block text-sm font-medium text-gray-700",children:"Years of Experience"}),o.jsx("input",{type:"number",name:"experience_years",id:"experience_years",value:l.experience_years,onChange:m,min:"0",className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${u.experience_years?"border-red-300":""}`,placeholder:"10"}),u.experience_years&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.experience_years})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"consultation_fee",className:"block text-sm font-medium text-gray-700",children:"Consultation Fee (GH₵) *"}),o.jsx("input",{type:"number",name:"consultation_fee",id:"consultation_fee",value:l.consultation_fee,onChange:m,min:"0",step:"0.01",className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${u.consultation_fee?"border-red-300":""}`,placeholder:"100.00"}),u.consultation_fee&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.consultation_fee})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),o.jsx("textarea",{name:"bio",id:"bio",rows:"3",value:l.bio,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Brief description of the doctor's background and expertise"})]})]})]})})}),o.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[o.jsx("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm",children:"Add Doctor"}),o.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>a(!1),children:"Cancel"})]})]})})]})})]})}function LA(){const{doctorId:e}=Sl(),t=Wt(),{supabase:n}=$t(),[r,s]=h.useState(null),[i,a]=h.useState([]),[l,c]=h.useState(!0),[u,d]=h.useState(!1),[f,m]=h.useState({name:"",phone_number:"",specialty:"",bio:"",experience_years:"",consultation_fee:"",location:"",availability_status:"available"}),[p,x]=h.useState({}),[w,b]=h.useState([{day_of_week:0,enabled:!1,start_time:"09:00",end_time:"17:00"},{day_of_week:1,enabled:!0,start_time:"09:00",end_time:"17:00"},{day_of_week:2,enabled:!0,start_time:"09:00",end_time:"17:00"},{day_of_week:3,enabled:!0,start_time:"09:00",end_time:"17:00"},{day_of_week:4,enabled:!0,start_time:"09:00",end_time:"17:00"},{day_of_week:5,enabled:!1,start_time:"09:00",end_time:"12:00"},{day_of_week:6,enabled:!1,start_time:"09:00",end_time:"12:00"}]),[v,g]=h.useState(!1);h.useEffect(()=>{y()},[e]);const y=async()=>{var T,S;try{c(!0);const{data:C,error:O}=await n.from("doctors").select("*").eq("id",e).single();if(O)throw O;if(!C){B.error("Doctor not found"),t("/doctors");return}s(C),m({name:C.name||"",phone_number:C.phone_number||"",specialty:C.specialty||"",bio:C.bio||"",experience_years:((T=C.experience_years)==null?void 0:T.toString())||"",consultation_fee:((S=C.consultation_fee)==null?void 0:S.toString())||"",location:C.location||"",availability_status:C.availability_status||"available"});try{const{data:J,error:D}=await n.from("doctor_availability").select("*").eq("doctor_id",e).eq("is_active",!0);if(!D&&J){const M=new Map;for(const L of J)M.has(L.day_of_week)||M.set(L.day_of_week,L);b(L=>L.map(I=>{const H=M.get(I.day_of_week);return H?{day_of_week:I.day_of_week,enabled:!0,start_time:String(H.start_time).slice(0,5),end_time:String(H.end_time).slice(0,5)}:I}))}}catch{}const{data:V,error:W}=await n.from("bookings").select(`
          *,
          users (id, phone_number, first_name)
        `).eq("doctor_id",e).order("booking_date",{ascending:!1}).limit(5);if(W)throw W;a(V||[])}catch(C){console.error("Error fetching doctor data:",C),B.error("Failed to load doctor data")}finally{c(!1)}},j=T=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][T],k=(T,S,C)=>{b(O=>O.map((V,W)=>W===T?{...V,[S]:C}:V))},N=async()=>{if(r){g(!0);try{const{error:T}=await n.from("doctor_availability").delete().eq("doctor_id",r.id);if(T)throw T;const S=w.filter(C=>C.enabled).map(C=>({doctor_id:r.id,day_of_week:C.day_of_week,start_time:C.start_time+":00",end_time:C.end_time+":00",timezone:"Africa/Accra",is_active:!0}));if(S.length>0){const{error:C}=await n.from("doctor_availability").insert(S);if(C)throw C}B.success("Availability saved")}catch(T){console.error("Save availability error:",T),B.error("Failed to save availability")}finally{g(!1)}}},E=T=>{const{name:S,value:C}=T.target;m({...f,[S]:C}),p[S]&&x({...p,[S]:null})},_=()=>{const T={};return f.name.trim()||(T.name="Name is required"),f.phone_number.trim()?/^\+?[0-9]{10,15}$/.test(f.phone_number.trim())||(T.phone_number="Please enter a valid phone number"):T.phone_number="Phone number is required",f.specialty.trim()||(T.specialty="Specialty is required"),f.consultation_fee.trim()?(isNaN(f.consultation_fee)||parseFloat(f.consultation_fee)<=0)&&(T.consultation_fee="Please enter a valid fee amount"):T.consultation_fee="Consultation fee is required",f.experience_years&&(isNaN(f.experience_years)||parseInt(f.experience_years)<0)&&(T.experience_years="Please enter a valid number of years"),x(T),Object.keys(T).length===0},P=async T=>{if(T.preventDefault(),!!_())try{const S={...f,consultation_fee:parseFloat(f.consultation_fee),experience_years:f.experience_years?parseInt(f.experience_years):null},{data:C,error:O}=await n.from("doctors").update(S).eq("id",e).select().single();if(O)throw O;s(C),B.success("Doctor updated successfully"),d(!1)}catch(S){console.error("Error updating doctor:",S),S.code==="23505"?x({...p,phone_number:"A doctor with this phone number already exists"}):B.error("Failed to update doctor")}},A=async T=>{try{const S=await fetch(`/api/bookings/notify/${T}`,{method:"POST",headers:{"Content-Type":"application/json"}}),C=await S.json();if(!S.ok)throw new Error(C.error||"Failed to send notification");B.success("Doctor notification sent successfully"),y()}catch(S){console.error("Error sending notification:",S),B.error(S.message||"Failed to send notification")}};return l?o.jsx("div",{className:"text-center py-10",children:o.jsx("p",{className:"text-gray-500",children:"Loading doctor information..."})}):r?o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"mb-6",children:o.jsxs(_e,{to:"/doctors",className:"inline-flex items-center text-primary-600 hover:text-primary-900",children:[o.jsx(Fr,{className:"h-5 w-5 mr-1"}),"Back to Doctors"]})}),o.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[o.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Doctor Profile"}),o.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Personal details and bookings."})]}),o.jsx("div",{children:u?o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>d(!1),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"button",onClick:P,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Save Changes"})]}):o.jsx("button",{type:"button",onClick:()=>d(!0),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Edit"})})]}),u?o.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:o.jsx("form",{className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[o.jsxs("div",{className:"sm:col-span-3",children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name *"}),o.jsx("input",{type:"text",name:"name",id:"name",value:f.name,onChange:E,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${p.name?"border-red-300":""}`}),p.name&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.name})]}),o.jsxs("div",{className:"sm:col-span-3",children:[o.jsx("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700",children:"WhatsApp Number *"}),o.jsx("input",{type:"text",name:"phone_number",id:"phone_number",value:f.phone_number,onChange:E,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${p.phone_number?"border-red-300":""}`}),p.phone_number&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.phone_number})]}),o.jsxs("div",{className:"sm:col-span-3",children:[o.jsx("label",{htmlFor:"specialty",className:"block text-sm font-medium text-gray-700",children:"Specialty *"}),o.jsx("input",{type:"text",name:"specialty",id:"specialty",value:f.specialty,onChange:E,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${p.specialty?"border-red-300":""}`}),p.specialty&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.specialty})]}),o.jsxs("div",{className:"sm:col-span-3",children:[o.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location"}),o.jsx("input",{type:"text",name:"location",id:"location",value:f.location,onChange:E,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),o.jsxs("div",{className:"sm:col-span-2",children:[o.jsx("label",{htmlFor:"experience_years",className:"block text-sm font-medium text-gray-700",children:"Years of Experience"}),o.jsx("input",{type:"number",name:"experience_years",id:"experience_years",value:f.experience_years,onChange:E,min:"0",className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${p.experience_years?"border-red-300":""}`}),p.experience_years&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.experience_years})]}),o.jsxs("div",{className:"sm:col-span-2",children:[o.jsx("label",{htmlFor:"consultation_fee",className:"block text-sm font-medium text-gray-700",children:"Consultation Fee (GH₵) *"}),o.jsx("input",{type:"number",name:"consultation_fee",id:"consultation_fee",value:f.consultation_fee,onChange:E,min:"0",step:"0.01",className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${p.consultation_fee?"border-red-300":""}`}),p.consultation_fee&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.consultation_fee})]}),o.jsxs("div",{className:"sm:col-span-2",children:[o.jsx("label",{htmlFor:"availability_status",className:"block text-sm font-medium text-gray-700",children:"Availability Status"}),o.jsxs("select",{id:"availability_status",name:"availability_status",value:f.availability_status,onChange:E,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[o.jsx("option",{value:"available",children:"Available"}),o.jsx("option",{value:"busy",children:"Busy"}),o.jsx("option",{value:"unavailable",children:"Unavailable"})]})]}),o.jsxs("div",{className:"sm:col-span-6",children:[o.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),o.jsx("textarea",{id:"bio",name:"bio",rows:3,value:f.bio,onChange:E,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]})]})})}):o.jsxs("div",{children:[o.jsx("div",{className:"border-t border-gray-200",children:o.jsxs("dl",{children:[o.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Name"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:r.name})]}),o.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"WhatsApp Number"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:r.phone_number})]}),o.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Specialty"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:r.specialty})]}),o.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Location"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:r.location||"Not specified"})]}),o.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Years of Experience"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:r.experience_years?`${r.experience_years} years`:"Not specified"})]}),o.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Consultation Fee"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:`GH₵${r.consultation_fee}`})]}),o.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Availability Status"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:o.jsx("span",{className:`inline-flex items-center rounded-md px-2.5 py-0.5 text-sm font-medium ${r.availability_status==="available"?"bg-green-100 text-green-800":r.availability_status==="busy"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r.availability_status.charAt(0).toUpperCase()+r.availability_status.slice(1)})})]}),o.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Bio"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:r.bio||"No bio provided"})]})]})}),o.jsxs("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:[o.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Recent Bookings"}),o.jsx("div",{className:"mt-4 flow-root",children:i.length===0?o.jsx("p",{className:"text-sm text-gray-500",children:"No bookings found for this doctor."}):o.jsx("div",{className:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:o.jsx("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Appointment ID"}),o.jsx("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Patient"}),o.jsx("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Date"}),o.jsx("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Status"}),o.jsx("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map(T=>{var S,C;return o.jsxs("tr",{children:[o.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:o.jsx(_e,{to:`/bookings/${T.id}`,className:"text-primary-600 hover:text-primary-900",children:T.appointment_id})}),o.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:[((S=T.users)==null?void 0:S.first_name)||"Unknown"," (",(C=T.users)==null?void 0:C.phone_number,")"]}),o.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:new Date(T.booking_date).toLocaleDateString()}),o.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm",children:o.jsx("span",{className:`inline-flex items-center rounded-md px-2.5 py-0.5 text-sm font-medium ${T.status==="completed"?"bg-green-100 text-green-800":T.status==="confirmed"?"bg-blue-100 text-blue-800":T.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:T.status.charAt(0).toUpperCase()+T.status.slice(1)})}),o.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm",children:[!T.doctor_notified&&o.jsxs("button",{type:"button",onClick:()=>A(T.id),className:"inline-flex items-center rounded-md bg-white px-2.5 py-1.5 text-sm font-semibold text-primary-600 shadow-sm ring-1 ring-inset ring-primary-300 hover:bg-primary-50",children:[o.jsx(wa,{className:"h-4 w-4 mr-1"}),"Notify Doctor"]}),T.doctor_notified&&o.jsxs("span",{className:"text-sm text-gray-500",children:["Notified: ",new Date(T.doctor_notified_at).toLocaleString()]})]})]},T.id)})})]})})})})]}),o.jsxs("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:[o.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Weekly Availability"}),o.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map((T,S)=>o.jsxs("div",{className:`p-3 rounded-md border ${T.enabled?"border-primary-300 bg-primary-50":"border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium text-gray-800",children:j(T.day_of_week)}),o.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:T.enabled,onChange:C=>k(S,"enabled",C.target.checked)})]}),o.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Start"}),o.jsx("input",{type:"time",disabled:!T.enabled,value:T.start_time,onChange:C=>k(S,"start_time",C.target.value),className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500",children:"End"}),o.jsx("input",{type:"time",disabled:!T.enabled,value:T.end_time,onChange:C=>k(S,"end_time",C.target.value),className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]})]})]},T.day_of_week))}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsx("button",{onClick:N,disabled:v,className:`inline-flex items-center rounded-md ${v?"bg-gray-400":"bg-primary-600 hover:bg-primary-700"} px-3 py-2 text-sm font-semibold text-white shadow-sm`,children:v?"Saving…":"Save Availability"})})]})]})]})]}):o.jsxs("div",{className:"text-center py-10",children:[o.jsx("p",{className:"text-red-500",children:"Doctor not found"}),o.jsxs(_e,{to:"/doctors",className:"mt-4 inline-flex items-center text-primary-600 hover:text-primary-900",children:[o.jsx(Fr,{className:"h-5 w-5 mr-1"}),"Back to Doctors"]})]})}function IA(){const{supabase:e}=$t(),[t,n]=h.useState([]),[r,s]=h.useState(!0),[i,a]=h.useState({status:"all",paymentStatus:"all"});h.useEffect(()=>{l()},[i]);const l=async()=>{try{s(!0);let m=e.from("bookings").select(`
        *,
        doctors (id, name, phone_number, specialty),
        users (id, phone_number, first_name)
      `);i.status!=="all"&&(m=m.eq("status",i.status)),i.paymentStatus!=="all"&&(m=m.eq("payment_status",i.paymentStatus)),m=m.order("booking_date",{ascending:!1});const{data:p,error:x}=await m;if(x)throw x;n(p||[])}catch(m){console.error("Error fetching bookings:",m),B.error("Failed to load bookings")}finally{s(!1)}},c=m=>{const{name:p,value:x}=m.target;a({...i,[p]:x})},u=async m=>{try{const p=await fetch(`/api/bookings/notify/${m}`,{method:"POST",headers:{"Content-Type":"application/json"}}),x=await p.json();if(!p.ok)throw new Error(x.error||"Failed to send notification");B.success("Doctor notification sent successfully"),l()}catch(p){console.error("Error sending notification:",p),B.error(p.message||"Failed to send notification")}},d=m=>{switch(m){case"completed":return"bg-green-100 text-green-800 ring-green-600/20";case"confirmed":return"bg-blue-100 text-blue-800 ring-blue-600/20";case"cancelled":return"bg-red-100 text-red-800 ring-red-600/20";case"pending":default:return"bg-yellow-100 text-yellow-800 ring-yellow-600/20"}},f=m=>{switch(m){case"paid":return"bg-green-100 text-green-800 ring-green-600/20";case"refunded":return"bg-purple-100 text-purple-800 ring-purple-600/20";case"failed":return"bg-red-100 text-red-800 ring-red-600/20";case"pending":default:return"bg-yellow-100 text-yellow-800 ring-yellow-600/20"}};return o.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"sm:flex sm:items-center",children:o.jsxs("div",{className:"sm:flex-auto",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Doctor Bookings"}),o.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"A list of all doctor consultations booked through the OMA Health Assistant."})]})}),o.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Booking Status"}),o.jsxs("select",{id:"status",name:"status",value:i.status,onChange:c,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[o.jsx("option",{value:"all",children:"All Statuses"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"confirmed",children:"Confirmed"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"paymentStatus",className:"block text-sm font-medium text-gray-700",children:"Payment Status"}),o.jsxs("select",{id:"paymentStatus",name:"paymentStatus",value:i.paymentStatus,onChange:c,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[o.jsx("option",{value:"all",children:"All Payments"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"paid",children:"Paid"}),o.jsx("option",{value:"failed",children:"Failed"}),o.jsx("option",{value:"refunded",children:"Refunded"})]})]})]}),r?o.jsx("div",{className:"mt-8 text-center",children:o.jsx("p",{className:"text-gray-500",children:"Loading bookings..."})}):o.jsx("div",{className:"mt-8 flow-root",children:o.jsx("div",{className:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:o.jsx("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:t.length===0?o.jsx("div",{className:"text-center py-10 bg-white shadow overflow-hidden sm:rounded-lg",children:o.jsx("p",{className:"text-gray-500",children:"No bookings found"})}):o.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Appointment ID"}),o.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Doctor"}),o.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Patient"}),o.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Date"}),o.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Status"}),o.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Payment"}),o.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:o.jsx("span",{className:"sr-only",children:"Actions"})})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(m=>{var p,x,w;return o.jsxs("tr",{children:[o.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0",children:o.jsx(_e,{to:`/bookings/${m.id}`,className:"text-primary-600 hover:text-primary-900",children:m.appointment_id})}),o.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:o.jsx(_e,{to:`/doctors/${m.doctor_id}`,className:"text-primary-600 hover:text-primary-900",children:((p=m.doctors)==null?void 0:p.name)||"Unknown doctor"})}),o.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:o.jsxs(_e,{to:`/users/${m.user_id}`,className:"text-primary-600 hover:text-primary-900",children:[((x=m.users)==null?void 0:x.first_name)||"Unknown"," (",(w=m.users)==null?void 0:w.phone_number,")"]})}),o.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:new Date(m.booking_date).toLocaleString()}),o.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm",children:o.jsx("span",{className:`inline-flex items-center rounded-md px-2.5 py-0.5 text-sm font-medium ${d(m.status)}`,children:m.status.charAt(0).toUpperCase()+m.status.slice(1)})}),o.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm",children:[o.jsx("span",{className:`inline-flex items-center rounded-md px-2.5 py-0.5 text-sm font-medium ${f(m.payment_status)}`,children:m.payment_status.charAt(0).toUpperCase()+m.payment_status.slice(1)}),m.payment_status==="paid"&&o.jsxs("span",{className:"ml-2 text-gray-500",children:["GH₵",m.payment_amount]})]}),o.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0",children:o.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[o.jsxs(_e,{to:`/bookings/${m.id}`,className:"text-primary-600 hover:text-primary-900",children:[o.jsx(wa,{className:"h-5 w-5","aria-hidden":"true"}),o.jsxs("span",{className:"sr-only",children:["View booking ",m.appointment_id]})]}),m.payment_status==="paid"&&!m.doctor_notified&&o.jsxs("button",{onClick:()=>u(m.id),className:"text-primary-600 hover:text-primary-900",title:"Notify Doctor",children:[o.jsx(sh,{className:"h-5 w-5","aria-hidden":"true"}),o.jsxs("span",{className:"sr-only",children:["Notify doctor about booking ",m.appointment_id]})]})]})})]},m.id)})})]})})})})]})}function FA(){var y,j,k,N,E,_,P,A,T;const{bookingId:e}=Sl(),t=Wt(),{supabase:n}=$t(),[r,s]=h.useState(null),[i,a]=h.useState(!0),[l,c]=h.useState(!1),[u,d]=h.useState(!1),[f,m]=h.useState({status:"",payment_status:"",consultation_date:"",diagnosis_notes:""});h.useEffect(()=>{p()},[e]);const p=async()=>{try{a(!0);const{data:S,error:C}=await n.from("bookings").select(`
          *,
          doctors (id, name, phone_number, specialty, experience_years, consultation_fee),
          users (id, phone_number, first_name, gender, age_range, location)
        `).eq("id",e).single();if(C)throw C;if(!S){B.error("Booking not found"),t("/bookings");return}s(S),m({status:S.status||"pending",payment_status:S.payment_status||"pending",consultation_date:S.consultation_date?new Date(S.consultation_date).toISOString().slice(0,16):"",diagnosis_notes:S.diagnosis_notes||""})}catch(S){console.error("Error fetching booking details:",S),B.error("Failed to load booking details")}finally{a(!1)}},x=S=>{const{name:C,value:O}=S.target;m({...f,[C]:O})},w=async S=>{S.preventDefault();try{const C={status:f.status,payment_status:f.payment_status,consultation_date:f.consultation_date||null,diagnosis_notes:f.diagnosis_notes},{data:O,error:V}=await n.from("bookings").update(C).eq("id",e).select().single();if(V)throw V;s({...r,...O}),B.success("Booking updated successfully"),c(!1)}catch(C){console.error("Error updating booking:",C),B.error("Failed to update booking")}},b=async()=>{var S,C,O;if(r)try{d(!0);const{data:V,error:W}=await n.from("bookings").update({payment_status:"paid"}).eq("id",e).select().single();if(W)throw W;const D=await fetch("https://oma-bot-engine-on1w.onrender.com/payments/complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({appointmentId:r.appointment_id,userPhone:(S=r.users)==null?void 0:S.phone_number,doctorName:(C=r.doctors)==null?void 0:C.name,amount:r.payment_amount||((O=r.doctors)==null?void 0:O.consultation_fee)||0,currency:r.payment_currency||"GHS",reference:r.payment_reference||`OMA-${r.appointment_id}`})}),M=await D.json();if(!D.ok)throw new Error(M.error||"Failed to complete payment");B.success("Payment marked as paid. Invoice sent to patient."),s({...r,payment_status:"paid"})}catch(V){console.error("Error marking as paid:",V),B.error(V.message||"Failed to mark as paid")}finally{d(!1)}},v=async()=>{try{const S=await fetch(`/api/bookings/notify/${e}`,{method:"POST",headers:{"Content-Type":"application/json"}}),C=await S.json();if(!S.ok)throw new Error(C.error||"Failed to send notification");B.success("Doctor notification sent successfully"),p()}catch(S){console.error("Error sending notification:",S),B.error(S.message||"Failed to send notification")}},g=S=>{if(!S||S.length===0)return"None reported";if(typeof S=="string")try{const C=JSON.parse(S);if(Array.isArray(C))return C.join(`
`)}catch{return S}return Array.isArray(S)?S.join(`
`):"Unable to display symptoms"};return i?o.jsx("div",{className:"text-center py-10",children:o.jsx("p",{className:"text-gray-500",children:"Loading booking details..."})}):r?o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"mb-6",children:o.jsxs(_e,{to:"/bookings",className:"inline-flex items-center text-primary-600 hover:text-primary-900",children:[o.jsx(Fr,{className:"h-5 w-5 mr-1"}),"Back to Bookings"]})}),o.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[o.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Booking Details - ",r.appointment_id]}),o.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Patient and doctor consultation information."})]}),o.jsxs("div",{className:"flex space-x-2",children:[!r.doctor_notified&&r.payment_status==="paid"&&o.jsxs("button",{type:"button",onClick:v,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[o.jsx(sh,{className:"-ml-0.5 mr-1.5 h-4 w-4","aria-hidden":"true"}),"Notify Doctor"]}),!l&&r.payment_status!=="paid"&&o.jsx("button",{type:"button",onClick:b,disabled:u,className:`inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white ${u?"bg-gray-400":"bg-green-600 hover:bg-green-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500`,children:u?"Marking…":"Mark as Paid"}),l?o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"button",onClick:w,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Save Changes"})]}):o.jsx("button",{type:"button",onClick:()=>c(!0),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Edit"})]})]}),l?o.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:o.jsx("form",{className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[o.jsxs("div",{className:"sm:col-span-3",children:[o.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Booking Status"}),o.jsxs("select",{id:"status",name:"status",value:f.status,onChange:x,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"confirmed",children:"Confirmed"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),o.jsxs("div",{className:"sm:col-span-3",children:[o.jsx("label",{htmlFor:"payment_status",className:"block text-sm font-medium text-gray-700",children:"Payment Status"}),o.jsxs("select",{id:"payment_status",name:"payment_status",value:f.payment_status,onChange:x,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"paid",children:"Paid"}),o.jsx("option",{value:"failed",children:"Failed"}),o.jsx("option",{value:"refunded",children:"Refunded"})]})]}),o.jsxs("div",{className:"sm:col-span-3",children:[o.jsx("label",{htmlFor:"consultation_date",className:"block text-sm font-medium text-gray-700",children:"Consultation Date & Time"}),o.jsx("input",{type:"datetime-local",id:"consultation_date",name:"consultation_date",value:f.consultation_date,onChange:x,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),o.jsxs("div",{className:"sm:col-span-6",children:[o.jsx("label",{htmlFor:"diagnosis_notes",className:"block text-sm font-medium text-gray-700",children:"Diagnosis Notes"}),o.jsx("textarea",{id:"diagnosis_notes",name:"diagnosis_notes",rows:4,value:f.diagnosis_notes,onChange:x,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Notes about the patient's diagnosis"})]})]})})}):o.jsx("div",{children:o.jsx("div",{className:"border-t border-gray-200",children:o.jsxs("dl",{children:[o.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),o.jsxs("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:[o.jsx("span",{className:`inline-flex items-center rounded-md px-2.5 py-0.5 text-sm font-medium ${r.status==="completed"?"bg-green-100 text-green-800":r.status==="confirmed"?"bg-blue-100 text-blue-800":r.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)}),r.doctor_notified&&o.jsxs("span",{className:"ml-2 inline-flex items-center text-sm text-gray-500",children:[o.jsx(zs,{className:"h-4 w-4 mr-1 text-green-500"}),"Doctor notified on ",new Date(r.doctor_notified_at).toLocaleString()]})]})]}),o.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Payment"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:`inline-flex items-center rounded-md px-2.5 py-0.5 text-sm font-medium ${r.payment_status==="paid"?"bg-green-100 text-green-800":r.payment_status==="refunded"?"bg-purple-100 text-purple-800":r.payment_status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:r.payment_status.charAt(0).toUpperCase()+r.payment_status.slice(1)}),o.jsxs("span",{className:"ml-2 flex items-center",children:[o.jsx(Gx,{className:"h-4 w-4 mr-1 text-gray-400"}),"GH₵",r.payment_amount||"0.00"," ",r.payment_currency]}),r.payment_reference&&o.jsxs("span",{className:"ml-2 text-gray-500",children:["Ref: ",r.payment_reference]})]})})]}),o.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Consultation Date"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(zl,{className:"h-4 w-4 mr-1 text-gray-400"}),r.consultation_date?o.jsx("span",{children:new Date(r.consultation_date).toLocaleString()}):o.jsx("span",{className:"text-gray-500",children:"Not scheduled yet"})]})})]}),o.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Booking Created"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:new Date(r.booking_date).toLocaleString()})]}),o.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Doctor"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx(_e,{to:`/doctors/${r.doctor_id}`,className:"text-primary-600 hover:text-primary-900 font-medium",children:((y=r.doctors)==null?void 0:y.name)||"Unknown doctor"}),o.jsx("span",{className:"text-gray-500",children:(j=r.doctors)==null?void 0:j.specialty}),o.jsx("span",{className:"text-gray-500",children:(k=r.doctors)!=null&&k.experience_years?`${r.doctors.experience_years} years experience`:""}),o.jsxs("span",{className:"text-gray-500 mt-1",children:["WhatsApp: ",(N=r.doctors)==null?void 0:N.phone_number]})]})})]}),o.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Patient"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Wl,{className:"h-5 w-5 mr-1 text-gray-400"}),o.jsx(_e,{to:`/users/${r.user_id}`,className:"text-primary-600 hover:text-primary-900 font-medium",children:((E=r.users)==null?void 0:E.first_name)||"Unknown patient"})]}),o.jsxs("span",{className:"text-gray-500",children:["WhatsApp: ",(_=r.users)==null?void 0:_.phone_number]}),o.jsxs("div",{className:"flex space-x-3 mt-1 text-gray-500",children:[o.jsx("span",{children:((P=r.users)==null?void 0:P.gender)||"Gender not specified"}),o.jsx("span",{children:"•"}),o.jsx("span",{children:((A=r.users)==null?void 0:A.age_range)||"Age not specified"}),o.jsx("span",{children:"•"}),o.jsx("span",{children:((T=r.users)==null?void 0:T.location)||"Location not specified"})]})]})})]}),o.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Reported Symptoms"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:o.jsx("div",{className:"whitespace-pre-line",children:g(r.symptoms)})})]}),o.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Diagnosis Notes"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:o.jsx("div",{className:"whitespace-pre-line",children:r.diagnosis_notes||"No diagnosis notes available"})})]})]})})})]})]}):o.jsxs("div",{className:"text-center py-10",children:[o.jsx("p",{className:"text-red-500",children:"Booking not found"}),o.jsxs(_e,{to:"/bookings",className:"mt-4 inline-flex items-center text-primary-600 hover:text-primary-900",children:[o.jsx(Fr,{className:"h-5 w-5 mr-1"}),"Back to Bookings"]})]})}function UA(){const{pharmacies:e,pharmaciesLoading:t,fetchPharmacies:n,createPharmacy:r,updatePharmacy:s}=nr();console.log("[Pharmacies] Component render:",{pharmacies:(e==null?void 0:e.length)||0,pharmaciesLoading:t,hasPharmacies:e&&e.length>0});const[i,a]=h.useState(!1),[l,c]=h.useState(null),[u,d]=h.useState({name:"",phone_number:"",location:"",address:"",status:"active"}),[f,m]=h.useState(!1);h.useEffect(()=>{console.log("[Pharmacies] Component mounted, fetching pharmacies...");const v=setTimeout(()=>{console.log("[Pharmacies] 5 seconds passed, pharmaciesLoading:",t),console.log("[Pharmacies] pharmacies data:",e)},5e3);return n(),()=>clearTimeout(v)},[]);const p=v=>{const{name:g,value:y}=v.target;d(j=>({...j,[g]:y}))},x=async v=>{v.preventDefault(),m(!0);try{l?(await s(l.id,u),B.success("Pharmacy updated successfully")):(await r(u),B.success("Pharmacy created successfully")),d({name:"",phone_number:"",location:"",address:"",status:"active"}),c(null),a(!1)}catch(g){B.error(g.message||"Failed to save pharmacy")}finally{m(!1)}},w=v=>{c(v),d({name:v.name,phone_number:v.phone_number,location:v.location||"",address:v.address||"",status:v.status||"active"}),a(!0)},b=v=>{switch(v){case"active":return o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"});case"inactive":return o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Inactive"});default:return o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:v})}};return o.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"sm:flex sm:items-center",children:[o.jsxs("div",{className:"sm:flex-auto",children:[o.jsx("h1",{className:"text-base font-semibold leading-6 text-gray-900",children:"Pharmacies"}),o.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"A list of all the pharmacies registered in the system for prescription fulfillment."})]}),o.jsx("div",{className:"mt-4 sm:ml-16 sm:mt-0 sm:flex-none",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"button",onClick:()=>{console.log("[Pharmacies] Manual refresh clicked"),n()},className:"block rounded-md bg-gray-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-gray-500",children:o.jsx("div",{className:"flex items-center",children:o.jsx("span",{children:"Refresh"})})}),o.jsx("button",{type:"button",onClick:()=>{c(null),d({name:"",phone_number:"",location:"",address:"",status:"active"}),a(!0)},className:"block rounded-md bg-primary-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-primary-500",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(la,{className:"h-5 w-5 mr-1","aria-hidden":"true"}),o.jsx("span",{children:"Add Pharmacy"})]})})]})})]}),t?o.jsxs("div",{children:[o.jsx("div",{className:"mt-4 text-center",children:o.jsx("p",{className:"text-sm text-gray-500",children:"Loading pharmacies..."})}),o.jsx(oT,{rows:5,columns:4})]}):o.jsx("div",{className:"mt-8 flow-root",children:o.jsx("div",{className:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:o.jsx("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:o.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 sm:rounded-lg",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",children:"Name"}),o.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Phone Number"}),o.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Location"}),o.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Status"}),o.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:o.jsx("span",{className:"sr-only",children:"Edit"})})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:e.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"5",className:"py-4 text-center text-sm text-gray-500",children:o.jsxs("div",{className:"flex flex-col items-center py-10",children:[o.jsx(Kx,{className:"h-12 w-12 text-gray-400 mb-4"}),o.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:"No pharmacies registered"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Get started by adding a new pharmacy"})]})})}):e.map(v=>o.jsxs("tr",{children:[o.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6",children:v.name}),o.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:v.phone_number}),o.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:v.location||"-"}),o.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:b(v.status)}),o.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:o.jsxs("button",{onClick:()=>w(v),className:"text-primary-600 hover:text-primary-900 mr-4",children:[o.jsx(Qx,{className:"h-4 w-4","aria-hidden":"true"}),o.jsxs("span",{className:"sr-only",children:["Edit ",v.name]})]})})]},v.id))})]})})})})}),i&&o.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:o.jsxs("div",{className:"flex min-h-full items-center justify-center p-4 text-center sm:p-0",children:[o.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:()=>a(!1)}),o.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[o.jsx("div",{className:"absolute right-0 top-0 pr-4 pt-4",children:o.jsxs("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",onClick:()=>a(!1),children:[o.jsx("span",{className:"sr-only",children:"Close"}),o.jsx(oh,{className:"h-6 w-6","aria-hidden":"true"})]})}),o.jsx("div",{children:o.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:text-left",children:[o.jsx("h3",{className:"text-base font-semibold leading-6 text-gray-900",children:l?"Edit Pharmacy":"Add New Pharmacy"}),o.jsxs("form",{onSubmit:x,className:"mt-4",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Pharmacy Name *"}),o.jsx("input",{type:"text",name:"name",id:"name",value:u.name,onChange:p,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700",children:"Phone Number *"}),o.jsx("input",{type:"text",name:"phone_number",id:"phone_number",value:u.phone_number,onChange:p,required:!0,placeholder:"+233xxxxxxxxx",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location"}),o.jsx("input",{type:"text",name:"location",id:"location",value:u.location,onChange:p,placeholder:"Accra, Ghana",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),o.jsx("textarea",{name:"address",id:"address",value:u.address,onChange:p,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),o.jsxs("select",{id:"status",name:"status",value:u.status,onChange:p,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),o.jsxs("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3",children:[o.jsx("button",{type:"submit",disabled:f,className:"inline-flex w-full justify-center rounded-md bg-primary-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600 sm:col-start-2",children:f?"Saving...":l?"Update":"Create"}),o.jsx("button",{type:"button",onClick:()=>a(!1),className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:col-start-1 sm:mt-0",children:"Cancel"})]})]})]})})]})]})})]})}const VA="https://oma-db-service-pcxd.onrender.com",b0=!1,no=VA.replace(/\/+$/,"");function BA(){const e=Wt(),[t,n]=h.useState(1),[r,s]=h.useState(""),[i,a]=h.useState(""),[l,c]=h.useState(!1),[u,d]=h.useState(0),f=g=>{let y=String(g).replace(/\D/g,"");return y.startsWith("0")&&(y="233"+y.slice(1)),y},m=async g=>{var y;if(g.preventDefault(),!r.trim()){B.error("Please enter your phone number");return}c(!0);try{if(!b0){const j={phone_number:f(r)};console.log("[DoctorLogin][request-otp] API:",`${no}/auth/doctor/request-otp`,"payload:",j);const k=await fetch(`${no}/auth/doctor/request-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)}),N=(y=k.headers.get("content-type"))==null?void 0:y.includes("application/json"),E=N?await k.json():await k.text(),_=N?E:{raw:E};if(console.log("[DoctorLogin][request-otp] status:",k.status,"result:",_),!k.ok)throw new Error((N?_.error||_.message:_.raw)||"Failed to send OTP");B.success("OTP sent to your phone number")}n(2),x()}catch(j){console.error("Error sending OTP:",j),B.error(j.message||"Failed to send OTP")}finally{c(!1)}},p=async g=>{var y;if(g.preventDefault(),!i.trim()){B.error("Please enter the OTP");return}c(!0);try{if(!b0){const j={phone_number:f(r),code:i.trim()};console.log("[DoctorLogin][verify-otp] API:",`${no}/auth/doctor/verify-otp`,"payload:",j);const k=await fetch(`${no}/auth/doctor/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)}),N=(y=k.headers.get("content-type"))==null?void 0:y.includes("application/json"),E=N?await k.json():await k.text(),_=N?E:{raw:E};if(console.log("[DoctorLogin][verify-otp] status:",k.status,"result:",_),!k.ok)throw new Error((N?_.error||_.message:_.raw)||"Invalid OTP");localStorage.setItem("doctorToken",_.token),localStorage.setItem("doctorPhone",r.trim()),B.success("Login successful!")}e("/doctor/dashboard",{replace:!0})}catch(j){console.error("Error verifying OTP:",j),B.error(j.message||"Invalid OTP")}finally{c(!1)}},x=()=>{d(60);const g=setInterval(()=>{d(y=>y<=1?(clearInterval(g),0):y-1)},1e3)},w=()=>{u>0||m(new Event("submit"))},b=g=>{const y=g.replace(/\D/g,"");return y.length<=3?`+${y}`:y.length<=5?`+${y.slice(0,3)} ${y.slice(3)}`:y.length<=8?`+${y.slice(0,3)} ${y.slice(3,5)} ${y.slice(5)}`:`+${y.slice(0,3)} ${y.slice(3,5)} ${y.slice(5,8)} ${y.slice(8,12)}`},v=g=>{const y=b(g.target.value);s(y)};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:o.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mx-auto h-16 w-16 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full flex items-center justify-center mb-6",children:o.jsx(oa,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Doctor Portal"}),o.jsx("p",{className:"text-gray-600",children:t===1?"Enter your phone number to receive a login code":"Enter the 6-digit code sent to your phone"})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-xl p-8",children:t===1?o.jsxs("form",{onSubmit:m,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{id:"phone",name:"phone",type:"tel",required:!0,value:r,onChange:v,placeholder:"+233 55 912 3456",className:"block w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg",disabled:l})]}),o.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"We'll send a 6-digit code to this number"})]}),o.jsx("button",{type:"submit",disabled:l||!r.trim(),className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-lg font-medium text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:l?o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"}):o.jsxs(o.Fragment,{children:["Send Code",o.jsx(aP,{className:"ml-2 h-5 w-5"})]})})]}):o.jsxs("form",{onSubmit:p,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Code"}),o.jsxs("div",{className:"relative",children:[o.jsx(UP,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{id:"otp",name:"otp",type:"text",required:!0,value:i,onChange:g=>a(g.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"123456",maxLength:6,className:"block w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg text-center tracking-widest",disabled:l})]}),o.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Enter the 6-digit code sent to ",r]})]}),o.jsx("button",{type:"submit",disabled:l||i.length!==6,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-lg font-medium text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:l?o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"}):"Verify & Login"}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:w,disabled:u>0,className:"text-sm text-blue-600 hover:text-blue-500 disabled:text-gray-400 disabled:cursor-not-allowed",children:u>0?`Resend code in ${u}s`:"Resend code"})}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>{n(1),a(""),d(0)},className:"text-sm text-gray-600 hover:text-gray-500",children:"← Use different phone number"})})]})}),o.jsxs("div",{className:"text-center text-sm text-gray-500",children:[o.jsx("p",{children:"This portal is for registered OMA Health doctors only"}),o.jsxs("p",{className:"mt-1",children:["Need help? Contact"," ",o.jsx("a",{href:"mailto:support@omahealth.com",className:"text-blue-600 hover:text-blue-500",children:"support@omahealth.com"})]})]})]})})}const zA="https://oma-db-service-pcxd.onrender.com",tn=zA.replace(/\/+$/,""),j0=!1;function WA(){const e=Wt(),[t,n]=h.useState(null),[r,s]=h.useState(!1),[i,a]=h.useState([]),[l,c]=h.useState({totalBookings:0,pendingBookings:0,completedBookings:0,totalEarnings:0}),[u,d]=h.useState(!1),[f,m]=h.useState(!1),[p,x]=h.useState("dashboard"),[w,b]=h.useState([]),[v,g]=h.useState([]),[y,j]=h.useState([]);h.useEffect(()=>{k(),N(),S(),C()},[]);const k=()=>{const R=localStorage.getItem("doctorToken"),K=localStorage.getItem("doctorPhone");if(!R||!K){e("/doctor/login");return}},N=async()=>{try{s(!0);const R=localStorage.getItem("doctorToken"),K=localStorage.getItem("doctorPhone");if(!j0){const q=await fetch(`${tn}/doctor/me`,{headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"}});if(!q.ok){if(q.status===401||q.status===403){localStorage.removeItem("doctorToken"),localStorage.removeItem("doctorPhone"),e("/doctor/login");return}throw new Error("Failed to fetch doctor profile")}const re=await q.json();n(re);const ce=await fetch(`${tn}/doctor/bookings`,{headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"}});if(ce.ok){const X=await ce.json();a(X.bookings||[]),c({totalBookings:X.total||0,pendingBookings:X.pending||0,completedBookings:X.completed||0,totalEarnings:X.earnings||0})}}}catch(R){console.error("Error fetching doctor data:",R),B.error("Failed to load dashboard data")}finally{s(!1)}},E=async R=>{try{d(!0);const K=localStorage.getItem("doctorToken"),q=await fetch(`${tn}/doctor/status`,{method:"PUT",headers:{Authorization:`Bearer ${K}`,"Content-Type":"application/json"},body:JSON.stringify({availability_status:R})});if(!q.ok)throw new Error("Failed to update status");const re=await q.json();n(ce=>({...ce,availability_status:re.availability_status}))}catch(K){console.error("Update status error:",K),B.error("Failed to update status")}finally{d(!1)}},_=async(R,K,q={})=>{var re;try{d(!0);const ce=localStorage.getItem("doctorToken"),X=await fetch(`${tn}/doctor/bookings/${R}`,{method:"PUT",headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"},body:JSON.stringify({action:K,...q})}),he=((re=X.headers.get("content-type"))==null?void 0:re.includes("application/json"))?await X.json():null;if(!X.ok)throw new Error((he==null?void 0:he.error)||"Action failed");B.success("Updated"),await N()}catch(ce){console.error("Booking action error:",ce),B.error(ce.message||"Failed")}finally{d(!1)}},P=()=>{localStorage.removeItem("doctorToken"),localStorage.removeItem("doctorPhone"),B.success("Logged out successfully"),e("/doctor/login")},A=R=>new Date(R).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),T=[{id:"dashboard",name:"Dashboard",icon:Jx},{id:"bookings",name:"Bookings",icon:i0,badge:l.pendingBookings},{id:"prescriptions",name:"Prescriptions",icon:o0},{id:"availability",name:"Availability",icon:wa},{id:"analytics",name:"Analytics",icon:xd},{id:"chat",name:"Messages",icon:ia},{id:"profile",name:"Profile",icon:Os},{id:"settings",name:"Settings",icon:EP}],S=async()=>{try{const R=localStorage.getItem("doctorToken"),K=await fetch(`${tn}/doctor/prescriptions`,{headers:{Authorization:`Bearer ${R}`}});if(K.ok){const q=await K.json();b(q.prescriptions||[])}}catch(R){console.error("Fetch prescriptions error:",R)}},C=async()=>{try{const R=localStorage.getItem("doctorToken"),K=await fetch(`${tn}/doctor/availability`,{headers:{Authorization:`Bearer ${R}`}});if(K.ok){const q=await K.json();g(q.availability||[])}}catch(R){console.error("Fetch availability error:",R)}},O=async R=>{try{d(!0);const K=localStorage.getItem("doctorToken");if(!(await fetch(`${tn}/doctor/availability`,{method:"PUT",headers:{Authorization:`Bearer ${K}`,"Content-Type":"application/json"},body:JSON.stringify(R)})).ok)throw new Error("Failed to update availability");await C(),B.success("Availability updated")}catch(K){console.error("Update availability error:",K),B.error("Failed to update availability")}finally{d(!1)}},V=()=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200/60",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-slate-900 rounded-lg flex items-center justify-center",children:o.jsx(Os,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsxs("h2",{className:"text-sm font-semibold text-slate-900",children:["Dr. ",(t==null?void 0:t.name)||"Doctor"]}),o.jsx("p",{className:"text-xs text-slate-500",children:(t==null?void 0:t.specialty)||"Medicine"})]})]}),o.jsx("button",{onClick:()=>m(!1),className:"p-1 text-slate-400 hover:text-slate-600 lg:hidden",children:o.jsx(oh,{className:"w-5 h-5"})})]}),o.jsx("nav",{className:"p-4 space-y-2",children:T.map(R=>{const K=R.icon,q=p===R.id;return o.jsxs("button",{onClick:()=>{x(R.id),m(!1)},className:`w-full flex items-center justify-between px-3 py-2.5 text-sm font-medium rounded-lg transition-colors ${q?"bg-slate-100 text-slate-900":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}`,children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(K,{className:"w-5 h-5"}),o.jsx("span",{children:R.name})]}),R.badge>0&&o.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-amber-100 text-amber-700 rounded-full",children:R.badge})]},R.id)})}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-slate-200/60",children:o.jsxs("button",{onClick:P,className:"w-full flex items-center space-x-3 px-3 py-2.5 text-sm font-medium text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-lg transition-colors",children:[o.jsx(sP,{className:"w-5 h-5"}),o.jsx("span",{children:"Logout"})]})})]});if(r)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading your dashboard..."})]})});if(!t)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load doctor information"}),o.jsx("button",{onClick:()=>e("/doctor/login"),className:"text-blue-600 hover:text-blue-500",children:"Return to login"})]})});return o.jsxs("div",{className:"min-h-screen bg-slate-50 flex",children:[o.jsx(Vl,{children:f&&o.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>m(!1),className:"fixed inset-0 bg-slate-900/50 z-40 lg:hidden"})}),o.jsx(ie.aside,{initial:!1,animate:{x:f?0:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-slate-200/60 lg:hidden",children:V()}),o.jsx("aside",{className:"hidden lg:block lg:static lg:z-auto w-64 bg-white border-r border-slate-200/60",children:V()}),o.jsxs("div",{className:"flex-1 lg:ml-0",children:[o.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-slate-200/60 sticky top-0 z-30",children:o.jsx("div",{className:"px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{onClick:()=>m(!0),className:"p-2 text-slate-500 hover:text-slate-700 lg:hidden",children:o.jsx(qx,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-semibold text-slate-900 capitalize",children:p}),j0]})]}),o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs("button",{className:"p-2 text-slate-500 hover:text-slate-700 relative",children:[o.jsx(sh,{className:"w-5 h-5"}),y.length>0&&o.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]})})]})})}),o.jsx("main",{className:"p-6",children:W()})]})]});function W(){switch(p){case"dashboard":return o.jsx(J,{});case"bookings":return o.jsx(D,{});case"prescriptions":return o.jsx(M,{});case"availability":return o.jsx(L,{});case"analytics":return o.jsx(I,{});case"chat":return o.jsx(H,{});case"profile":return o.jsx(F,{});case"settings":return o.jsx(z,{});default:return o.jsx(J,{})}}function J(){return o.jsxs("div",{className:"space-y-6",children:[o.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white rounded-2xl border border-slate-200/60 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Status"}),o.jsxs("p",{className:"text-sm text-slate-500",children:["Currently ",(t==null?void 0:t.availability_status)==="available"?"available":(t==null?void 0:t.availability_status)==="busy"?"busy":"offline"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>E("available"),disabled:u,className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${(t==null?void 0:t.availability_status)==="available"?"bg-emerald-100 text-emerald-700 border border-emerald-200":"bg-slate-100 text-slate-600 hover:bg-emerald-50 hover:text-emerald-600"}`,children:"Available"}),o.jsx("button",{onClick:()=>E("busy"),disabled:u,className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${(t==null?void 0:t.availability_status)==="busy"?"bg-amber-100 text-amber-700 border border-amber-200":"bg-slate-100 text-slate-600 hover:bg-amber-50 hover:text-amber-600"}`,children:"Busy"}),o.jsx("button",{onClick:()=>E("unavailable"),disabled:u,className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${(t==null?void 0:t.availability_status)==="unavailable"?"bg-slate-200 text-slate-700 border border-slate-300":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Offline"})]})]})}),o.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-xl border border-slate-200/60 p-5",children:[o.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide mb-2",children:"Total"}),o.jsx("p",{className:"text-2xl font-bold text-slate-900",children:l.totalBookings})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-slate-200/60 p-5",children:[o.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide mb-2",children:"Pending"}),o.jsx("p",{className:"text-2xl font-bold text-amber-600",children:l.pendingBookings})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-slate-200/60 p-5",children:[o.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide mb-2",children:"Completed"}),o.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:l.completedBookings})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-slate-200/60 p-5",children:[o.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide mb-2",children:"Earnings"}),o.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["₵",l.totalEarnings.toLocaleString()]})]})]}),o.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white rounded-2xl border border-slate-200/60 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Recent Activity"}),o.jsx("div",{className:"space-y-4",children:i.slice(0,3).map((R,K)=>{var q;return o.jsxs("div",{className:"flex items-center justify-between py-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-slate-900",children:((q=R.users)==null?void 0:q.first_name)||"Patient"}),o.jsx("p",{className:"text-sm text-slate-500",children:A(R.consultation_date)})]}),o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${R.status==="completed"?"bg-emerald-100 text-emerald-700":R.status==="confirmed"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:R.status})]},R.id)})})]})]})}function D(){return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"All Bookings"}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("span",{className:"text-sm text-slate-500",children:[l.pendingBookings," pending"]})})]}),o.jsx("div",{className:"bg-white rounded-2xl border border-slate-200/60",children:i.length===0?o.jsxs("div",{className:"p-12 text-center",children:[o.jsx(i0,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),o.jsx("p",{className:"text-slate-500 mb-2",children:"No bookings yet"}),o.jsx("p",{className:"text-sm text-slate-400",children:"Patient consultations will appear here"})]}):o.jsx("div",{className:"divide-y divide-slate-100",children:i.map((R,K)=>{var q;return o.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:K*.05},className:"p-6 hover:bg-slate-50/50 transition-colors",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("h4",{className:"font-medium text-slate-900",children:((q=R.users)==null?void 0:q.first_name)||"Patient"}),o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${R.status==="completed"?"bg-emerald-100 text-emerald-700":R.status==="confirmed"?"bg-blue-100 text-blue-700":R.status==="cancelled"?"bg-slate-100 text-slate-600":"bg-amber-100 text-amber-700"}`,children:R.status})]}),o.jsx("p",{className:"text-sm text-slate-500 mb-2",children:R.consultation_date?A(R.consultation_date):"Date not set"}),R.symptoms&&o.jsxs("p",{className:"text-sm text-slate-600",children:["Symptoms: ",Array.isArray(R.symptoms)?R.symptoms.join(", "):R.symptoms]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[R.status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>_(R.id,"accept"),disabled:u,className:"p-2 text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",title:"Accept",children:o.jsx(zs,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>_(R.id,"reject"),disabled:u,className:"p-2 text-rose-600 hover:bg-rose-50 rounded-lg transition-colors",title:"Reject",children:o.jsx(bd,{className:"w-5 h-5"})}),o.jsx("button",{onClick:async()=>{const re=prompt("Enter new date/time (YYYY-MM-DDTHH:mm)");re&&await _(R.id,"reschedule",{consultation_date:re})},disabled:u,className:"p-2 text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"Reschedule",children:o.jsx(zl,{className:"w-5 h-5"})})]}),R.status==="confirmed"&&o.jsxs("button",{onClick:async()=>{const re=prompt("Enter call room URL (optional)",R.call_room_url||"");await _(R.id,"start",{call_room_url:re||void 0,consultation_mode:"video"})},disabled:u,className:"px-4 py-2 bg-slate-900 text-white text-sm font-medium rounded-lg hover:bg-slate-800 transition-colors flex items-center space-x-2",children:[o.jsx(GP,{className:"w-4 h-4"}),o.jsx("span",{children:"Start"})]}),R.status==="completed"&&o.jsx("span",{className:"text-sm text-slate-400",children:"Completed"})]})]})},R.id)})})})]})}function M(){const[R,K]=h.useState(!1),[q,re]=h.useState({user_id:"",patient_phone:"",medications:[{name:"",dosage:"",quantity:"",instructions:""}],delivery_address:"",notes:""}),ce=()=>{re(Y=>({...Y,medications:[...Y.medications,{name:"",dosage:"",quantity:"",instructions:""}]}))},X=(Y,oe,qe)=>{re(Zt=>({...Zt,medications:Zt.medications.map((hr,qs)=>qs===Y?{...hr,[oe]:qe}:hr)}))},Q=Y=>{re(oe=>({...oe,medications:oe.medications.filter((qe,Zt)=>Zt!==Y)}))},he=async()=>{if(!q.patient_phone||q.medications.some(Y=>!Y.name)){B.error("Please fill in all required fields");return}try{const Y=localStorage.getItem("doctorToken"),oe=await fetch(`${tn}/users/phone/${q.patient_phone}`,{headers:{Authorization:`Bearer ${Y}`}});if(!oe.ok){B.error("Patient not found with this phone number");return}const Zt={user_id:(await oe.json()).id,medications:q.medications.filter(qs=>qs.name),delivery_address:q.delivery_address,notes:q.notes};if(!(await fetch(`${tn}/doctor/prescriptions`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify(Zt)})).ok)throw new Error("Failed to create prescription");await S(),B.success("Prescription created successfully"),K(!1),re({user_id:"",patient_phone:"",medications:[{name:"",dosage:"",quantity:"",instructions:""}],delivery_address:"",notes:""})}catch(Y){console.error("Create prescription error:",Y),B.error("Failed to create prescription")}};return R?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"New Prescription"}),o.jsx("button",{onClick:()=>K(!1),className:"px-4 py-2 border border-slate-200 text-slate-600 text-sm font-medium rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"})]}),o.jsx("div",{className:"bg-white rounded-2xl border border-slate-200/60 p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Patient Phone Number"}),o.jsx("input",{type:"tel",value:q.patient_phone,onChange:Y=>re(oe=>({...oe,patient_phone:Y.target.value})),placeholder:"0123456789",className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Medications"}),o.jsxs("button",{onClick:ce,className:"px-3 py-1 bg-slate-100 text-slate-600 text-sm rounded-lg hover:bg-slate-200 transition-colors flex items-center space-x-1",children:[o.jsx(la,{className:"w-4 h-4"}),o.jsx("span",{children:"Add"})]})]}),o.jsx("div",{className:"space-y-4",children:q.medications.map((Y,oe)=>o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border border-slate-200 rounded-lg",children:[o.jsx("input",{type:"text",value:Y.name,onChange:qe=>X(oe,"name",qe.target.value),placeholder:"Medication name",className:"px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900"}),o.jsx("input",{type:"text",value:Y.dosage,onChange:qe=>X(oe,"dosage",qe.target.value),placeholder:"Dosage",className:"px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900"}),o.jsx("input",{type:"text",value:Y.quantity,onChange:qe=>X(oe,"quantity",qe.target.value),placeholder:"Quantity",className:"px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"text",value:Y.instructions,onChange:qe=>X(oe,"instructions",qe.target.value),placeholder:"Instructions",className:"flex-1 px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900"}),q.medications.length>1&&o.jsx("button",{onClick:()=>Q(oe),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:o.jsx(bd,{className:"w-4 h-4"})})]})]},oe))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Delivery Address (Optional)"}),o.jsx("textarea",{value:q.delivery_address,onChange:Y=>re(oe=>({...oe,delivery_address:Y.target.value})),rows:3,className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Notes"}),o.jsx("textarea",{value:q.notes,onChange:Y=>re(oe=>({...oe,notes:Y.target.value})),rows:3,className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900"})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>K(!1),className:"px-4 py-2 border border-slate-200 text-slate-600 text-sm font-medium rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:he,disabled:u,className:"px-4 py-2 bg-slate-900 text-white text-sm font-medium rounded-lg hover:bg-slate-800 transition-colors disabled:opacity-50",children:u?"Creating...":"Create Prescription"})]})]})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Prescriptions"}),o.jsxs("button",{onClick:()=>K(!0),className:"px-4 py-2 bg-slate-900 text-white text-sm font-medium rounded-lg hover:bg-slate-800 transition-colors flex items-center space-x-2",children:[o.jsx(la,{className:"w-4 h-4"}),o.jsx("span",{children:"New Prescription"})]})]}),o.jsx("div",{className:"bg-white rounded-2xl border border-slate-200/60",children:w.length===0?o.jsxs("div",{className:"p-12 text-center",children:[o.jsx(o0,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),o.jsx("p",{className:"text-slate-500 mb-2",children:"No prescriptions yet"}),o.jsx("p",{className:"text-sm text-slate-400",children:"Create your first prescription for a patient"})]}):o.jsx("div",{className:"divide-y divide-slate-100",children:w.map((Y,oe)=>{var qe,Zt;return o.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:oe*.05},className:"p-6 hover:bg-slate-50/50 transition-colors",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("h4",{className:"font-medium text-slate-900",children:((qe=Y.patient)==null?void 0:qe.first_name)||"Patient"}),o.jsxs("span",{className:"text-sm text-slate-500",children:["#",Y.reference_id]}),o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Y.status==="fulfilled"?"bg-emerald-100 text-emerald-700":Y.status==="processing"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:Y.status})]}),o.jsxs("p",{className:"text-sm text-slate-500 mb-2",children:["Created: ",new Date(Y.created_at).toLocaleDateString()]}),Y.prescription_items&&o.jsxs("div",{className:"text-sm text-slate-600",children:[o.jsx("p",{className:"font-medium mb-1",children:"Medications:"}),o.jsx("ul",{className:"list-disc list-inside",children:Y.prescription_items.map((hr,qs)=>o.jsxs("li",{children:[hr.medication_name," - ",hr.dosage," (Qty: ",hr.quantity,")"]},qs))})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("span",{className:"text-sm text-slate-400",children:((Zt=Y.pharmacy)==null?void 0:Zt.name)||"No pharmacy assigned"})})]})},Y.id)})})})]})}function L(){const R=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],[K,q]=h.useState(R.map((X,Q)=>({day_of_week:Q+1,day_name:X,start_time:"09:00",end_time:"17:00",is_active:!0})));h.useEffect(()=>{if(v.length>0){const X=R.map((Q,he)=>{const Y=v.find(oe=>oe.day_of_week===he+1);return Y?{...Y,day_name:Q}:{day_of_week:he+1,day_name:Q,start_time:"09:00",end_time:"17:00",is_active:!1}});q(X)}},[v]);const re=(X,Q,he)=>{q(Y=>Y.map((oe,qe)=>qe===X?{...oe,[Q]:he}:oe))},ce=async()=>{const X=K.filter(Q=>Q.is_active);await O(X)};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Availability Schedule"}),o.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200/60 p-6",children:[o.jsx("div",{className:"space-y-4",children:K.map((X,Q)=>o.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-slate-100 last:border-0",children:[o.jsx("div",{className:"w-24",children:o.jsx("p",{className:"font-medium text-slate-900",children:X.day_name})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("input",{type:"time",value:X.start_time,onChange:he=>re(Q,"start_time",he.target.value),disabled:!X.is_active,className:"px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-slate-900 disabled:bg-slate-50 disabled:text-slate-400"}),o.jsx("span",{className:"text-slate-400",children:"to"}),o.jsx("input",{type:"time",value:X.end_time,onChange:he=>re(Q,"end_time",he.target.value),disabled:!X.is_active,className:"px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-slate-900 disabled:bg-slate-50 disabled:text-slate-400"}),o.jsx("button",{onClick:()=>re(Q,"is_active",!X.is_active),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${X.is_active?"text-emerald-600 bg-emerald-50 hover:bg-emerald-100":"text-slate-400 bg-slate-50 hover:bg-slate-100"}`,children:X.is_active?"Available":"Unavailable"})]})]},X.day_name))}),o.jsx("div",{className:"mt-6 pt-6 border-t border-slate-200",children:o.jsx("button",{onClick:ce,disabled:u,className:"px-4 py-2 bg-slate-900 text-white text-sm font-medium rounded-lg hover:bg-slate-800 transition-colors disabled:opacity-50",children:u?"Saving...":"Save Changes"})})]})]})}function I(){return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Analytics & Insights"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200/60 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Monthly Performance"}),o.jsxs("div",{className:"text-center py-8",children:[o.jsx(xd,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),o.jsx("p",{className:"text-slate-500",children:"Analytics coming soon"})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200/60 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Patient Satisfaction"}),o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-2xl font-bold text-emerald-600",children:"4.8"})}),o.jsx("p",{className:"text-slate-500",children:"Average Rating"})]})]})]})]})}function H(){return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Messages"}),o.jsx("div",{className:"bg-white rounded-2xl border border-slate-200/60 p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ia,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),o.jsx("p",{className:"text-slate-500 mb-2",children:"No messages yet"}),o.jsx("p",{className:"text-sm text-slate-400",children:"Patient messages will appear here"})]})})]})}function F(){return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Profile Settings"}),o.jsx("div",{className:"bg-white rounded-2xl border border-slate-200/60 p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Full Name"}),o.jsx("input",{type:"text",defaultValue:(t==null?void 0:t.name)||"",className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Specialty"}),o.jsx("input",{type:"text",defaultValue:(t==null?void 0:t.specialty)||"",className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Phone Number"}),o.jsx("input",{type:"tel",defaultValue:(t==null?void 0:t.phone_number)||"",className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Consultation Fee (₵)"}),o.jsx("input",{type:"number",defaultValue:(t==null?void 0:t.consultation_fee)||"",className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Bio"}),o.jsx("textarea",{rows:4,defaultValue:(t==null?void 0:t.bio)||"",className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900"})]}),o.jsx("button",{className:"px-4 py-2 bg-slate-900 text-white text-sm font-medium rounded-lg hover:bg-slate-800 transition-colors",children:"Save Changes"})]})})]})}function z(){return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Settings"}),o.jsx("div",{className:"bg-white rounded-2xl border border-slate-200/60 p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Notifications"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-slate-300"}),o.jsx("span",{className:"ml-3 text-sm text-slate-700",children:"Email notifications for new bookings"})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-slate-300"}),o.jsx("span",{className:"ml-3 text-sm text-slate-700",children:"SMS reminders for appointments"})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",className:"rounded border-slate-300"}),o.jsx("span",{className:"ml-3 text-sm text-slate-700",children:"Weekly performance reports"})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Privacy"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-slate-300"}),o.jsx("span",{className:"ml-3 text-sm text-slate-700",children:"Show profile to patients"})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-slate-300"}),o.jsx("span",{className:"ml-3 text-sm text-slate-700",children:"Allow direct messages from patients"})]})]})]}),o.jsx("button",{className:"px-4 py-2 bg-slate-900 text-white text-sm font-medium rounded-lg hover:bg-slate-800 transition-colors",children:"Save Settings"})]})})]})}}const HA="https://oma-db-service-pcxd.onrender.com",qA=HA.replace(/\/+$/,""),KA=!1;function YA({children:e}){const[t,n]=h.useState(!1),[r,s]=h.useState(!0),i=cr();h.useEffect(()=>{a()},[]);const a=async()=>{try{const l=localStorage.getItem("doctorToken"),c=localStorage.getItem("doctorPhone");if(!l||!c){n(!1),s(!1);return}if(!KA){const u=await fetch(`${qA}/doctor/me`,{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});u.ok?n(!0):u.status===401||u.status===403?(localStorage.removeItem("doctorToken"),localStorage.removeItem("doctorPhone"),n(!1)):(console.warn("Auth check non-OK status:",u.status),n(!0))}}catch(l){console.error("Auth check error:",l),n(!0)}finally{s(!1)}};return r?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Verifying authentication..."})]})}):t?e:o.jsx(Tf,{to:"/doctor/login",replace:!0,state:{from:i}})}function GA(){const{user:e}=$t();return o.jsxs(K2,{children:[o.jsx(Ge,{path:"/login",element:e?o.jsx(Tf,{to:"/"}):o.jsx(v3,{})}),o.jsx(Ge,{path:"/doctor/login",element:o.jsx(BA,{})}),o.jsx(Ge,{path:"/doctor/dashboard",element:o.jsx(YA,{children:o.jsx(WA,{})})}),o.jsxs(Ge,{path:"/",element:o.jsx(RA,{children:o.jsx(IS,{children:o.jsx(OA,{})})}),children:[o.jsx(Ge,{index:!0,element:o.jsx(bT,{})}),o.jsx(Ge,{path:"escalations",element:o.jsx(f3,{})}),o.jsx(Ge,{path:"chat/:sessionId",element:o.jsx(h3,{})}),o.jsx(Ge,{path:"kyc",element:o.jsx(p3,{})}),o.jsx(Ge,{path:"users",element:o.jsx(y3,{})}),o.jsx(Ge,{path:"users/:userId",element:o.jsx(g3,{})}),o.jsx(Ge,{path:"doctors",element:o.jsx(MA,{})}),o.jsx(Ge,{path:"doctors/:doctorId",element:o.jsx(LA,{})}),o.jsx(Ge,{path:"bookings",element:o.jsx(IA,{})}),o.jsx(Ge,{path:"bookings/:bookingId",element:o.jsx(FA,{})}),o.jsx(Ge,{path:"pharmacies",element:o.jsx(UA,{})})]})]})}eu.createRoot(document.getElementById("root")).render(o.jsx(ee.StrictMode,{children:o.jsx(ej,{children:o.jsxs(xk,{children:[o.jsx(GA,{}),o.jsx(d3,{position:"top-right"})]})})}));export{Ew as g};
